{"D:\\project_team077\\src\\controller\\InsightFacade.ts":{"path":"D:\\project_team077\\src\\controller\\InsightFacade.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":25},"end":{"line":6,"column":52}},"4":{"start":{"line":7,"column":16},"end":{"line":7,"column":49}},"5":{"start":{"line":8,"column":19},"end":{"line":8,"column":55}},"6":{"start":{"line":9,"column":22},"end":{"line":9,"column":46}},"7":{"start":{"line":10,"column":16},"end":{"line":10,"column":34}},"8":{"start":{"line":11,"column":22},"end":{"line":11,"column":46}},"9":{"start":{"line":12,"column":21},"end":{"line":12,"column":44}},"10":{"start":{"line":13,"column":24},"end":{"line":13,"column":50}},"11":{"start":{"line":16,"column":20},"end":{"line":16,"column":41}},"12":{"start":{"line":17,"column":23},"end":{"line":17,"column":25}},"13":{"start":{"line":18,"column":23},"end":{"line":18,"column":62}},"14":{"start":{"line":19,"column":8},"end":{"line":21,"column":9}},"15":{"start":{"line":20,"column":12},"end":{"line":20,"column":83}},"16":{"start":{"line":22,"column":8},"end":{"line":24,"column":9}},"17":{"start":{"line":23,"column":12},"end":{"line":23,"column":85}},"18":{"start":{"line":25,"column":8},"end":{"line":39,"column":9}},"19":{"start":{"line":26,"column":24},"end":{"line":26,"column":72}},"20":{"start":{"line":27,"column":12},"end":{"line":32,"column":13}},"21":{"start":{"line":28,"column":16},"end":{"line":28,"column":78}},"22":{"start":{"line":30,"column":17},"end":{"line":32,"column":13}},"23":{"start":{"line":31,"column":16},"end":{"line":31,"column":72}},"24":{"start":{"line":33,"column":25},"end":{"line":33,"column":67}},"25":{"start":{"line":34,"column":12},"end":{"line":34,"column":68}},"26":{"start":{"line":35,"column":12},"end":{"line":35,"column":43}},"27":{"start":{"line":38,"column":12},"end":{"line":38,"column":99}},"28":{"start":{"line":42,"column":21},"end":{"line":42,"column":23}},"29":{"start":{"line":43,"column":8},"end":{"line":43,"column":35}},"30":{"start":{"line":44,"column":8},"end":{"line":46,"column":9}},"31":{"start":{"line":45,"column":12},"end":{"line":45,"column":29}},"32":{"start":{"line":47,"column":8},"end":{"line":47,"column":22}},"33":{"start":{"line":50,"column":8},"end":{"line":55,"column":9}},"34":{"start":{"line":51,"column":12},"end":{"line":51,"column":24}},"35":{"start":{"line":54,"column":12},"end":{"line":54,"column":25}},"36":{"start":{"line":58,"column":23},"end":{"line":58,"column":62}},"37":{"start":{"line":59,"column":8},"end":{"line":73,"column":9}},"38":{"start":{"line":60,"column":12},"end":{"line":62,"column":13}},"39":{"start":{"line":61,"column":16},"end":{"line":61,"column":87}},"40":{"start":{"line":63,"column":12},"end":{"line":65,"column":13}},"41":{"start":{"line":64,"column":16},"end":{"line":64,"column":112}},"42":{"start":{"line":66,"column":12},"end":{"line":66,"column":32}},"43":{"start":{"line":67,"column":12},"end":{"line":67,"column":70}},"44":{"start":{"line":68,"column":12},"end":{"line":68,"column":39}},"45":{"start":{"line":71,"column":12},"end":{"line":71,"column":29}},"46":{"start":{"line":72,"column":12},"end":{"line":72,"column":91}},"47":{"start":{"line":76,"column":8},"end":{"line":82,"column":9}},"48":{"start":{"line":77,"column":31},"end":{"line":77,"column":52}},"49":{"start":{"line":78,"column":32},"end":{"line":78,"column":54}},"50":{"start":{"line":81,"column":12},"end":{"line":81,"column":71}},"51":{"start":{"line":83,"column":25},"end":{"line":83,"column":46}},"52":{"start":{"line":84,"column":21},"end":{"line":84,"column":43}},"53":{"start":{"line":85,"column":26},"end":{"line":85,"column":45}},"54":{"start":{"line":86,"column":21},"end":{"line":86,"column":41}},"55":{"start":{"line":87,"column":24},"end":{"line":87,"column":83}},"56":{"start":{"line":88,"column":8},"end":{"line":90,"column":9}},"57":{"start":{"line":89,"column":12},"end":{"line":89,"column":85}},"58":{"start":{"line":91,"column":8},"end":{"line":93,"column":9}},"59":{"start":{"line":92,"column":12},"end":{"line":92,"column":90}},"60":{"start":{"line":94,"column":8},"end":{"line":96,"column":9}},"61":{"start":{"line":95,"column":12},"end":{"line":95,"column":103}},"62":{"start":{"line":97,"column":8},"end":{"line":97,"column":46}},"63":{"start":{"line":98,"column":23},"end":{"line":98,"column":62}},"64":{"start":{"line":99,"column":22},"end":{"line":99,"column":70}},"65":{"start":{"line":100,"column":8},"end":{"line":102,"column":9}},"66":{"start":{"line":101,"column":12},"end":{"line":101,"column":88}},"67":{"start":{"line":103,"column":21},"end":{"line":103,"column":23}},"68":{"start":{"line":104,"column":8},"end":{"line":114,"column":9}},"69":{"start":{"line":105,"column":12},"end":{"line":105,"column":81}},"70":{"start":{"line":108,"column":12},"end":{"line":113,"column":13}},"71":{"start":{"line":109,"column":16},"end":{"line":109,"column":41}},"72":{"start":{"line":112,"column":16},"end":{"line":112,"column":90}},"73":{"start":{"line":115,"column":8},"end":{"line":115,"column":58}},"74":{"start":{"line":116,"column":22},"end":{"line":116,"column":24}},"75":{"start":{"line":117,"column":8},"end":{"line":117,"column":75}},"76":{"start":{"line":118,"column":8},"end":{"line":118,"column":63}},"77":{"start":{"line":119,"column":8},"end":{"line":124,"column":9}},"78":{"start":{"line":120,"column":12},"end":{"line":120,"column":97}},"79":{"start":{"line":123,"column":12},"end":{"line":123,"column":43}},"80":{"start":{"line":127,"column":21},"end":{"line":127,"column":23}},"81":{"start":{"line":128,"column":23},"end":{"line":128,"column":62}},"82":{"start":{"line":129,"column":19},"end":{"line":129,"column":41}},"83":{"start":{"line":130,"column":8},"end":{"line":138,"column":9}},"84":{"start":{"line":131,"column":26},"end":{"line":131,"column":55}},"85":{"start":{"line":132,"column":28},"end":{"line":136,"column":13}},"86":{"start":{"line":137,"column":12},"end":{"line":137,"column":33}},"87":{"start":{"line":139,"column":8},"end":{"line":139,"column":39}},"88":{"start":{"line":142,"column":8},"end":{"line":149,"column":9}},"89":{"start":{"line":143,"column":12},"end":{"line":148,"column":13}},"90":{"start":{"line":144,"column":16},"end":{"line":144,"column":65}},"91":{"start":{"line":146,"column":17},"end":{"line":148,"column":13}},"92":{"start":{"line":147,"column":16},"end":{"line":147,"column":68}},"93":{"start":{"line":150,"column":8},"end":{"line":150,"column":57}},"94":{"start":{"line":153,"column":0},"end":{"line":153,"column":32}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":15,"column":4},"end":{"line":15,"column":5}},"loc":{"start":{"line":15,"column":40},"end":{"line":40,"column":5}},"line":15},"2":{"name":"(anonymous_2)","decl":{"start":{"line":41,"column":4},"end":{"line":41,"column":5}},"loc":{"start":{"line":41,"column":42},"end":{"line":48,"column":5}},"line":41},"3":{"name":"(anonymous_3)","decl":{"start":{"line":49,"column":4},"end":{"line":49,"column":5}},"loc":{"start":{"line":49,"column":32},"end":{"line":56,"column":5}},"line":49},"4":{"name":"(anonymous_4)","decl":{"start":{"line":57,"column":4},"end":{"line":57,"column":5}},"loc":{"start":{"line":57,"column":28},"end":{"line":74,"column":5}},"line":57},"5":{"name":"(anonymous_5)","decl":{"start":{"line":75,"column":4},"end":{"line":75,"column":5}},"loc":{"start":{"line":75,"column":30},"end":{"line":125,"column":5}},"line":75},"6":{"name":"(anonymous_6)","decl":{"start":{"line":126,"column":4},"end":{"line":126,"column":5}},"loc":{"start":{"line":126,"column":25},"end":{"line":140,"column":5}},"line":126},"7":{"name":"(anonymous_7)","decl":{"start":{"line":141,"column":4},"end":{"line":141,"column":5}},"loc":{"start":{"line":141,"column":22},"end":{"line":151,"column":5}},"line":141}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":19,"column":8},"end":{"line":21,"column":9}},"type":"if","locations":[{"start":{"line":19,"column":8},"end":{"line":21,"column":9}},{"start":{"line":19,"column":8},"end":{"line":21,"column":9}}],"line":19},"4":{"loc":{"start":{"line":19,"column":12},"end":{"line":19,"column":92}},"type":"binary-expr","locations":[{"start":{"line":19,"column":12},"end":{"line":19,"column":28}},{"start":{"line":19,"column":33},"end":{"line":19,"column":55}},{"start":{"line":19,"column":60},"end":{"line":19,"column":92}}],"line":19},"5":{"loc":{"start":{"line":22,"column":8},"end":{"line":24,"column":9}},"type":"if","locations":[{"start":{"line":22,"column":8},"end":{"line":24,"column":9}},{"start":{"line":22,"column":8},"end":{"line":24,"column":9}}],"line":22},"6":{"loc":{"start":{"line":22,"column":12},"end":{"line":22,"column":51}},"type":"binary-expr","locations":[{"start":{"line":22,"column":12},"end":{"line":22,"column":31}},{"start":{"line":22,"column":35},"end":{"line":22,"column":51}}],"line":22},"7":{"loc":{"start":{"line":27,"column":12},"end":{"line":32,"column":13}},"type":"if","locations":[{"start":{"line":27,"column":12},"end":{"line":32,"column":13}},{"start":{"line":27,"column":12},"end":{"line":32,"column":13}}],"line":27},"8":{"loc":{"start":{"line":30,"column":17},"end":{"line":32,"column":13}},"type":"if","locations":[{"start":{"line":30,"column":17},"end":{"line":32,"column":13}},{"start":{"line":30,"column":17},"end":{"line":32,"column":13}}],"line":30},"9":{"loc":{"start":{"line":50,"column":8},"end":{"line":55,"column":9}},"type":"if","locations":[{"start":{"line":50,"column":8},"end":{"line":55,"column":9}},{"start":{"line":50,"column":8},"end":{"line":55,"column":9}}],"line":50},"10":{"loc":{"start":{"line":60,"column":12},"end":{"line":62,"column":13}},"type":"if","locations":[{"start":{"line":60,"column":12},"end":{"line":62,"column":13}},{"start":{"line":60,"column":12},"end":{"line":62,"column":13}}],"line":60},"11":{"loc":{"start":{"line":60,"column":16},"end":{"line":60,"column":55}},"type":"binary-expr","locations":[{"start":{"line":60,"column":16},"end":{"line":60,"column":32}},{"start":{"line":60,"column":37},"end":{"line":60,"column":54}}],"line":60},"12":{"loc":{"start":{"line":63,"column":12},"end":{"line":65,"column":13}},"type":"if","locations":[{"start":{"line":63,"column":12},"end":{"line":65,"column":13}},{"start":{"line":63,"column":12},"end":{"line":65,"column":13}}],"line":63},"13":{"loc":{"start":{"line":88,"column":8},"end":{"line":90,"column":9}},"type":"if","locations":[{"start":{"line":88,"column":8},"end":{"line":90,"column":9}},{"start":{"line":88,"column":8},"end":{"line":90,"column":9}}],"line":88},"14":{"loc":{"start":{"line":91,"column":8},"end":{"line":93,"column":9}},"type":"if","locations":[{"start":{"line":91,"column":8},"end":{"line":93,"column":9}},{"start":{"line":91,"column":8},"end":{"line":93,"column":9}}],"line":91},"15":{"loc":{"start":{"line":94,"column":8},"end":{"line":96,"column":9}},"type":"if","locations":[{"start":{"line":94,"column":8},"end":{"line":96,"column":9}},{"start":{"line":94,"column":8},"end":{"line":96,"column":9}}],"line":94},"16":{"loc":{"start":{"line":100,"column":8},"end":{"line":102,"column":9}},"type":"if","locations":[{"start":{"line":100,"column":8},"end":{"line":102,"column":9}},{"start":{"line":100,"column":8},"end":{"line":102,"column":9}}],"line":100},"17":{"loc":{"start":{"line":108,"column":12},"end":{"line":113,"column":13}},"type":"if","locations":[{"start":{"line":108,"column":12},"end":{"line":113,"column":13}},{"start":{"line":108,"column":12},"end":{"line":113,"column":13}}],"line":108},"18":{"loc":{"start":{"line":119,"column":8},"end":{"line":124,"column":9}},"type":"if","locations":[{"start":{"line":119,"column":8},"end":{"line":124,"column":9}},{"start":{"line":119,"column":8},"end":{"line":124,"column":9}}],"line":119},"19":{"loc":{"start":{"line":131,"column":26},"end":{"line":131,"column":55}},"type":"binary-expr","locations":[{"start":{"line":131,"column":26},"end":{"line":131,"column":50}},{"start":{"line":131,"column":54},"end":{"line":131,"column":55}}],"line":131},"20":{"loc":{"start":{"line":143,"column":12},"end":{"line":148,"column":13}},"type":"if","locations":[{"start":{"line":143,"column":12},"end":{"line":148,"column":13}},{"start":{"line":143,"column":12},"end":{"line":148,"column":13}}],"line":143},"21":{"loc":{"start":{"line":143,"column":16},"end":{"line":143,"column":59}},"type":"binary-expr","locations":[{"start":{"line":143,"column":16},"end":{"line":143,"column":33}},{"start":{"line":143,"column":37},"end":{"line":143,"column":59}}],"line":143},"22":{"loc":{"start":{"line":146,"column":17},"end":{"line":148,"column":13}},"type":"if","locations":[{"start":{"line":146,"column":17},"end":{"line":148,"column":13}},{"start":{"line":146,"column":17},"end":{"line":148,"column":13}}],"line":146}},"s":{"0":1,"1":2,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":40,"12":40,"13":40,"14":40,"15":4,"16":36,"17":0,"18":36,"19":36,"20":35,"21":21,"22":14,"23":14,"24":28,"25":28,"26":28,"27":8,"28":28,"29":28,"30":28,"31":39,"32":28,"33":37,"34":1,"35":36,"36":7,"37":7,"38":7,"39":3,"40":4,"41":1,"42":3,"43":3,"44":3,"45":0,"46":0,"47":53,"48":53,"49":53,"50":0,"51":53,"52":53,"53":53,"54":53,"55":53,"56":53,"57":24,"58":29,"59":1,"60":28,"61":0,"62":28,"63":28,"64":28,"65":28,"66":1,"67":27,"68":27,"69":27,"70":2,"71":2,"72":0,"73":25,"74":25,"75":25,"76":25,"77":25,"78":0,"79":25,"80":6,"81":6,"82":6,"83":6,"84":9,"85":9,"86":9,"87":6,"88":6,"89":7,"90":0,"91":7,"92":4,"93":2,"94":1},"f":{"0":2,"1":40,"2":28,"3":37,"4":7,"5":53,"6":6,"7":6},"b":{"0":[1,1,1],"1":[0,2],"2":[2,2],"3":[4,36],"4":[40,39,37],"5":[0,36],"6":[36,14],"7":[21,14],"8":[14,0],"9":[1,36],"10":[3,4],"11":[7,6],"12":[1,3],"13":[24,29],"14":[1,28],"15":[0,28],"16":[1,27],"17":[2,0],"18":[0,25],"19":[9,0],"20":[0,7],"21":[7,7],"22":[4,3]},"inputSourceMap":{"version":3,"file":"D:/project_team077/src/controller/InsightFacade.ts","sources":["D:/project_team077/src/controller/InsightFacade.ts"],"names":[],"mappings":"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","sourcesContent":["import {\r\n\tIInsightFacade,\r\n\tInsightDataset,\r\n\tInsightDatasetKind,\r\n\tInsightError,\r\n\tInsightResult,\r\n\tNotFoundError,\r\n\tResultTooLargeError\r\n} from \"./IInsightFacade\";\r\nimport JSZip from \"jszip\";\r\nimport {ISection} from \"./ISection\";\r\nimport fs from \"fs-extra\";\r\nimport {loadFromDisk, saveToDisk} from \"./SaveandLoad\";\r\nimport clean = Mocha.utils.clean;\r\nimport {Query, Query2, Filter,\r\n\tLogicComparison, filterResult} from \"./Query\";\r\nimport {SComparison,\r\n\tNegation,\r\n\tEmptyClass,\r\n\tOptions} from \"./Query2\";\r\nimport {findDataset, removeAllUuid, sortResult, groupAndapply} from \"./IsValidJson\";\r\nimport {MComparison} from \"./Query3\";\r\nimport {dealwithRoom} from \"./RoomHelper\";\r\nimport {dealwithSection} from \"./SectionHelper\";\r\nimport {IRoom} from \"./IRoom\";\r\n\r\n\r\n/**\r\n * This is the main programmatic entry point for the project.\r\n * Method documentation is in IInsightFacade\r\n *\r\n */\r\n\r\nexport default class InsightFacade implements IInsightFacade {\r\n\t// Reference: https://www.tutorialspoint.com/handling-promise-rejection-with-a-catch-while-using-await-in-javascript\r\n\t// Reference:https://stackoverflow.com/questions/10261986/how-to-detect-string-which-contains-only-spaces\r\n\t// Reference:https://stuk.github.io/jszip/documentation/api_jszip\r\n\t// Reference:https://github.com/ubccpsc/310/blob/main/resources/readings/cookbooks/async.md#singlePromise\r\n\t// Reference: https://itecnote.com/tecnote/javascript-extracting-zipped-files-using-jszip-in-javascript\r\n\t// Reference: https://www.reddit.com/r/learnjavascript/comments/pn75j2/having_trouble_understanding_promises/\r\n\r\n\t// Should return a Promise fulfill with a string array,containing the ids of all currently added datasets upon a successful add.\r\n\t// OR reject with an InsightError describing the error.\r\n\r\n\tpublic async addDataset(id: string, content: string, kind: InsightDatasetKind): Promise<string[]> {\r\n\t\tlet jsZip = new JSZip();\r\n\t\tlet dataList: ISection[] | IRoom[] = [];\r\n\t\tlet datasets = await loadFromDisk();\r\n\t\t// let isValid;\r\n\r\n\r\n\t\t// Check if ID is valid\r\n\t\tif (id.includes(\"_\") || (id.trim().length === 0) || this.hasDuplicates(id, datasets)) {\r\n\t\t\treturn Promise.reject(new InsightError(\"Invalid id\"));\r\n\t\t}\r\n\r\n\t\t// Check is kind is valid(either sections or rooms)\r\n\t\tif (kind !== \"sections\" && kind !== \"rooms\") {\r\n\t\t\treturn Promise.reject(new InsightError(\"Invalid kind\"));\r\n\t\t}\r\n\r\n\t\t// Check if content is valid\r\n\t\ttry {\r\n\t\t\tconst zip = await jsZip.loadAsync(content, {base64: true});\r\n\t\t\tif (kind === \"sections\") {\r\n\t\t\t\tawait dealwithSection(id, zip, dataList);\r\n\t\t\t} else if (kind === \"rooms\") {\r\n\t\t\t\tawait dealwithRoom(id, zip, dataList);\r\n\t\t\t}\r\n\t\t\t//\r\n\t\t\t// if(!isValid){\r\n\t\t\t// \treturn Promise.reject(new InsightError(\"Rejected with invalid content\"));\r\n\t\t\t// } else {\r\n\t\t\tlet idList = this.addtoDataSets(id, dataList, datasets); // add this dataset to datasets\r\n\t\t\tawait saveToDisk(id, dataList, kind); // Save the newly added dataset to disk\r\n\t\t\treturn Promise.resolve(idList); // return the fulfilled promise\r\n\t\t\t// }\r\n\t\t} catch (err) {\r\n\t\t\treturn Promise.reject(new InsightError(\"Parse - ERROR; err: \" + err));\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t// Create the new Dataset  and add to DataSet List\r\n// The promise should fulfill with a string array, containing the ids of all currently added datasets upon a successful add.\r\n\tprivate addtoDataSets(id: string, dataList: ISection[] | IRoom[], datasets: Map<string, ISection[] | IRoom[]>) {\r\n\t\tlet idList: string[] = [];\r\n\t\tdatasets.set(id, dataList);\r\n\t\tfor (let key of datasets.keys()) {\r\n\t\t\tidList.push(key);\r\n\t\t}\r\n\t\treturn idList;\r\n\t}\r\n\r\n\tprivate hasDuplicates(id: string, datasets: Map<string, ISection[] | IRoom[]>) {\r\n\t\t// IN map,if the specified key exists, then the value is returned. Otherwise, undefined is returned.\r\n\t\tif (datasets.get(id) !== undefined) {\r\n\t\t\treturn true;\r\n\t\t} else {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n\t// The promise should fulfill the id of the dataset that was removed.\r\n\t// The promise should reject with a NotFoundError (if a valid id was not yet added)\r\n\t// or an InsightError (invalid id or any other source of failure) describing the error.\r\n\t// Should also delete from disks and memory caches\r\n\tpublic async removeDataset(id: string): Promise<string> {\r\n\t\tlet datasets = await loadFromDisk();\r\n\t\ttry {\r\n\t\t\tif (id.includes(\"_\") || (!id.trim().length)) {\r\n\t\t\t\treturn Promise.reject(new InsightError(\"Invalid id\"));\r\n\t\t\t}\r\n\t\t\tif (datasets.get(id) === undefined) {\r\n\t\t\t\treturn Promise.reject(new NotFoundError(\"Cannot find the id in our datasets\"));\r\n\t\t\t}\r\n\t\t\t// remove the dataset from datasets\r\n\t\t\tdatasets.delete(id);\r\n\t\t\t// remove the dataset from disk\r\n\t\t\tawait fs.remove(\"./data/\" + id + \".json\");\r\n\t\t\treturn Promise.resolve(id);\r\n\t\t} catch (err) {\r\n\t\t\tconsole.log(err);\r\n\t\t\treturn Promise.reject(new InsightError(\"ERROR; err: \" + err));\r\n\t\t}\r\n\t}\r\n\r\n\tpublic async performQuery(query: unknown): Promise<InsightResult[]> {\r\n\t\ttry {\r\n\t\t\tconst jsonString: string = JSON.stringify(query);\r\n\t\t\tconst parsedQuery = JSON.parse(jsonString);\r\n\t\t} catch (error) {\r\n\t\t\treturn Promise.reject(new InsightError());\r\n\t\t}\r\n\t\tlet jsonString: string = JSON.stringify(query);\r\n\t\tlet parsed: any = JSON.parse(jsonString);\r\n\t\tlet parsedQuery = new Query();\r\n\t\tlet query2 = new Query2();\r\n\t\tconst isValid = await parsedQuery.isValidQuery(parsedQuery, parsed, query2);\r\n\t\tif (!isValid) {\r\n\t\t\treturn Promise.reject(new InsightError(\"InsightError\"));\r\n\t\t}\r\n\t\tif (!Query2.order_in_columns(query2)) {\r\n\t\t\treturn Promise.reject(new InsightError(\"OrderNotInColumns\"));\r\n\t\t}\r\n\t\tif (!Query2.columns_in_groups_apply(query2)) {\r\n\t\t\treturn Promise.reject(new InsightError(\"Columns not in groups or apply\"));\r\n\t\t}\r\n\t\tQuery2.columns_to_col(query2);\r\n\t\tlet datasets = await loadFromDisk();\r\n\t\tlet dataset = findDataset(query2, datasets);\r\n\t\tif (dataset === undefined) {\r\n\t\t\treturn Promise.reject(new InsightError(\"DatasetNotFound\"));\r\n\t\t}\r\n\t\tlet result: InsightResult[] = [];\r\n\t\ttry {\r\n\t\t\tresult = filterResult(parsed.WHERE, query2, dataset, 0);\r\n\t\t} catch (e) {\r\n\t\t\tif (e instanceof ResultTooLargeError) {\r\n\t\t\t\treturn Promise.reject(e);\r\n\t\t\t} else {\r\n\t\t\t\treturn Promise.reject(new InsightError(\"Unkonwn error\"));\r\n\t\t\t}\r\n\t\t}\r\n\t\t// Remove uuid for comparison\r\n\t\tresult = removeAllUuid(result);\r\n\t\tlet result2: InsightResult[][] = [];\r\n\t\tresult = groupAndapply(result,result2,query2);\r\n\t\t// Sort in ORDER (query2.sort)\r\n\t\tresult = sortResult(result, query2);\r\n\t\tif (result.length > 5000) {\r\n\t\t\treturn Promise.reject(new ResultTooLargeError(\"Over 5000 results\"));\r\n\t\t} else {\r\n\t\t\treturn Promise.resolve(result);\r\n\t\t}\r\n\t}\r\n\r\n\t// returns an array of currently added datasets.\r\n\t// Each element of the array should describe a dataset following the InsightDataset interface\r\n\t// which contains the dataset id, kind, and number of rows.\r\n\r\n\t// Reference: https://stackoverflow.com/questions/13142635/how-can-i-create-an-object-based-on-an-interface-file-definition-in-typescript\r\n\tpublic async listDatasets(): Promise<InsightDataset[]> {\r\n\t\tlet result: InsightDataset[] = [];\r\n\t\tlet datasets: Map<string, ISection[] | IRoom[]> = await loadFromDisk();\r\n\t\t// if (datasets.size === 0){\r\n\t\t// \treturn Promise.resolve(result);\r\n\t\t// }\r\n\t\tlet kind = this.getKind(datasets);\r\n\t\t// let kind = InsightDatasetKind.Sections;\r\n\t\tfor (let id of datasets.keys()) {\r\n\t\t\tlet numRows = datasets.get(id)?.length || 0;\r\n\t\t\tconst dataset: InsightDataset = {\r\n\t\t\t\tid: id,\r\n\t\t\t\tkind: kind,\r\n\t\t\t\tnumRows: numRows\r\n\t\t\t};\r\n\t\t\tresult.push(dataset);\r\n\t\t}\r\n\t\t// }\r\n\r\n\t\treturn Promise.resolve(result);\r\n\t}\r\n\r\n\tprivate getKind(datasets: Map<string, ISection[] | IRoom[]>) {\r\n\t\tfor (let value of datasets.values()) {\r\n\t\t\tif (value[1] === null || value[1] === undefined) {\r\n\t\t\t\treturn InsightDatasetKind.Rooms;\r\n\t\t\t} else if(\"uuid\" in value[1]){\r\n\t\t\t\treturn InsightDatasetKind.Sections;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn InsightDatasetKind.Rooms;\r\n\t}\r\n}\r\n\r\n\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"96484b5b4d1f740ac8a7c65cfac6ba83d3face86","contentHash":"7e38b69552be722673a9433e3309583d3298fd2d45a04a45d5bf0a4a0c772d4d"},"D:\\project_team077\\src\\controller\\IInsightFacade.ts":{"path":"D:\\project_team077\\src\\controller\\IInsightFacade.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":113}},"2":{"start":{"line":5,"column":0},"end":{"line":8,"column":89}},"3":{"start":{"line":6,"column":4},"end":{"line":6,"column":48}},"4":{"start":{"line":7,"column":4},"end":{"line":7,"column":42}},"5":{"start":{"line":11,"column":8},"end":{"line":11,"column":23}},"6":{"start":{"line":12,"column":8},"end":{"line":12,"column":52}},"7":{"start":{"line":15,"column":0},"end":{"line":15,"column":36}},"8":{"start":{"line":18,"column":8},"end":{"line":18,"column":23}},"9":{"start":{"line":19,"column":8},"end":{"line":19,"column":53}},"10":{"start":{"line":22,"column":0},"end":{"line":22,"column":38}},"11":{"start":{"line":25,"column":8},"end":{"line":25,"column":23}},"12":{"start":{"line":26,"column":8},"end":{"line":26,"column":59}},"13":{"start":{"line":29,"column":0},"end":{"line":29,"column":50}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":1},"end":{"line":5,"column":2}},"loc":{"start":{"line":5,"column":31},"end":{"line":8,"column":1}},"line":5},"1":{"name":"(anonymous_1)","decl":{"start":{"line":10,"column":4},"end":{"line":10,"column":5}},"loc":{"start":{"line":10,"column":25},"end":{"line":13,"column":5}},"line":10},"2":{"name":"(anonymous_2)","decl":{"start":{"line":17,"column":4},"end":{"line":17,"column":5}},"loc":{"start":{"line":17,"column":25},"end":{"line":20,"column":5}},"line":17},"3":{"name":"(anonymous_3)","decl":{"start":{"line":24,"column":4},"end":{"line":24,"column":5}},"loc":{"start":{"line":24,"column":25},"end":{"line":27,"column":5}},"line":24}},"branchMap":{"0":{"loc":{"start":{"line":8,"column":24},"end":{"line":8,"column":87}},"type":"binary-expr","locations":[{"start":{"line":8,"column":24},"end":{"line":8,"column":50}},{"start":{"line":8,"column":55},"end":{"line":8,"column":86}}],"line":8}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":48,"6":48,"7":1,"8":1,"9":1,"10":1,"11":2,"12":2,"13":1},"f":{"0":1,"1":48,"2":1,"3":2},"b":{"0":[1,1]},"inputSourceMap":{"version":3,"file":"D:/project_team077/src/controller/IInsightFacade.ts","sources":["D:/project_team077/src/controller/IInsightFacade.ts"],"names":[],"mappings":";;;AAMA,IAAY,kBAGX;AAHD,WAAY,kBAAkB;IAC7B,2CAAqB,CAAA;IACrB,qCAAe,CAAA;AAChB,CAAC,EAHW,kBAAkB,GAAlB,0BAAkB,KAAlB,0BAAkB,QAG7B;AAYD,MAAa,YAAa,SAAQ,KAAK;IACtC,YAAY,OAAgB;QAC3B,KAAK,CAAC,OAAO,CAAC,CAAC;QACf,KAAK,CAAC,iBAAiB,CAAC,IAAI,EAAE,YAAY,CAAC,CAAC;IAC7C,CAAC;CACD;AALD,oCAKC;AAED,MAAa,aAAc,SAAQ,KAAK;IACvC,YAAY,OAAgB;QAC3B,KAAK,CAAC,OAAO,CAAC,CAAC;QACf,KAAK,CAAC,iBAAiB,CAAC,IAAI,EAAE,aAAa,CAAC,CAAC;IAC9C,CAAC;CACD;AALD,sCAKC;AAED,MAAa,mBAAoB,SAAQ,KAAK;IAC7C,YAAY,OAAgB;QAC3B,KAAK,CAAC,OAAO,CAAC,CAAC;QACf,KAAK,CAAC,iBAAiB,CAAC,IAAI,EAAE,mBAAmB,CAAC,CAAC;IACpD,CAAC;CACD;AALD,kDAKC","sourcesContent":["/*\r\n * This is the primary high-level API for the project. In this folder there should be:\r\n * A class called InsightFacade, this should be in a file called InsightFacade.ts.\r\n * You should not change this interface at all or the test suite will not work.\r\n */\r\n\r\nexport enum InsightDatasetKind {\r\n\tSections = \"sections\",\r\n\tRooms = \"rooms\",\r\n}\r\n\r\nexport interface InsightDataset {\r\n\tid: string;\r\n\tkind: InsightDatasetKind;\r\n\tnumRows: number;\r\n}\r\n\r\nexport interface InsightResult {\r\n\t[key: string]: string | number;\r\n}\r\n\r\nexport class InsightError extends Error {\r\n\tconstructor(message?: string) {\r\n\t\tsuper(message);\r\n\t\tError.captureStackTrace(this, InsightError);\r\n\t}\r\n}\r\n\r\nexport class NotFoundError extends Error {\r\n\tconstructor(message?: string) {\r\n\t\tsuper(message);\r\n\t\tError.captureStackTrace(this, NotFoundError);\r\n\t}\r\n}\r\n\r\nexport class ResultTooLargeError extends Error {\r\n\tconstructor(message?: string) {\r\n\t\tsuper(message);\r\n\t\tError.captureStackTrace(this, ResultTooLargeError);\r\n\t}\r\n}\r\n\r\nexport interface IInsightFacade {\r\n\t/**\r\n\t * Add a dataset to insightUBC.\r\n\t *\r\n\t * @param id  The id of the dataset being added. Follows the format /^[^_]+$/\r\n\t * @param content  The base64 content of the dataset. This content should be in the form of a serialized zip file.\r\n\t * @param kind  The kind of the dataset\r\n\t *\r\n\t * @return Promise <string[]>\r\n\t *\r\n\t * The promise should fulfill on a successful add, reject for any failures.\r\n\t * The promise should fulfill with a string array,\r\n\t * containing the ids of all currently added datasets upon a successful add.\r\n\t * The promise should reject with an InsightError describing the error.\r\n\t *\r\n\t * An id is invalid if it contains an underscore, or is only whitespace characters.\r\n\t * If id is the same as the id of an already added dataset, the dataset should be rejected and not saved.\r\n\t *\r\n\t * After receiving the dataset, it should be processed into a data structure of\r\n\t * your design. The processed data structure should be persisted to disk; your\r\n\t * system should be able to load this persisted value into memory for answering\r\n\t * queries.\r\n\t *\r\n\t * Ultimately, a dataset must be added or loaded from disk before queries can\r\n\t * be successfully answered.\r\n\t */\r\n\taddDataset(id: string, content: string, kind: InsightDatasetKind): Promise<string[]>;\r\n\r\n\t/**\r\n\t * Remove a dataset from insightUBC.\r\n\t *\r\n\t * @param id  The id of the dataset to remove. Follows the format /^[^_]+$/\r\n\t *\r\n\t * @return Promise <string>\r\n\t *\r\n\t * The promise should fulfill upon a successful removal, reject on any error.\r\n\t * Attempting to remove a dataset that hasn't been added yet counts as an error.\r\n\t *\r\n\t * An id is invalid if it contains an underscore, or is only whitespace characters.\r\n\t *\r\n\t * The promise should fulfill the id of the dataset that was removed.\r\n\t * The promise should reject with a NotFoundError (if a valid id was not yet added)\r\n\t * or an InsightError (invalid id or any other source of failure) describing the error.\r\n\t *\r\n\t * This will delete both disk and memory caches for the dataset for the id meaning\r\n\t * that subsequent queries for that id should fail unless a new addDataset happens first.\r\n\t */\r\n\tremoveDataset(id: string): Promise<string>;\r\n\r\n\t/**\r\n\t * Perform a query on insightUBC.\r\n\t *\r\n\t * @param query  The query to be performed.\r\n\t *\r\n\t * If a query is incorrectly formatted, references a dataset not added (in memory or on disk),\r\n\t * or references multiple datasets, it should be rejected.\r\n\t *\r\n\t * @return Promise <InsightResult[]>\r\n\t *\r\n\t * The promise should fulfill with an array of results.\r\n\t * The promise should reject with a ResultTooLargeError (if the query returns too many results)\r\n\t * or an InsightError (for any other source of failure) describing the error.\r\n\t */\r\n\tperformQuery(query: unknown): Promise<InsightResult[]>;\r\n\r\n\t/**\r\n\t * List all currently added datasets, their types, and number of rows.\r\n\t *\r\n\t * @return Promise <InsightDataset[]>\r\n\t * The promise should fulfill an array of currently added InsightDatasets, and will only fulfill.\r\n\t */\r\n\tlistDatasets(): Promise<InsightDataset[]>;\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"016b689c75d6c9f15f9e6e95ba739d951a95e910","contentHash":"8130835bb02f001ec31e721760248cf23bd5a68aa3d11f96de4d09b827f45c2a"},"D:\\project_team077\\src\\controller\\SaveandLoad.ts":{"path":"D:\\project_team077\\src\\controller\\SaveandLoad.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":62}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":62}},"3":{"start":{"line":6,"column":0},"end":{"line":6,"column":51}},"4":{"start":{"line":7,"column":19},"end":{"line":7,"column":55}},"5":{"start":{"line":9,"column":4},"end":{"line":21,"column":5}},"6":{"start":{"line":10,"column":8},"end":{"line":10,"column":53}},"7":{"start":{"line":11,"column":8},"end":{"line":16,"column":12}},"8":{"start":{"line":17,"column":8},"end":{"line":17,"column":32}},"9":{"start":{"line":20,"column":8},"end":{"line":20,"column":27}},"10":{"start":{"line":23,"column":0},"end":{"line":23,"column":32}},"11":{"start":{"line":25,"column":19},"end":{"line":25,"column":28}},"12":{"start":{"line":26,"column":4},"end":{"line":41,"column":5}},"13":{"start":{"line":27,"column":8},"end":{"line":27,"column":53}},"14":{"start":{"line":28,"column":24},"end":{"line":28,"column":75}},"15":{"start":{"line":29,"column":25},"end":{"line":33,"column":10}},"16":{"start":{"line":30,"column":23},"end":{"line":30,"column":45}},"17":{"start":{"line":31,"column":31},"end":{"line":31,"column":90}},"18":{"start":{"line":32,"column":12},"end":{"line":32,"column":61}},"19":{"start":{"line":34,"column":28},"end":{"line":34,"column":55}},"20":{"start":{"line":35,"column":8},"end":{"line":37,"column":9}},"21":{"start":{"line":36,"column":12},"end":{"line":36,"column":51}},"22":{"start":{"line":40,"column":8},"end":{"line":40,"column":27}},"23":{"start":{"line":42,"column":4},"end":{"line":42,"column":20}},"24":{"start":{"line":44,"column":0},"end":{"line":44,"column":36}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":56},"end":{"line":2,"column":57}},"loc":{"start":{"line":2,"column":71},"end":{"line":4,"column":1}},"line":2},"1":{"name":"saveToDisk","decl":{"start":{"line":8,"column":15},"end":{"line":8,"column":25}},"loc":{"start":{"line":8,"column":46},"end":{"line":22,"column":1}},"line":8},"2":{"name":"loadFromDisk","decl":{"start":{"line":24,"column":15},"end":{"line":24,"column":27}},"loc":{"start":{"line":24,"column":30},"end":{"line":43,"column":1}},"line":24},"3":{"name":"(anonymous_3)","decl":{"start":{"line":29,"column":39},"end":{"line":29,"column":40}},"loc":{"start":{"line":29,"column":59},"end":{"line":33,"column":9}},"line":29}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":4,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":56},"end":{"line":4,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":61}},"type":"cond-expr","locations":[{"start":{"line":3,"column":37},"end":{"line":3,"column":40}},{"start":{"line":3,"column":43},"end":{"line":3,"column":61}}],"line":3},"2":{"loc":{"start":{"line":3,"column":12},"end":{"line":3,"column":33}},"type":"binary-expr","locations":[{"start":{"line":3,"column":12},"end":{"line":3,"column":15}},{"start":{"line":3,"column":19},"end":{"line":3,"column":33}}],"line":3}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":28,"6":28,"7":28,"8":28,"9":0,"10":1,"11":81,"12":81,"13":81,"14":81,"15":81,"16":91,"17":91,"18":91,"19":81,"20":81,"21":91,"22":0,"23":81,"24":1},"f":{"0":1,"1":28,"2":81,"3":91},"b":{"0":[1,1,1],"1":[0,1],"2":[1,1]},"inputSourceMap":{"version":3,"file":"D:/project_team077/src/controller/SaveandLoad.ts","sources":["D:/project_team077/src/controller/SaveandLoad.ts"],"names":[],"mappings":";;;;;;AAGA,wDAA0B;AAM1B,KAAK,UAAU,UAAU,CAAC,EAAU,EAAE,QAA8B,EAAE,IAAwB;IAC7F,IAAI;QACH,MAAM,kBAAE,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;QAE7B,MAAM,kBAAE,CAAC,SAAS,CAAC,SAAS,GAAG,EAAE,GAAG,OAAO,EAAE,IAAI,CAAC,SAAS,CAAC;YAC3D,EAAE,EAAE,EAAE;YACN,IAAI,EAAE,IAAI;YACV,IAAI,EAAE,QAAQ;YACd,OAAO,EAAE,QAAQ,CAAC,MAAM;SACxB,CAAC,CAAC,CAAC;QACJ,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;KACxB;IAAC,OAAO,GAAG,EAAE;QACb,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;KACnB;AACF,CAAC;AAqCM,gCAAU;AAhCjB,KAAK,UAAU,YAAY;IAC1B,IAAI,QAAQ,GAAG,IAAI,GAAG,EAAgC,CAAC;IACvD,IAAI;QACH,MAAM,kBAAE,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;QAE7B,IAAI,SAAS,GAAG,MAAM,kBAAE,CAAC,QAAQ,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;QACpD,MAAM,QAAQ,GAAG,SAAS,CAAC,GAAG,CAAC,KAAK,EAAE,QAAQ,EAAE,EAAE;YAEjD,MAAM,EAAE,GAAG,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;YAElC,MAAM,UAAU,GAAG,MAAM,kBAAE,CAAC,QAAQ,CAAC,SAAS,GAAG,EAAE,GAAG,OAAO,CAAC,CAAC;YAE/D,OAAO,EAAC,EAAE,EAAE,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC,IAAI,EAAC,CAAC;QAChD,CAAC,CAAC,CAAC;QACH,MAAM,WAAW,GAAG,MAAM,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;QAEhD,KAAI,IAAI,OAAO,IAAI,WAAW,EAAC;YAC9B,QAAQ,CAAC,GAAG,CAAC,OAAO,CAAC,EAAE,EAAE,OAAO,CAAC,IAAI,CAAC,CAAC;SACvC;KAQD;IAAC,OAAO,GAAG,EAAE;QACb,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;KACnB;IACD,OAAO,QAAQ,CAAC;AACjB,CAAC;AAEiB,oCAAY","sourcesContent":["\r\n\r\nimport {InsightDatasetKind} from \"./IInsightFacade\";\r\nimport fs from \"fs-extra\";\r\nimport {ISection} from \"./ISection\";\r\nimport {IRoom} from \"./IRoom\";\r\n\r\n// Reference: https://github.com/jprichardson/node-fs-extra/blob/HEAD/docs/writeJson.md\r\n// Save the newly added dataset to disk,need id, kind,content and numRows\r\nasync function saveToDisk(id: string, dataList: ISection[] | IRoom[], kind: InsightDatasetKind) {\r\n\ttry {\r\n\t\tawait fs.ensureDir(\"./data\");\r\n\t\t// fileName is in the format of id.json\r\n\t\tawait fs.writeJson(\"./data/\" + id + \".json\", JSON.stringify({\r\n\t\t\tid: id,\r\n\t\t\tkind: kind,\r\n\t\t\tdata: dataList,\r\n\t\t\tnumRows: dataList.length\r\n\t\t}));\r\n\t\tconsole.log(\"success!\");\r\n\t} catch (err) {\r\n\t\tconsole.error(err);\r\n\t}\r\n}\r\n\r\n// Reference: https://www.geeksforgeeks.org/node-js-fs-promise-readdir-method/\r\n// Reference:https://github.com/jprichardson/node-fs-extra/blob/1d931c88b2d5428670fb39458158ce9c5ac242a3/docs/readJson.md\r\n// load datasets from disk\r\nasync function loadFromDisk() {\r\n\tlet datasets = new Map<string, ISection[] | IRoom[]>();\r\n\ttry {\r\n\t\tawait fs.ensureDir(\"./data\");\r\n\t\t// iterate through the datasets folder,return a promise with the list of names of files\r\n\t\tlet filenames = await fs.promises.readdir(\"./data\");\r\n\t\tconst promises = filenames.map(async (filename) => {\r\n\t\t\t// Split the string and get the first part\r\n\t\t\tconst id = filename.split(\".\")[0];\r\n\t\t\t// Return a JavaScript object representing the contents of the JSON file\r\n\t\t\tconst datasetObj = await fs.readJson(\"./data/\" + id + \".json\");\r\n\r\n\t\t\treturn {id, data: JSON.parse(datasetObj).data};\r\n\t\t});\r\n\t\tconst datasetList = await Promise.all(promises);\r\n        // Convert the array of datasets to a Map\r\n\t\tfor(let dataset of datasetList){\r\n\t\t\tdatasets.set(dataset.id, dataset.data);\r\n\t\t}\r\n\r\n\t\t// for (let filename of filenames) {\r\n\t\t// \t// split the string and get the first part\r\n\t\t// \tlet id = filename.split(\".\")[0];\r\n\t\t// \tconst datasetObj = await fs.readJson(\"./data/\" + id + \".json\");\r\n\t\t// \tdatasets.set(id, JSON.parse(datasetObj).data);\r\n\t\t// }\r\n\t} catch (err) {\r\n\t\tconsole.error(err);\r\n\t}\r\n\treturn datasets;\r\n}\r\n\r\nexport{saveToDisk,loadFromDisk};\r\n\r\n\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"2fca29c7cf72bfccc411891c8af6553c3b8536c9","contentHash":"37e321a19366c889825087e12a86cab5c9acaa93f99214721fdc950048e9260b"},"D:\\project_team077\\src\\controller\\Query.ts":{"path":"D:\\project_team077\\src\\controller\\Query.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":161}},"2":{"start":{"line":4,"column":25},"end":{"line":4,"column":52}},"3":{"start":{"line":5,"column":17},"end":{"line":5,"column":36}},"4":{"start":{"line":6,"column":17},"end":{"line":6,"column":36}},"5":{"start":{"line":7,"column":17},"end":{"line":7,"column":36}},"6":{"start":{"line":13,"column":8},"end":{"line":15,"column":9}},"7":{"start":{"line":14,"column":12},"end":{"line":14,"column":25}},"8":{"start":{"line":16,"column":8},"end":{"line":18,"column":9}},"9":{"start":{"line":17,"column":12},"end":{"line":17,"column":25}},"10":{"start":{"line":19,"column":8},"end":{"line":21,"column":9}},"11":{"start":{"line":20,"column":12},"end":{"line":20,"column":25}},"12":{"start":{"line":22,"column":8},"end":{"line":28,"column":9}},"13":{"start":{"line":23,"column":12},"end":{"line":23,"column":104}},"14":{"start":{"line":26,"column":12},"end":{"line":27,"column":77}},"15":{"start":{"line":31,"column":0},"end":{"line":31,"column":22}},"16":{"start":{"line":33,"column":14},"end":{"line":33,"column":16}},"17":{"start":{"line":34,"column":11},"end":{"line":34,"column":13}},"18":{"start":{"line":36,"column":10},"end":{"line":36,"column":12}},"19":{"start":{"line":37,"column":10},"end":{"line":37,"column":12}},"20":{"start":{"line":38,"column":10},"end":{"line":38,"column":12}},"21":{"start":{"line":39,"column":12},"end":{"line":39,"column":14}},"22":{"start":{"line":40,"column":12},"end":{"line":40,"column":21}},"23":{"start":{"line":42,"column":8},"end":{"line":44,"column":9}},"24":{"start":{"line":43,"column":12},"end":{"line":43,"column":24}},"25":{"start":{"line":45,"column":8},"end":{"line":49,"column":9}},"26":{"start":{"line":46,"column":12},"end":{"line":48,"column":13}},"27":{"start":{"line":47,"column":16},"end":{"line":47,"column":29}},"28":{"start":{"line":50,"column":8},"end":{"line":50,"column":20}},"29":{"start":{"line":54,"column":8},"end":{"line":69,"column":9}},"30":{"start":{"line":55,"column":22},"end":{"line":55,"column":23}},"31":{"start":{"line":56,"column":12},"end":{"line":68,"column":13}},"32":{"start":{"line":57,"column":16},"end":{"line":62,"column":17}},"33":{"start":{"line":58,"column":37},"end":{"line":58,"column":56}},"34":{"start":{"line":59,"column":20},"end":{"line":61,"column":21}},"35":{"start":{"line":60,"column":24},"end":{"line":60,"column":55}},"36":{"start":{"line":63,"column":16},"end":{"line":63,"column":37}},"37":{"start":{"line":66,"column":16},"end":{"line":66,"column":39}},"38":{"start":{"line":67,"column":16},"end":{"line":67,"column":42}},"39":{"start":{"line":72,"column":8},"end":{"line":74,"column":9}},"40":{"start":{"line":73,"column":12},"end":{"line":73,"column":24}},"41":{"start":{"line":75,"column":8},"end":{"line":79,"column":9}},"42":{"start":{"line":76,"column":12},"end":{"line":78,"column":13}},"43":{"start":{"line":77,"column":16},"end":{"line":77,"column":29}},"44":{"start":{"line":80,"column":8},"end":{"line":80,"column":20}},"45":{"start":{"line":83,"column":0},"end":{"line":83,"column":24}},"46":{"start":{"line":85,"column":4},"end":{"line":102,"column":5}},"47":{"start":{"line":86,"column":8},"end":{"line":86,"column":70}},"48":{"start":{"line":88,"column":9},"end":{"line":102,"column":5}},"49":{"start":{"line":89,"column":8},"end":{"line":89,"column":71}},"50":{"start":{"line":91,"column":9},"end":{"line":102,"column":5}},"51":{"start":{"line":92,"column":8},"end":{"line":92,"column":71}},"52":{"start":{"line":94,"column":9},"end":{"line":102,"column":5}},"53":{"start":{"line":95,"column":8},"end":{"line":95,"column":65}},"54":{"start":{"line":97,"column":9},"end":{"line":102,"column":5}},"55":{"start":{"line":98,"column":8},"end":{"line":98,"column":69}},"56":{"start":{"line":101,"column":8},"end":{"line":101,"column":21}},"57":{"start":{"line":104,"column":0},"end":{"line":104,"column":38}},"58":{"start":{"line":106,"column":17},"end":{"line":106,"column":19}},"59":{"start":{"line":107,"column":4},"end":{"line":121,"column":5}},"60":{"start":{"line":108,"column":8},"end":{"line":108,"column":78}},"61":{"start":{"line":110,"column":9},"end":{"line":121,"column":5}},"62":{"start":{"line":111,"column":8},"end":{"line":111,"column":80}},"63":{"start":{"line":113,"column":9},"end":{"line":121,"column":5}},"64":{"start":{"line":114,"column":8},"end":{"line":114,"column":80}},"65":{"start":{"line":116,"column":9},"end":{"line":121,"column":5}},"66":{"start":{"line":117,"column":8},"end":{"line":117,"column":74}},"67":{"start":{"line":120,"column":8},"end":{"line":120,"column":79}},"68":{"start":{"line":122,"column":4},"end":{"line":122,"column":18}},"69":{"start":{"line":124,"column":0},"end":{"line":124,"column":36}},"70":{"start":{"line":126,"column":17},"end":{"line":126,"column":19}},"71":{"start":{"line":127,"column":4},"end":{"line":144,"column":5}},"72":{"start":{"line":128,"column":8},"end":{"line":128,"column":78}},"73":{"start":{"line":130,"column":9},"end":{"line":144,"column":5}},"74":{"start":{"line":131,"column":8},"end":{"line":131,"column":78}},"75":{"start":{"line":133,"column":9},"end":{"line":144,"column":5}},"76":{"start":{"line":134,"column":8},"end":{"line":134,"column":78}},"77":{"start":{"line":136,"column":9},"end":{"line":144,"column":5}},"78":{"start":{"line":137,"column":8},"end":{"line":137,"column":78}},"79":{"start":{"line":139,"column":9},"end":{"line":144,"column":5}},"80":{"start":{"line":140,"column":8},"end":{"line":140,"column":74}},"81":{"start":{"line":143,"column":8},"end":{"line":143,"column":73}},"82":{"start":{"line":145,"column":4},"end":{"line":145,"column":18}},"83":{"start":{"line":147,"column":0},"end":{"line":147,"column":42}},"84":{"start":{"line":152,"column":8},"end":{"line":154,"column":9}},"85":{"start":{"line":153,"column":12},"end":{"line":153,"column":25}},"86":{"start":{"line":155,"column":8},"end":{"line":174,"column":9}},"87":{"start":{"line":156,"column":12},"end":{"line":163,"column":13}},"88":{"start":{"line":157,"column":16},"end":{"line":161,"column":17}},"89":{"start":{"line":158,"column":20},"end":{"line":160,"column":21}},"90":{"start":{"line":159,"column":24},"end":{"line":159,"column":37}},"91":{"start":{"line":162,"column":16},"end":{"line":162,"column":28}},"92":{"start":{"line":165,"column":13},"end":{"line":174,"column":9}},"93":{"start":{"line":166,"column":12},"end":{"line":173,"column":13}},"94":{"start":{"line":167,"column":16},"end":{"line":171,"column":17}},"95":{"start":{"line":168,"column":20},"end":{"line":170,"column":21}},"96":{"start":{"line":169,"column":24},"end":{"line":169,"column":37}},"97":{"start":{"line":172,"column":16},"end":{"line":172,"column":28}},"98":{"start":{"line":175,"column":8},"end":{"line":175,"column":21}},"99":{"start":{"line":178,"column":21},"end":{"line":178,"column":23}},"100":{"start":{"line":179,"column":8},"end":{"line":206,"column":9}},"101":{"start":{"line":180,"column":12},"end":{"line":188,"column":13}},"102":{"start":{"line":181,"column":25},"end":{"line":181,"column":65}},"103":{"start":{"line":182,"column":16},"end":{"line":187,"column":17}},"104":{"start":{"line":183,"column":20},"end":{"line":183,"column":32}},"105":{"start":{"line":186,"column":20},"end":{"line":186,"column":66}},"106":{"start":{"line":189,"column":12},"end":{"line":191,"column":13}},"107":{"start":{"line":190,"column":16},"end":{"line":190,"column":73}},"108":{"start":{"line":193,"column":13},"end":{"line":206,"column":9}},"109":{"start":{"line":194,"column":12},"end":{"line":205,"column":13}},"110":{"start":{"line":195,"column":25},"end":{"line":195,"column":65}},"111":{"start":{"line":196,"column":16},"end":{"line":204,"column":17}},"112":{"start":{"line":197,"column":20},"end":{"line":197,"column":32}},"113":{"start":{"line":200,"column":20},"end":{"line":200,"column":65}},"114":{"start":{"line":201,"column":20},"end":{"line":203,"column":21}},"115":{"start":{"line":202,"column":24},"end":{"line":202,"column":81}},"116":{"start":{"line":207,"column":8},"end":{"line":207,"column":22}},"117":{"start":{"line":210,"column":21},"end":{"line":210,"column":23}},"118":{"start":{"line":211,"column":8},"end":{"line":219,"column":9}},"119":{"start":{"line":212,"column":21},"end":{"line":212,"column":64}},"120":{"start":{"line":213,"column":12},"end":{"line":218,"column":13}},"121":{"start":{"line":214,"column":16},"end":{"line":214,"column":28}},"122":{"start":{"line":217,"column":16},"end":{"line":217,"column":61}},"123":{"start":{"line":220,"column":8},"end":{"line":220,"column":22}},"124":{"start":{"line":223,"column":21},"end":{"line":223,"column":23}},"125":{"start":{"line":224,"column":8},"end":{"line":232,"column":9}},"126":{"start":{"line":225,"column":21},"end":{"line":225,"column":64}},"127":{"start":{"line":226,"column":12},"end":{"line":231,"column":13}},"128":{"start":{"line":227,"column":16},"end":{"line":227,"column":28}},"129":{"start":{"line":230,"column":16},"end":{"line":230,"column":62}},"130":{"start":{"line":233,"column":8},"end":{"line":233,"column":22}},"131":{"start":{"line":236,"column":8},"end":{"line":238,"column":9}},"132":{"start":{"line":237,"column":12},"end":{"line":237,"column":22}},"133":{"start":{"line":239,"column":21},"end":{"line":239,"column":23}},"134":{"start":{"line":240,"column":20},"end":{"line":240,"column":22}},"135":{"start":{"line":241,"column":8},"end":{"line":243,"column":9}},"136":{"start":{"line":242,"column":12},"end":{"line":242,"column":45}},"137":{"start":{"line":244,"column":8},"end":{"line":249,"column":9}},"138":{"start":{"line":245,"column":23},"end":{"line":245,"column":43}},"139":{"start":{"line":246,"column":12},"end":{"line":248,"column":13}},"140":{"start":{"line":247,"column":16},"end":{"line":247,"column":31}},"141":{"start":{"line":250,"column":8},"end":{"line":250,"column":22}},"142":{"start":{"line":253,"column":8},"end":{"line":275,"column":9}},"143":{"start":{"line":254,"column":12},"end":{"line":254,"column":21}},"144":{"start":{"line":256,"column":13},"end":{"line":275,"column":9}},"145":{"start":{"line":257,"column":12},"end":{"line":257,"column":21}},"146":{"start":{"line":260,"column":25},"end":{"line":260,"column":27}},"147":{"start":{"line":261,"column":24},"end":{"line":261,"column":26}},"148":{"start":{"line":262,"column":12},"end":{"line":267,"column":13}},"149":{"start":{"line":263,"column":16},"end":{"line":266,"column":17}},"150":{"start":{"line":264,"column":20},"end":{"line":264,"column":53}},"151":{"start":{"line":265,"column":20},"end":{"line":265,"column":35}},"152":{"start":{"line":268,"column":12},"end":{"line":273,"column":13}},"153":{"start":{"line":269,"column":16},"end":{"line":272,"column":17}},"154":{"start":{"line":270,"column":20},"end":{"line":270,"column":53}},"155":{"start":{"line":271,"column":20},"end":{"line":271,"column":35}},"156":{"start":{"line":274,"column":12},"end":{"line":274,"column":26}},"157":{"start":{"line":278,"column":0},"end":{"line":278,"column":42}},"158":{"start":{"line":281,"column":4},"end":{"line":281,"column":27}},"159":{"start":{"line":282,"column":17},"end":{"line":282,"column":80}},"160":{"start":{"line":283,"column":4},"end":{"line":291,"column":5}},"161":{"start":{"line":284,"column":8},"end":{"line":290,"column":9}},"162":{"start":{"line":285,"column":12},"end":{"line":285,"column":35}},"163":{"start":{"line":286,"column":12},"end":{"line":286,"column":24}},"164":{"start":{"line":288,"column":13},"end":{"line":290,"column":9}},"165":{"start":{"line":289,"column":12},"end":{"line":289,"column":24}},"166":{"start":{"line":292,"column":4},"end":{"line":292,"column":17}},"167":{"start":{"line":294,"column":0},"end":{"line":294,"column":34}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":12,"column":4},"end":{"line":12,"column":5}},"loc":{"start":{"line":12,"column":35},"end":{"line":29,"column":5}},"line":12},"1":{"name":"(anonymous_1)","decl":{"start":{"line":41,"column":4},"end":{"line":41,"column":5}},"loc":{"start":{"line":41,"column":36},"end":{"line":51,"column":5}},"line":41},"2":{"name":"(anonymous_2)","decl":{"start":{"line":52,"column":4},"end":{"line":52,"column":5}},"loc":{"start":{"line":52,"column":34},"end":{"line":70,"column":5}},"line":52},"3":{"name":"(anonymous_3)","decl":{"start":{"line":71,"column":4},"end":{"line":71,"column":5}},"loc":{"start":{"line":71,"column":43},"end":{"line":81,"column":5}},"line":71},"4":{"name":"isValidFilter","decl":{"start":{"line":84,"column":9},"end":{"line":84,"column":22}},"loc":{"start":{"line":84,"column":39},"end":{"line":103,"column":1}},"line":84},"5":{"name":"filterResult","decl":{"start":{"line":105,"column":9},"end":{"line":105,"column":21}},"loc":{"start":{"line":105,"column":46},"end":{"line":123,"column":1}},"line":105},"6":{"name":"filterNotResult","decl":{"start":{"line":125,"column":9},"end":{"line":125,"column":24}},"loc":{"start":{"line":125,"column":49},"end":{"line":146,"column":1}},"line":125},"7":{"name":"(anonymous_7)","decl":{"start":{"line":151,"column":4},"end":{"line":151,"column":5}},"loc":{"start":{"line":151,"column":50},"end":{"line":176,"column":5}},"line":151},"8":{"name":"(anonymous_8)","decl":{"start":{"line":177,"column":4},"end":{"line":177,"column":5}},"loc":{"start":{"line":177,"column":57},"end":{"line":208,"column":5}},"line":177},"9":{"name":"(anonymous_9)","decl":{"start":{"line":209,"column":4},"end":{"line":209,"column":5}},"loc":{"start":{"line":209,"column":48},"end":{"line":221,"column":5}},"line":209},"10":{"name":"(anonymous_10)","decl":{"start":{"line":222,"column":4},"end":{"line":222,"column":5}},"loc":{"start":{"line":222,"column":47},"end":{"line":234,"column":5}},"line":222},"11":{"name":"(anonymous_11)","decl":{"start":{"line":235,"column":4},"end":{"line":235,"column":5}},"loc":{"start":{"line":235,"column":26},"end":{"line":251,"column":5}},"line":235},"12":{"name":"(anonymous_12)","decl":{"start":{"line":252,"column":4},"end":{"line":252,"column":5}},"loc":{"start":{"line":252,"column":25},"end":{"line":276,"column":5}},"line":252},"13":{"name":"isValidMkey","decl":{"start":{"line":279,"column":9},"end":{"line":279,"column":20}},"loc":{"start":{"line":279,"column":34},"end":{"line":293,"column":1}},"line":279}},"branchMap":{"0":{"loc":{"start":{"line":13,"column":8},"end":{"line":15,"column":9}},"type":"if","locations":[{"start":{"line":13,"column":8},"end":{"line":15,"column":9}},{"start":{"line":13,"column":8},"end":{"line":15,"column":9}}],"line":13},"1":{"loc":{"start":{"line":16,"column":8},"end":{"line":18,"column":9}},"type":"if","locations":[{"start":{"line":16,"column":8},"end":{"line":18,"column":9}},{"start":{"line":16,"column":8},"end":{"line":18,"column":9}}],"line":16},"2":{"loc":{"start":{"line":19,"column":8},"end":{"line":21,"column":9}},"type":"if","locations":[{"start":{"line":19,"column":8},"end":{"line":21,"column":9}},{"start":{"line":19,"column":8},"end":{"line":21,"column":9}}],"line":19},"3":{"loc":{"start":{"line":22,"column":8},"end":{"line":28,"column":9}},"type":"if","locations":[{"start":{"line":22,"column":8},"end":{"line":28,"column":9}},{"start":{"line":22,"column":8},"end":{"line":28,"column":9}}],"line":22},"4":{"loc":{"start":{"line":23,"column":19},"end":{"line":23,"column":103}},"type":"binary-expr","locations":[{"start":{"line":23,"column":19},"end":{"line":23,"column":49}},{"start":{"line":23,"column":53},"end":{"line":23,"column":103}}],"line":23},"5":{"loc":{"start":{"line":26,"column":19},"end":{"line":27,"column":76}},"type":"binary-expr","locations":[{"start":{"line":26,"column":19},"end":{"line":26,"column":49}},{"start":{"line":26,"column":53},"end":{"line":26,"column":103}},{"start":{"line":27,"column":16},"end":{"line":27,"column":76}}],"line":26},"6":{"loc":{"start":{"line":42,"column":8},"end":{"line":44,"column":9}},"type":"if","locations":[{"start":{"line":42,"column":8},"end":{"line":44,"column":9}},{"start":{"line":42,"column":8},"end":{"line":44,"column":9}}],"line":42},"7":{"loc":{"start":{"line":46,"column":12},"end":{"line":48,"column":13}},"type":"if","locations":[{"start":{"line":46,"column":12},"end":{"line":48,"column":13}},{"start":{"line":46,"column":12},"end":{"line":48,"column":13}}],"line":46},"8":{"loc":{"start":{"line":56,"column":12},"end":{"line":68,"column":13}},"type":"if","locations":[{"start":{"line":56,"column":12},"end":{"line":68,"column":13}},{"start":{"line":56,"column":12},"end":{"line":68,"column":13}}],"line":56},"9":{"loc":{"start":{"line":57,"column":16},"end":{"line":62,"column":17}},"type":"if","locations":[{"start":{"line":57,"column":16},"end":{"line":62,"column":17}},{"start":{"line":57,"column":16},"end":{"line":62,"column":17}}],"line":57},"10":{"loc":{"start":{"line":59,"column":20},"end":{"line":61,"column":21}},"type":"if","locations":[{"start":{"line":59,"column":20},"end":{"line":61,"column":21}},{"start":{"line":59,"column":20},"end":{"line":61,"column":21}}],"line":59},"11":{"loc":{"start":{"line":72,"column":8},"end":{"line":74,"column":9}},"type":"if","locations":[{"start":{"line":72,"column":8},"end":{"line":74,"column":9}},{"start":{"line":72,"column":8},"end":{"line":74,"column":9}}],"line":72},"12":{"loc":{"start":{"line":76,"column":12},"end":{"line":78,"column":13}},"type":"if","locations":[{"start":{"line":76,"column":12},"end":{"line":78,"column":13}},{"start":{"line":76,"column":12},"end":{"line":78,"column":13}}],"line":76},"13":{"loc":{"start":{"line":76,"column":16},"end":{"line":76,"column":65}},"type":"binary-expr","locations":[{"start":{"line":76,"column":16},"end":{"line":76,"column":41}},{"start":{"line":76,"column":45},"end":{"line":76,"column":65}}],"line":76},"14":{"loc":{"start":{"line":85,"column":4},"end":{"line":102,"column":5}},"type":"if","locations":[{"start":{"line":85,"column":4},"end":{"line":102,"column":5}},{"start":{"line":85,"column":4},"end":{"line":102,"column":5}}],"line":85},"15":{"loc":{"start":{"line":85,"column":8},"end":{"line":85,"column":31}},"type":"binary-expr","locations":[{"start":{"line":85,"column":8},"end":{"line":85,"column":18}},{"start":{"line":85,"column":22},"end":{"line":85,"column":31}}],"line":85},"16":{"loc":{"start":{"line":88,"column":9},"end":{"line":102,"column":5}},"type":"if","locations":[{"start":{"line":88,"column":9},"end":{"line":102,"column":5}},{"start":{"line":88,"column":9},"end":{"line":102,"column":5}}],"line":88},"17":{"loc":{"start":{"line":88,"column":13},"end":{"line":88,"column":48}},"type":"binary-expr","locations":[{"start":{"line":88,"column":13},"end":{"line":88,"column":22}},{"start":{"line":88,"column":26},"end":{"line":88,"column":35}},{"start":{"line":88,"column":39},"end":{"line":88,"column":48}}],"line":88},"18":{"loc":{"start":{"line":91,"column":9},"end":{"line":102,"column":5}},"type":"if","locations":[{"start":{"line":91,"column":9},"end":{"line":102,"column":5}},{"start":{"line":91,"column":9},"end":{"line":102,"column":5}}],"line":91},"19":{"loc":{"start":{"line":94,"column":9},"end":{"line":102,"column":5}},"type":"if","locations":[{"start":{"line":94,"column":9},"end":{"line":102,"column":5}},{"start":{"line":94,"column":9},"end":{"line":102,"column":5}}],"line":94},"20":{"loc":{"start":{"line":97,"column":9},"end":{"line":102,"column":5}},"type":"if","locations":[{"start":{"line":97,"column":9},"end":{"line":102,"column":5}},{"start":{"line":97,"column":9},"end":{"line":102,"column":5}}],"line":97},"21":{"loc":{"start":{"line":107,"column":4},"end":{"line":121,"column":5}},"type":"if","locations":[{"start":{"line":107,"column":4},"end":{"line":121,"column":5}},{"start":{"line":107,"column":4},"end":{"line":121,"column":5}}],"line":107},"22":{"loc":{"start":{"line":107,"column":8},"end":{"line":107,"column":40}},"type":"binary-expr","locations":[{"start":{"line":107,"column":8},"end":{"line":107,"column":9}},{"start":{"line":107,"column":13},"end":{"line":107,"column":40}}],"line":107},"23":{"loc":{"start":{"line":110,"column":9},"end":{"line":121,"column":5}},"type":"if","locations":[{"start":{"line":110,"column":9},"end":{"line":121,"column":5}},{"start":{"line":110,"column":9},"end":{"line":121,"column":5}}],"line":110},"24":{"loc":{"start":{"line":110,"column":13},"end":{"line":110,"column":33}},"type":"binary-expr","locations":[{"start":{"line":110,"column":13},"end":{"line":110,"column":17}},{"start":{"line":110,"column":21},"end":{"line":110,"column":25}},{"start":{"line":110,"column":29},"end":{"line":110,"column":33}}],"line":110},"25":{"loc":{"start":{"line":113,"column":9},"end":{"line":121,"column":5}},"type":"if","locations":[{"start":{"line":113,"column":9},"end":{"line":121,"column":5}},{"start":{"line":113,"column":9},"end":{"line":121,"column":5}}],"line":113},"26":{"loc":{"start":{"line":116,"column":9},"end":{"line":121,"column":5}},"type":"if","locations":[{"start":{"line":116,"column":9},"end":{"line":121,"column":5}},{"start":{"line":116,"column":9},"end":{"line":121,"column":5}}],"line":116},"27":{"loc":{"start":{"line":127,"column":4},"end":{"line":144,"column":5}},"type":"if","locations":[{"start":{"line":127,"column":4},"end":{"line":144,"column":5}},{"start":{"line":127,"column":4},"end":{"line":144,"column":5}}],"line":127},"28":{"loc":{"start":{"line":130,"column":9},"end":{"line":144,"column":5}},"type":"if","locations":[{"start":{"line":130,"column":9},"end":{"line":144,"column":5}},{"start":{"line":130,"column":9},"end":{"line":144,"column":5}}],"line":130},"29":{"loc":{"start":{"line":133,"column":9},"end":{"line":144,"column":5}},"type":"if","locations":[{"start":{"line":133,"column":9},"end":{"line":144,"column":5}},{"start":{"line":133,"column":9},"end":{"line":144,"column":5}}],"line":133},"30":{"loc":{"start":{"line":136,"column":9},"end":{"line":144,"column":5}},"type":"if","locations":[{"start":{"line":136,"column":9},"end":{"line":144,"column":5}},{"start":{"line":136,"column":9},"end":{"line":144,"column":5}}],"line":136},"31":{"loc":{"start":{"line":139,"column":9},"end":{"line":144,"column":5}},"type":"if","locations":[{"start":{"line":139,"column":9},"end":{"line":144,"column":5}},{"start":{"line":139,"column":9},"end":{"line":144,"column":5}}],"line":139},"32":{"loc":{"start":{"line":152,"column":8},"end":{"line":154,"column":9}},"type":"if","locations":[{"start":{"line":152,"column":8},"end":{"line":154,"column":9}},{"start":{"line":152,"column":8},"end":{"line":154,"column":9}}],"line":152},"33":{"loc":{"start":{"line":152,"column":12},"end":{"line":152,"column":68}},"type":"binary-expr","locations":[{"start":{"line":152,"column":13},"end":{"line":152,"column":24}},{"start":{"line":152,"column":28},"end":{"line":152,"column":38}},{"start":{"line":152,"column":44},"end":{"line":152,"column":54}},{"start":{"line":152,"column":58},"end":{"line":152,"column":67}}],"line":152},"34":{"loc":{"start":{"line":155,"column":8},"end":{"line":174,"column":9}},"type":"if","locations":[{"start":{"line":155,"column":8},"end":{"line":174,"column":9}},{"start":{"line":155,"column":8},"end":{"line":174,"column":9}}],"line":155},"35":{"loc":{"start":{"line":155,"column":12},"end":{"line":155,"column":36}},"type":"binary-expr","locations":[{"start":{"line":155,"column":12},"end":{"line":155,"column":22}},{"start":{"line":155,"column":26},"end":{"line":155,"column":36}}],"line":155},"36":{"loc":{"start":{"line":156,"column":12},"end":{"line":163,"column":13}},"type":"if","locations":[{"start":{"line":156,"column":12},"end":{"line":163,"column":13}},{"start":{"line":156,"column":12},"end":{"line":163,"column":13}}],"line":156},"37":{"loc":{"start":{"line":158,"column":20},"end":{"line":160,"column":21}},"type":"if","locations":[{"start":{"line":158,"column":20},"end":{"line":160,"column":21}},{"start":{"line":158,"column":20},"end":{"line":160,"column":21}}],"line":158},"38":{"loc":{"start":{"line":165,"column":13},"end":{"line":174,"column":9}},"type":"if","locations":[{"start":{"line":165,"column":13},"end":{"line":174,"column":9}},{"start":{"line":165,"column":13},"end":{"line":174,"column":9}}],"line":165},"39":{"loc":{"start":{"line":165,"column":17},"end":{"line":165,"column":41}},"type":"binary-expr","locations":[{"start":{"line":165,"column":17},"end":{"line":165,"column":28}},{"start":{"line":165,"column":32},"end":{"line":165,"column":41}}],"line":165},"40":{"loc":{"start":{"line":166,"column":12},"end":{"line":173,"column":13}},"type":"if","locations":[{"start":{"line":166,"column":12},"end":{"line":173,"column":13}},{"start":{"line":166,"column":12},"end":{"line":173,"column":13}}],"line":166},"41":{"loc":{"start":{"line":168,"column":20},"end":{"line":170,"column":21}},"type":"if","locations":[{"start":{"line":168,"column":20},"end":{"line":170,"column":21}},{"start":{"line":168,"column":20},"end":{"line":170,"column":21}}],"line":168},"42":{"loc":{"start":{"line":179,"column":8},"end":{"line":206,"column":9}},"type":"if","locations":[{"start":{"line":179,"column":8},"end":{"line":206,"column":9}},{"start":{"line":179,"column":8},"end":{"line":206,"column":9}}],"line":179},"43":{"loc":{"start":{"line":182,"column":16},"end":{"line":187,"column":17}},"type":"if","locations":[{"start":{"line":182,"column":16},"end":{"line":187,"column":17}},{"start":{"line":182,"column":16},"end":{"line":187,"column":17}}],"line":182},"44":{"loc":{"start":{"line":189,"column":12},"end":{"line":191,"column":13}},"type":"if","locations":[{"start":{"line":189,"column":12},"end":{"line":191,"column":13}},{"start":{"line":189,"column":12},"end":{"line":191,"column":13}}],"line":189},"45":{"loc":{"start":{"line":189,"column":16},"end":{"line":189,"column":51}},"type":"binary-expr","locations":[{"start":{"line":189,"column":16},"end":{"line":189,"column":27}},{"start":{"line":189,"column":31},"end":{"line":189,"column":51}}],"line":189},"46":{"loc":{"start":{"line":193,"column":13},"end":{"line":206,"column":9}},"type":"if","locations":[{"start":{"line":193,"column":13},"end":{"line":206,"column":9}},{"start":{"line":193,"column":13},"end":{"line":206,"column":9}}],"line":193},"47":{"loc":{"start":{"line":196,"column":16},"end":{"line":204,"column":17}},"type":"if","locations":[{"start":{"line":196,"column":16},"end":{"line":204,"column":17}},{"start":{"line":196,"column":16},"end":{"line":204,"column":17}}],"line":196},"48":{"loc":{"start":{"line":201,"column":20},"end":{"line":203,"column":21}},"type":"if","locations":[{"start":{"line":201,"column":20},"end":{"line":203,"column":21}},{"start":{"line":201,"column":20},"end":{"line":203,"column":21}}],"line":201},"49":{"loc":{"start":{"line":201,"column":24},"end":{"line":201,"column":59}},"type":"binary-expr","locations":[{"start":{"line":201,"column":24},"end":{"line":201,"column":35}},{"start":{"line":201,"column":39},"end":{"line":201,"column":59}}],"line":201},"50":{"loc":{"start":{"line":213,"column":12},"end":{"line":218,"column":13}},"type":"if","locations":[{"start":{"line":213,"column":12},"end":{"line":218,"column":13}},{"start":{"line":213,"column":12},"end":{"line":218,"column":13}}],"line":213},"51":{"loc":{"start":{"line":226,"column":12},"end":{"line":231,"column":13}},"type":"if","locations":[{"start":{"line":226,"column":12},"end":{"line":231,"column":13}},{"start":{"line":226,"column":12},"end":{"line":231,"column":13}}],"line":226},"52":{"loc":{"start":{"line":236,"column":8},"end":{"line":238,"column":9}},"type":"if","locations":[{"start":{"line":236,"column":8},"end":{"line":238,"column":9}},{"start":{"line":236,"column":8},"end":{"line":238,"column":9}}],"line":236},"53":{"loc":{"start":{"line":236,"column":12},"end":{"line":236,"column":44}},"type":"binary-expr","locations":[{"start":{"line":236,"column":12},"end":{"line":236,"column":26}},{"start":{"line":236,"column":30},"end":{"line":236,"column":44}}],"line":236},"54":{"loc":{"start":{"line":246,"column":12},"end":{"line":248,"column":13}},"type":"if","locations":[{"start":{"line":246,"column":12},"end":{"line":248,"column":13}},{"start":{"line":246,"column":12},"end":{"line":248,"column":13}}],"line":246},"55":{"loc":{"start":{"line":253,"column":8},"end":{"line":275,"column":9}},"type":"if","locations":[{"start":{"line":253,"column":8},"end":{"line":275,"column":9}},{"start":{"line":253,"column":8},"end":{"line":275,"column":9}}],"line":253},"56":{"loc":{"start":{"line":256,"column":13},"end":{"line":275,"column":9}},"type":"if","locations":[{"start":{"line":256,"column":13},"end":{"line":275,"column":9}},{"start":{"line":256,"column":13},"end":{"line":275,"column":9}}],"line":256},"57":{"loc":{"start":{"line":263,"column":16},"end":{"line":266,"column":17}},"type":"if","locations":[{"start":{"line":263,"column":16},"end":{"line":266,"column":17}},{"start":{"line":263,"column":16},"end":{"line":266,"column":17}}],"line":263},"58":{"loc":{"start":{"line":269,"column":16},"end":{"line":272,"column":17}},"type":"if","locations":[{"start":{"line":269,"column":16},"end":{"line":272,"column":17}},{"start":{"line":269,"column":16},"end":{"line":272,"column":17}}],"line":269},"59":{"loc":{"start":{"line":283,"column":4},"end":{"line":291,"column":5}},"type":"if","locations":[{"start":{"line":283,"column":4},"end":{"line":291,"column":5}},{"start":{"line":283,"column":4},"end":{"line":291,"column":5}}],"line":283},"60":{"loc":{"start":{"line":284,"column":8},"end":{"line":290,"column":9}},"type":"if","locations":[{"start":{"line":284,"column":8},"end":{"line":290,"column":9}},{"start":{"line":284,"column":8},"end":{"line":290,"column":9}}],"line":284},"61":{"loc":{"start":{"line":288,"column":13},"end":{"line":290,"column":9}},"type":"if","locations":[{"start":{"line":288,"column":13},"end":{"line":290,"column":9}},{"start":{"line":288,"column":13},"end":{"line":290,"column":9}}],"line":288}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":53,"7":0,"8":53,"9":2,"10":51,"11":1,"12":50,"13":38,"14":12,"15":1,"16":53,"17":53,"18":53,"19":53,"20":53,"21":53,"22":53,"23":29,"24":1,"25":28,"26":30,"27":1,"28":27,"29":28,"30":70,"31":70,"32":8,"33":8,"34":8,"35":8,"36":8,"37":62,"38":62,"39":28,"40":20,"41":8,"42":19,"43":0,"44":8,"45":1,"46":140,"47":37,"48":103,"49":51,"50":52,"51":30,"52":22,"53":20,"54":2,"55":1,"56":1,"57":1,"58":73,"59":73,"60":1,"61":72,"62":19,"63":53,"64":12,"65":41,"66":19,"67":22,"68":71,"69":1,"70":2,"71":2,"72":1,"73":1,"74":0,"75":1,"76":1,"77":0,"78":0,"79":0,"80":0,"81":0,"82":2,"83":1,"84":37,"85":0,"86":37,"87":31,"88":29,"89":59,"90":5,"91":24,"92":6,"93":6,"94":6,"95":11,"96":1,"97":5,"98":2,"99":22,"100":22,"101":18,"102":37,"103":37,"104":18,"105":19,"106":18,"107":0,"108":4,"109":4,"110":8,"111":8,"112":4,"113":4,"114":4,"115":0,"116":22,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":1,"125":1,"126":2,"127":2,"128":1,"129":1,"130":1,"131":20,"132":0,"133":20,"134":20,"135":20,"136":212231,"137":20,"138":461371,"139":461371,"140":911,"141":20,"142":4,"143":0,"144":4,"145":2,"146":2,"147":2,"148":2,"149":29,"150":29,"151":29,"152":2,"153":82,"154":82,"155":82,"156":2,"157":1,"158":200,"159":200,"160":200,"161":118,"162":35,"163":35,"164":83,"165":82,"166":83,"167":1},"f":{"0":53,"1":29,"2":28,"3":28,"4":140,"5":73,"6":2,"7":37,"8":22,"9":0,"10":1,"11":20,"12":4,"13":200},"b":{"0":[0,53],"1":[2,51],"2":[1,50],"3":[38,12],"4":[38,27],"5":[12,12,12],"6":[1,28],"7":[1,29],"8":[8,62],"9":[8,0],"10":[8,0],"11":[20,8],"12":[0,19],"13":[19,8],"14":[37,103],"15":[140,109],"16":[51,52],"17":[103,99,55],"18":[30,22],"19":[20,2],"20":[1,1],"21":[1,72],"22":[73,73],"23":[19,53],"24":[72,70,55],"25":[12,41],"26":[19,22],"27":[1,1],"28":[0,1],"29":[1,0],"30":[0,0],"31":[0,0],"32":[0,37],"33":[37,6,37,31],"34":[31,6],"35":[37,31],"36":[29,2],"37":[5,54],"38":[6,0],"39":[6,6],"40":[6,0],"41":[1,10],"42":[18,4],"43":[18,19],"44":[0,18],"45":[18,15],"46":[4,0],"47":[4,4],"48":[0,4],"49":[4,3],"50":[0,0],"51":[1,1],"52":[0,20],"53":[20,20],"54":[911,460460],"55":[0,4],"56":[2,2],"57":[29,0],"58":[82,0],"59":[118,82],"60":[35,83],"61":[82,1]},"inputSourceMap":{"version":3,"file":"D:/project_team077/src/controller/Query.ts","sources":["D:/project_team077/src/controller/Query.ts"],"names":[],"mappings":"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","sourcesContent":["import {\r\n\tIInsightFacade,\r\n\tInsightDatasetKind,\r\n\tInsightDataset,\r\n\tInsightResult,\r\n\tInsightError,\r\n\tNotFoundError,\r\n\tResultTooLargeError,\r\n} from \"./IInsightFacade\";\r\nimport {ISection} from \"./ISection\";\r\nimport {IRoom} from \"./IRoom\";\r\nimport {SComparison,\r\n\tNegation,\r\n\tEmptyClass,\r\n\tOptions,\r\n\taddResult} from \"./Query2\";\r\nimport {MComparison} from \"./Query3\";\r\nimport {Transformations, ApplyObject} from \"./Query4\";\r\n\r\nexport class Query {\r\n\tprivate WHERE?: Filter;\r\n\tprivate OPTIONS?: Options;\r\n\tprivate TRANSFORMATIONS?: Transformations;\r\n\r\n\tpublic isValidQuery(query: Query, p: any, query2: Query2) {\r\n\t\tif (Object.keys(p).length > 3) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tif (p.WHERE === undefined) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tif (p.OPTIONS === undefined) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tif (p.TRANSFORMATIONS === undefined){\r\n\t\t\treturn isValidFilter(p.WHERE,query2) && Options.isValidOptions(p.OPTIONS,query2);\r\n\t\t} else {\r\n\t\t\treturn isValidFilter(p.WHERE,query2) && Options.isValidOptions(p.OPTIONS,query2) &&\r\n\t\t\tTransformations.isValidT(p.TRANSFORMATIONS,query2); // TODO\r\n\t\t}\r\n\r\n\r\n\t}\r\n}\r\n\r\nexport class Query2 {\r\n\tpublic columns: string[] = []; // List of string\r\n\tpublic sort: string[] = []; // String for sorting\r\n\tpublic name?: string; // String\r\n\tpublic num: number = -1;\r\n\tpublic col: string[] = [];\r\n\tpublic dir: string = \"\";\r\n\tpublic group: string[] = [];\r\n\tpublic apply = new Map<string, string>(); // <applykey, applytoken_key>\r\n\r\n\tpublic static order_in_columns(query2: Query2): boolean {\r\n\t\tif (query2.sort.length === 0) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tfor (const s of query2.sort) {\r\n\t\t\tif (query2.columns.includes(s) === false) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\r\n\tpublic static columns_to_col(query2: Query2) {\r\n\t\tlet parts: string[];\r\n\t\tfor (const c of query2.columns) {\r\n\t\t\tlet str: string = c;\r\n\t\t\t// check if it is applykey\r\n\t\t\tif (!c.includes(\"_\")) {\r\n\t\t\t\tif (query2.apply.has(c)){\r\n\t\t\t\t\tlet applyValue = query2.apply.get(c);\r\n\t\t\t\t\tif (typeof applyValue === \"string\") {\r\n\t\t\t\t\t\tstr = applyValue.split(\"_\")[2];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tquery2.col.push(str);\r\n\t\t\t} else {\r\n\t\t\t\tparts = str.split(\"_\");\r\n\t\t\t\tquery2.col.push(parts[1]);\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static columns_in_groups_apply(query2: Query2): boolean {\r\n\t\tif (query2.group.length === 0) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tfor (const c of query2.columns) {\r\n\t\t\tif (!query2.group.includes(c) && !query2.apply.has(c)){\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n}\r\n\r\nexport type Filter = LogicComparison | MComparison | SComparison | Negation | EmptyClass;\r\n\r\nexport function isValidFilter(filter: any, query2: Query2) {\r\n\tif (filter.AND || filter.OR) {\r\n\t\treturn LogicComparison.isValidLogicComparison(filter,query2);\r\n\t} else if (filter.LT || filter.GT || filter.EQ) {\r\n\t\treturn MComparison.isValidMComparison(filter,query2);\r\n\t} else if (filter.IS) {\r\n\t\treturn SComparison.isValidSComparison(filter,query2);\r\n\t} else if (filter.NOT) {\r\n\t\treturn Negation.isValidNegation(filter,query2);\r\n\t} else if (Object.keys(filter).length === 0) {\r\n\t\treturn EmptyClass.isValidEmptyClass(filter,query2);\r\n\t} else {\r\n\t\t// undefined filter, invalid\r\n\t\treturn false;\r\n\t}\r\n}\r\nexport function filterResult(p: any, query2: Query2, data: ISection[] | IRoom[], count: number): InsightResult[] {\r\n\tlet result: InsightResult[] = [];\r\n\tif (p && Object.keys(p).length === 0) {\r\n\t\tresult = EmptyClass.filterEmptyClass(p,query2,data,count);\r\n\t} else if (p.LT || p.GT || p.EQ) {\r\n\t\tresult = MComparison.filterMComparison(p,query2,data,count);\r\n\t} else if (p.IS) {\r\n\t\tresult = SComparison.filterSComparison(p,query2,data,count);\r\n\t} else if (p.NOT) {\r\n\t\tresult = Negation.filterNegation(p,query2,data,count);\r\n\t} else {\r\n\t\tresult = LogicComparison.filterLogicComparison(p,query2,data,count);\r\n\t}\r\n\treturn result;\r\n}\r\n\r\nexport function filterNotResult(p: any,query2: Query2,data: ISection[] | IRoom[],count: number) {\r\n\tlet result: InsightResult[] = [];\r\n\tif (p.LT) {\r\n\t\tresult = MComparison.filterNotLT(p,query2,data,count + 1);\r\n\t} else if (p.EQ) {\r\n\t\tresult = MComparison.filterNotEQ(p,query2,data,count + 1);\r\n\t} else if (p.GT) {\r\n\t\tresult = MComparison.filterNotGT(p,query2,data,count + 1);\r\n\t} else if (p.IS) {\r\n\t\tresult = SComparison.filterNotIS(p,query2,data,count + 1);\r\n\t} else if (p.AND) {\r\n\t\tresult = LogicComparison.filterNotAnd(p,query2,data,count + 1);\r\n\t} else {\r\n\t\tresult = LogicComparison.filterNotOr(p,query2,data,count + 1);\r\n\t}\r\n\treturn result;\r\n}\r\n\r\nexport class LogicComparison {\r\n\tprivate AND?: Filter[];\r\n\tprivate OR?: Filter[];\r\n\r\n\tpublic static isValidLogicComparison(filter: any, query2: Query2){\r\n\r\n\t\tif ((!filter.AND && !filter.OR) || (filter.AND && filter.OR)) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tif (filter.AND && !filter.OR) {\r\n\t\t\tif (Object.keys(filter.AND).length > 0) {\r\n\t\t\t\tfor (const i of filter.AND) {\r\n\t\t\t\t\tif (!isValidFilter(i, query2)) {\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t} else if (!filter.AND && filter.OR) {\r\n\t\t\tif (Object.keys(filter.OR).length > 0) {\r\n\t\t\t\tfor (const j of filter.OR) {\r\n\t\t\t\t\tif (!isValidFilter(j, query2)) {\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tpublic static filterLogicComparison(p: any, query2: Query2, data: ISection[] | IRoom[], count: number) {\r\n\t\tlet result: InsightResult[] = [];\r\n\t\tif(p.AND) {\r\n\t\t\tfor (const i of p.AND) {\r\n\t\t\t\tlet r1: InsightResult[] = filterResult(i,query2,data,count + 1);\r\n\r\n\t\t\t\tif (result.length === 0) {\r\n\t\t\t\t\tresult = r1;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tresult = LogicComparison.and_list(result,r1);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (count === 0 && result.length > 5000) {\r\n\t\t\t\tthrow new ResultTooLargeError(\"> 5000\");\r\n\t\t\t}\r\n\t\t} else if (p.OR) {\r\n\t\t\tfor (const f of p.OR) {\r\n\t\t\t\tlet r1: InsightResult[] = filterResult(f,query2,data,count + 1);\r\n\t\t\t\tif (result.length === 0) {\r\n\t\t\t\t\tresult = r1;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tresult = LogicComparison.or_list(result,r1);\r\n\t\t\t\t\tif (count === 0 && result.length > 5000) {\r\n\t\t\t\t\t\tthrow new ResultTooLargeError(\"> 5000\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\tpublic static filterNotAnd(p: any, query2: Query2, data: ISection[] | IRoom[], count: number) {\r\n\t\tlet result: InsightResult[] = [];\r\n\t\tfor (const f of p.AND) {\r\n\t\t\tlet r1: InsightResult[] = filterNotResult(f,query2,data,count + 1);\r\n\t\t\tif (result.length === 0) {\r\n\t\t\t\tresult = r1;\r\n\t\t\t} else {\r\n\t\t\t\tresult = LogicComparison.or_list(result,r1);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\tpublic static filterNotOr(p: any, query2: Query2, data: ISection[] | IRoom[], count: number) {\r\n\t\tlet result: InsightResult[] = [];\r\n\t\tfor (const f of p.OR) {\r\n\t\t\tlet r1: InsightResult[] = filterNotResult(f,query2,data,count + 1);\r\n\t\t\tif (result.length === 0) {\r\n\t\t\t\tresult = r1;\r\n\t\t\t} else {\r\n\t\t\t\tresult = LogicComparison.and_list(result,r1);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\tpublic static and_list(a: InsightResult[], b: InsightResult[]) {\r\n\t\tif (a.length === 0  || b.length === 0) {\r\n\t\t\treturn [];\r\n\t\t}\r\n\t\tlet result = [];\r\n\t\tlet uuids: number[] = [];\r\n\t\tfor (const j of b) {\r\n\t\t\tuuids.push(j[Object.keys(j)[0]] as number);\r\n\t\t}\r\n\t\tfor (const r of a) {\r\n\t\t\tlet uuid = r[Object.keys(r)[0]] as number;\r\n\t\t\tif (uuids.includes(uuid)) {\r\n\t\t\t\tresult.push(r);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\t}\r\n\r\n\tpublic static or_list(a: InsightResult[], b: InsightResult[]) {\r\n\t\tif (a.length === 0) {\r\n\t\t\treturn b;\r\n\t\t} else if (b.length === 0) {\r\n\t\t\treturn a;\r\n\t\t} else {\r\n\t\t\tlet result = [];\r\n\t\t\tlet uuids: number[] = [];\r\n\t\t\tfor (const r of a) {\r\n\t\t\t\tif (!uuids.includes(r[Object.keys(r)[0]] as number)) {\r\n\t\t\t\t\tuuids.push(r[Object.keys(r)[0]] as number);\r\n\t\t\t\t\tresult.push(r);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tfor (const j of b) {\r\n\t\t\t\tif (!uuids.includes(j[Object.keys(j)[0]] as number)) {\r\n\t\t\t\t\tuuids.push(j[Object.keys(j)[0]] as number);\r\n\t\t\t\t\tresult.push(j);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn result;\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\nexport function isValidMkey (str: string, query2: Query2) {\r\n\tlet parts: string[];\r\n\tparts = str.split(\"_\");\r\n\tlet mField = [\"avg\",\"pass\",\"fail\",\"audit\",\"year\",\"lat\",\"lon\",\"seats\"];\r\n\tif (mField.includes(parts[1])) {\r\n\t\t// mfield correct\r\n\t\tif (!query2.name) {\r\n\t\t\tquery2.name = parts[0];\r\n\t\t\treturn true;\r\n\t\t} else if (query2.name === parts[0]){\r\n\t\t\treturn true;\r\n\t\t}\r\n\t}\r\n\treturn false;\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"968be43b4a8036e05986c5fd96f728c5a2fc12b8","contentHash":"b44696d6dce61721a1288ee04c440afbe28657a15f843f7aebb1e157cbe04d0e"},"D:\\project_team077\\src\\controller\\Query2.ts":{"path":"D:\\project_team077\\src\\controller\\Query2.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":158}},"2":{"start":{"line":4,"column":25},"end":{"line":4,"column":52}},"3":{"start":{"line":5,"column":16},"end":{"line":5,"column":34}},"4":{"start":{"line":6,"column":17},"end":{"line":6,"column":36}},"5":{"start":{"line":7,"column":17},"end":{"line":7,"column":36}},"6":{"start":{"line":14,"column":8},"end":{"line":40,"column":9}},"7":{"start":{"line":15,"column":12},"end":{"line":15,"column":32}},"8":{"start":{"line":16,"column":12},"end":{"line":16,"column":46}},"9":{"start":{"line":17,"column":12},"end":{"line":17,"column":38}},"10":{"start":{"line":18,"column":12},"end":{"line":20,"column":13}},"11":{"start":{"line":19,"column":16},"end":{"line":19,"column":29}},"12":{"start":{"line":21,"column":12},"end":{"line":23,"column":13}},"13":{"start":{"line":22,"column":16},"end":{"line":22,"column":29}},"14":{"start":{"line":24,"column":12},"end":{"line":26,"column":13}},"15":{"start":{"line":25,"column":16},"end":{"line":25,"column":29}},"16":{"start":{"line":27,"column":12},"end":{"line":29,"column":13}},"17":{"start":{"line":28,"column":16},"end":{"line":28,"column":29}},"18":{"start":{"line":30,"column":12},"end":{"line":32,"column":13}},"19":{"start":{"line":31,"column":16},"end":{"line":31,"column":45}},"20":{"start":{"line":33,"column":12},"end":{"line":35,"column":13}},"21":{"start":{"line":34,"column":16},"end":{"line":34,"column":64}},"22":{"start":{"line":36,"column":12},"end":{"line":36,"column":77}},"23":{"start":{"line":39,"column":12},"end":{"line":39,"column":25}},"24":{"start":{"line":43,"column":21},"end":{"line":43,"column":23}},"25":{"start":{"line":44,"column":23},"end":{"line":44,"column":30}},"26":{"start":{"line":45,"column":20},"end":{"line":45,"column":44}},"27":{"start":{"line":46,"column":21},"end":{"line":46,"column":37}},"28":{"start":{"line":47,"column":21},"end":{"line":47,"column":36}},"29":{"start":{"line":48,"column":8},"end":{"line":55,"column":9}},"30":{"start":{"line":49,"column":12},"end":{"line":54,"column":13}},"31":{"start":{"line":50,"column":16},"end":{"line":50,"column":45}},"32":{"start":{"line":51,"column":16},"end":{"line":53,"column":17}},"33":{"start":{"line":52,"column":20},"end":{"line":52,"column":77}},"34":{"start":{"line":56,"column":8},"end":{"line":56,"column":22}},"35":{"start":{"line":59,"column":21},"end":{"line":59,"column":23}},"36":{"start":{"line":60,"column":23},"end":{"line":60,"column":30}},"37":{"start":{"line":61,"column":20},"end":{"line":61,"column":44}},"38":{"start":{"line":62,"column":21},"end":{"line":62,"column":37}},"39":{"start":{"line":63,"column":21},"end":{"line":63,"column":36}},"40":{"start":{"line":64,"column":8},"end":{"line":68,"column":9}},"41":{"start":{"line":65,"column":12},"end":{"line":67,"column":13}},"42":{"start":{"line":66,"column":16},"end":{"line":66,"column":45}},"43":{"start":{"line":69,"column":8},"end":{"line":69,"column":22}},"44":{"start":{"line":72,"column":8},"end":{"line":83,"column":9}},"45":{"start":{"line":73,"column":12},"end":{"line":73,"column":34}},"46":{"start":{"line":75,"column":13},"end":{"line":83,"column":9}},"47":{"start":{"line":76,"column":12},"end":{"line":76,"column":72}},"48":{"start":{"line":78,"column":13},"end":{"line":83,"column":9}},"49":{"start":{"line":79,"column":12},"end":{"line":79,"column":53}},"50":{"start":{"line":81,"column":13},"end":{"line":83,"column":9}},"51":{"start":{"line":82,"column":12},"end":{"line":82,"column":74}},"52":{"start":{"line":86,"column":0},"end":{"line":86,"column":34}},"53":{"start":{"line":88,"column":16},"end":{"line":88,"column":30}},"54":{"start":{"line":89,"column":17},"end":{"line":90,"column":28}},"55":{"start":{"line":91,"column":4},"end":{"line":103,"column":5}},"56":{"start":{"line":92,"column":8},"end":{"line":95,"column":9}},"57":{"start":{"line":93,"column":12},"end":{"line":93,"column":35}},"58":{"start":{"line":94,"column":12},"end":{"line":94,"column":24}},"59":{"start":{"line":98,"column":8},"end":{"line":102,"column":9}},"60":{"start":{"line":99,"column":12},"end":{"line":101,"column":13}},"61":{"start":{"line":100,"column":16},"end":{"line":100,"column":28}},"62":{"start":{"line":104,"column":4},"end":{"line":104,"column":17}},"63":{"start":{"line":106,"column":0},"end":{"line":106,"column":34}},"64":{"start":{"line":108,"column":4},"end":{"line":108,"column":30}},"65":{"start":{"line":110,"column":0},"end":{"line":110,"column":48}},"66":{"start":{"line":114,"column":8},"end":{"line":119,"column":9}},"67":{"start":{"line":115,"column":12},"end":{"line":115,"column":25}},"68":{"start":{"line":118,"column":12},"end":{"line":118,"column":61}},"69":{"start":{"line":122,"column":21},"end":{"line":122,"column":23}},"70":{"start":{"line":123,"column":8},"end":{"line":143,"column":9}},"71":{"start":{"line":124,"column":12},"end":{"line":124,"column":79}},"72":{"start":{"line":126,"column":13},"end":{"line":143,"column":9}},"73":{"start":{"line":127,"column":12},"end":{"line":127,"column":90}},"74":{"start":{"line":129,"column":13},"end":{"line":143,"column":9}},"75":{"start":{"line":130,"column":12},"end":{"line":130,"column":89}},"76":{"start":{"line":132,"column":13},"end":{"line":143,"column":9}},"77":{"start":{"line":133,"column":12},"end":{"line":133,"column":77}},"78":{"start":{"line":135,"column":13},"end":{"line":143,"column":9}},"79":{"start":{"line":136,"column":12},"end":{"line":136,"column":86}},"80":{"start":{"line":138,"column":13},"end":{"line":143,"column":9}},"81":{"start":{"line":139,"column":12},"end":{"line":139,"column":86}},"82":{"start":{"line":141,"column":13},"end":{"line":143,"column":9}},"83":{"start":{"line":142,"column":12},"end":{"line":142,"column":86}},"84":{"start":{"line":144,"column":8},"end":{"line":146,"column":9}},"85":{"start":{"line":145,"column":12},"end":{"line":145,"column":69}},"86":{"start":{"line":147,"column":8},"end":{"line":147,"column":22}},"87":{"start":{"line":150,"column":0},"end":{"line":150,"column":28}},"88":{"start":{"line":153,"column":8},"end":{"line":153,"column":20}},"89":{"start":{"line":156,"column":21},"end":{"line":156,"column":23}},"90":{"start":{"line":157,"column":8},"end":{"line":159,"column":9}},"91":{"start":{"line":158,"column":12},"end":{"line":158,"column":79}},"92":{"start":{"line":160,"column":8},"end":{"line":162,"column":9}},"93":{"start":{"line":161,"column":12},"end":{"line":161,"column":41}},"94":{"start":{"line":163,"column":8},"end":{"line":163,"column":22}},"95":{"start":{"line":166,"column":0},"end":{"line":166,"column":32}},"96":{"start":{"line":168,"column":17},"end":{"line":168,"column":19}},"97":{"start":{"line":169,"column":4},"end":{"line":174,"column":5}},"98":{"start":{"line":170,"column":8},"end":{"line":170,"column":55}},"99":{"start":{"line":172,"column":9},"end":{"line":174,"column":5}},"100":{"start":{"line":173,"column":8},"end":{"line":173,"column":55}},"101":{"start":{"line":175,"column":4},"end":{"line":177,"column":5}},"102":{"start":{"line":176,"column":8},"end":{"line":176,"column":45}},"103":{"start":{"line":178,"column":4},"end":{"line":178,"column":19}},"104":{"start":{"line":179,"column":4},"end":{"line":179,"column":11}},"105":{"start":{"line":181,"column":0},"end":{"line":181,"column":30}},"106":{"start":{"line":186,"column":8},"end":{"line":218,"column":9}},"107":{"start":{"line":188,"column":12},"end":{"line":188,"column":25}},"108":{"start":{"line":191,"column":12},"end":{"line":197,"column":13}},"109":{"start":{"line":192,"column":16},"end":{"line":192,"column":44}},"110":{"start":{"line":193,"column":16},"end":{"line":196,"column":17}},"111":{"start":{"line":195,"column":20},"end":{"line":195,"column":33}},"112":{"start":{"line":198,"column":12},"end":{"line":217,"column":13}},"113":{"start":{"line":199,"column":16},"end":{"line":199,"column":28}},"114":{"start":{"line":201,"column":17},"end":{"line":217,"column":13}},"115":{"start":{"line":202,"column":16},"end":{"line":202,"column":29}},"116":{"start":{"line":205,"column":16},"end":{"line":216,"column":17}},"117":{"start":{"line":207,"column":20},"end":{"line":207,"column":72}},"118":{"start":{"line":209,"column":21},"end":{"line":216,"column":17}},"119":{"start":{"line":211,"column":20},"end":{"line":211,"column":46}},"120":{"start":{"line":212,"column":20},"end":{"line":212,"column":32}},"121":{"start":{"line":215,"column":20},"end":{"line":215,"column":33}},"122":{"start":{"line":219,"column":8},"end":{"line":219,"column":20}},"123":{"start":{"line":222,"column":0},"end":{"line":222,"column":26}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":10,"column":4},"end":{"line":10,"column":5}},"loc":{"start":{"line":10,"column":42},"end":{"line":41,"column":5}},"line":10},"1":{"name":"(anonymous_1)","decl":{"start":{"line":42,"column":4},"end":{"line":42,"column":5}},"loc":{"start":{"line":42,"column":53},"end":{"line":57,"column":5}},"line":42},"2":{"name":"(anonymous_2)","decl":{"start":{"line":58,"column":4},"end":{"line":58,"column":5}},"loc":{"start":{"line":58,"column":47},"end":{"line":70,"column":5}},"line":58},"3":{"name":"(anonymous_3)","decl":{"start":{"line":71,"column":4},"end":{"line":71,"column":5}},"loc":{"start":{"line":71,"column":38},"end":{"line":84,"column":5}},"line":71},"4":{"name":"isValidSkey","decl":{"start":{"line":87,"column":9},"end":{"line":87,"column":20}},"loc":{"start":{"line":87,"column":34},"end":{"line":105,"column":1}},"line":87},"5":{"name":"isValidInputString","decl":{"start":{"line":107,"column":9},"end":{"line":107,"column":27}},"loc":{"start":{"line":107,"column":33},"end":{"line":109,"column":1}},"line":107},"6":{"name":"(anonymous_6)","decl":{"start":{"line":113,"column":4},"end":{"line":113,"column":5}},"loc":{"start":{"line":113,"column":38},"end":{"line":120,"column":5}},"line":113},"7":{"name":"(anonymous_7)","decl":{"start":{"line":121,"column":4},"end":{"line":121,"column":5}},"loc":{"start":{"line":121,"column":50},"end":{"line":148,"column":5}},"line":121},"8":{"name":"(anonymous_8)","decl":{"start":{"line":152,"column":4},"end":{"line":152,"column":5}},"loc":{"start":{"line":152,"column":40},"end":{"line":154,"column":5}},"line":152},"9":{"name":"(anonymous_9)","decl":{"start":{"line":155,"column":4},"end":{"line":155,"column":5}},"loc":{"start":{"line":155,"column":52},"end":{"line":164,"column":5}},"line":155},"10":{"name":"addResult","decl":{"start":{"line":167,"column":9},"end":{"line":167,"column":18}},"loc":{"start":{"line":167,"column":33},"end":{"line":180,"column":1}},"line":167},"11":{"name":"(anonymous_11)","decl":{"start":{"line":185,"column":4},"end":{"line":185,"column":5}},"loc":{"start":{"line":185,"column":37},"end":{"line":220,"column":5}},"line":185}},"branchMap":{"0":{"loc":{"start":{"line":14,"column":8},"end":{"line":40,"column":9}},"type":"if","locations":[{"start":{"line":14,"column":8},"end":{"line":40,"column":9}},{"start":{"line":14,"column":8},"end":{"line":40,"column":9}}],"line":14},"1":{"loc":{"start":{"line":18,"column":12},"end":{"line":20,"column":13}},"type":"if","locations":[{"start":{"line":18,"column":12},"end":{"line":20,"column":13}},{"start":{"line":18,"column":12},"end":{"line":20,"column":13}}],"line":18},"2":{"loc":{"start":{"line":18,"column":16},"end":{"line":18,"column":60}},"type":"binary-expr","locations":[{"start":{"line":18,"column":16},"end":{"line":18,"column":36}},{"start":{"line":18,"column":40},"end":{"line":18,"column":60}}],"line":18},"3":{"loc":{"start":{"line":21,"column":12},"end":{"line":23,"column":13}},"type":"if","locations":[{"start":{"line":21,"column":12},"end":{"line":23,"column":13}},{"start":{"line":21,"column":12},"end":{"line":23,"column":13}}],"line":21},"4":{"loc":{"start":{"line":24,"column":12},"end":{"line":26,"column":13}},"type":"if","locations":[{"start":{"line":24,"column":12},"end":{"line":26,"column":13}},{"start":{"line":24,"column":12},"end":{"line":26,"column":13}}],"line":24},"5":{"loc":{"start":{"line":27,"column":12},"end":{"line":29,"column":13}},"type":"if","locations":[{"start":{"line":27,"column":12},"end":{"line":29,"column":13}},{"start":{"line":27,"column":12},"end":{"line":29,"column":13}}],"line":27},"6":{"loc":{"start":{"line":30,"column":12},"end":{"line":32,"column":13}},"type":"if","locations":[{"start":{"line":30,"column":12},"end":{"line":32,"column":13}},{"start":{"line":30,"column":12},"end":{"line":32,"column":13}}],"line":30},"7":{"loc":{"start":{"line":33,"column":12},"end":{"line":35,"column":13}},"type":"if","locations":[{"start":{"line":33,"column":12},"end":{"line":35,"column":13}},{"start":{"line":33,"column":12},"end":{"line":35,"column":13}}],"line":33},"8":{"loc":{"start":{"line":36,"column":19},"end":{"line":36,"column":76}},"type":"binary-expr","locations":[{"start":{"line":36,"column":19},"end":{"line":36,"column":46}},{"start":{"line":36,"column":50},"end":{"line":36,"column":76}}],"line":36},"9":{"loc":{"start":{"line":49,"column":12},"end":{"line":54,"column":13}},"type":"if","locations":[{"start":{"line":49,"column":12},"end":{"line":54,"column":13}},{"start":{"line":49,"column":12},"end":{"line":54,"column":13}}],"line":49},"10":{"loc":{"start":{"line":51,"column":16},"end":{"line":53,"column":17}},"type":"if","locations":[{"start":{"line":51,"column":16},"end":{"line":53,"column":17}},{"start":{"line":51,"column":16},"end":{"line":53,"column":17}}],"line":51},"11":{"loc":{"start":{"line":51,"column":20},"end":{"line":51,"column":55}},"type":"binary-expr","locations":[{"start":{"line":51,"column":20},"end":{"line":51,"column":31}},{"start":{"line":51,"column":35},"end":{"line":51,"column":55}}],"line":51},"12":{"loc":{"start":{"line":65,"column":12},"end":{"line":67,"column":13}},"type":"if","locations":[{"start":{"line":65,"column":12},"end":{"line":67,"column":13}},{"start":{"line":65,"column":12},"end":{"line":67,"column":13}}],"line":65},"13":{"loc":{"start":{"line":72,"column":8},"end":{"line":83,"column":9}},"type":"if","locations":[{"start":{"line":72,"column":8},"end":{"line":83,"column":9}},{"start":{"line":72,"column":8},"end":{"line":83,"column":9}}],"line":72},"14":{"loc":{"start":{"line":75,"column":13},"end":{"line":83,"column":9}},"type":"if","locations":[{"start":{"line":75,"column":13},"end":{"line":83,"column":9}},{"start":{"line":75,"column":13},"end":{"line":83,"column":9}}],"line":75},"15":{"loc":{"start":{"line":75,"column":17},"end":{"line":75,"column":71}},"type":"binary-expr","locations":[{"start":{"line":75,"column":17},"end":{"line":75,"column":34}},{"start":{"line":75,"column":38},"end":{"line":75,"column":71}}],"line":75},"16":{"loc":{"start":{"line":78,"column":13},"end":{"line":83,"column":9}},"type":"if","locations":[{"start":{"line":78,"column":13},"end":{"line":83,"column":9}},{"start":{"line":78,"column":13},"end":{"line":83,"column":9}}],"line":78},"17":{"loc":{"start":{"line":81,"column":13},"end":{"line":83,"column":9}},"type":"if","locations":[{"start":{"line":81,"column":13},"end":{"line":83,"column":9}},{"start":{"line":81,"column":13},"end":{"line":83,"column":9}}],"line":81},"18":{"loc":{"start":{"line":91,"column":4},"end":{"line":103,"column":5}},"type":"if","locations":[{"start":{"line":91,"column":4},"end":{"line":103,"column":5}},{"start":{"line":91,"column":4},"end":{"line":103,"column":5}}],"line":91},"19":{"loc":{"start":{"line":92,"column":8},"end":{"line":95,"column":9}},"type":"if","locations":[{"start":{"line":92,"column":8},"end":{"line":95,"column":9}},{"start":{"line":92,"column":8},"end":{"line":95,"column":9}}],"line":92},"20":{"loc":{"start":{"line":98,"column":8},"end":{"line":102,"column":9}},"type":"if","locations":[{"start":{"line":98,"column":8},"end":{"line":102,"column":9}},{"start":{"line":98,"column":8},"end":{"line":102,"column":9}}],"line":98},"21":{"loc":{"start":{"line":99,"column":12},"end":{"line":101,"column":13}},"type":"if","locations":[{"start":{"line":99,"column":12},"end":{"line":101,"column":13}},{"start":{"line":99,"column":12},"end":{"line":101,"column":13}}],"line":99},"22":{"loc":{"start":{"line":114,"column":8},"end":{"line":119,"column":9}},"type":"if","locations":[{"start":{"line":114,"column":8},"end":{"line":119,"column":9}},{"start":{"line":114,"column":8},"end":{"line":119,"column":9}}],"line":114},"23":{"loc":{"start":{"line":123,"column":8},"end":{"line":143,"column":9}},"type":"if","locations":[{"start":{"line":123,"column":8},"end":{"line":143,"column":9}},{"start":{"line":123,"column":8},"end":{"line":143,"column":9}}],"line":123},"24":{"loc":{"start":{"line":126,"column":13},"end":{"line":143,"column":9}},"type":"if","locations":[{"start":{"line":126,"column":13},"end":{"line":143,"column":9}},{"start":{"line":126,"column":13},"end":{"line":143,"column":9}}],"line":126},"25":{"loc":{"start":{"line":129,"column":13},"end":{"line":143,"column":9}},"type":"if","locations":[{"start":{"line":129,"column":13},"end":{"line":143,"column":9}},{"start":{"line":129,"column":13},"end":{"line":143,"column":9}}],"line":129},"26":{"loc":{"start":{"line":132,"column":13},"end":{"line":143,"column":9}},"type":"if","locations":[{"start":{"line":132,"column":13},"end":{"line":143,"column":9}},{"start":{"line":132,"column":13},"end":{"line":143,"column":9}}],"line":132},"27":{"loc":{"start":{"line":135,"column":13},"end":{"line":143,"column":9}},"type":"if","locations":[{"start":{"line":135,"column":13},"end":{"line":143,"column":9}},{"start":{"line":135,"column":13},"end":{"line":143,"column":9}}],"line":135},"28":{"loc":{"start":{"line":138,"column":13},"end":{"line":143,"column":9}},"type":"if","locations":[{"start":{"line":138,"column":13},"end":{"line":143,"column":9}},{"start":{"line":138,"column":13},"end":{"line":143,"column":9}}],"line":138},"29":{"loc":{"start":{"line":141,"column":13},"end":{"line":143,"column":9}},"type":"if","locations":[{"start":{"line":141,"column":13},"end":{"line":143,"column":9}},{"start":{"line":141,"column":13},"end":{"line":143,"column":9}}],"line":141},"30":{"loc":{"start":{"line":144,"column":8},"end":{"line":146,"column":9}},"type":"if","locations":[{"start":{"line":144,"column":8},"end":{"line":146,"column":9}},{"start":{"line":144,"column":8},"end":{"line":146,"column":9}}],"line":144},"31":{"loc":{"start":{"line":144,"column":12},"end":{"line":144,"column":47}},"type":"binary-expr","locations":[{"start":{"line":144,"column":12},"end":{"line":144,"column":23}},{"start":{"line":144,"column":27},"end":{"line":144,"column":47}}],"line":144},"32":{"loc":{"start":{"line":157,"column":8},"end":{"line":159,"column":9}},"type":"if","locations":[{"start":{"line":157,"column":8},"end":{"line":159,"column":9}},{"start":{"line":157,"column":8},"end":{"line":159,"column":9}}],"line":157},"33":{"loc":{"start":{"line":157,"column":12},"end":{"line":157,"column":45}},"type":"binary-expr","locations":[{"start":{"line":157,"column":12},"end":{"line":157,"column":30}},{"start":{"line":157,"column":34},"end":{"line":157,"column":45}}],"line":157},"34":{"loc":{"start":{"line":169,"column":4},"end":{"line":174,"column":5}},"type":"if","locations":[{"start":{"line":169,"column":4},"end":{"line":174,"column":5}},{"start":{"line":169,"column":4},"end":{"line":174,"column":5}}],"line":169},"35":{"loc":{"start":{"line":172,"column":9},"end":{"line":174,"column":5}},"type":"if","locations":[{"start":{"line":172,"column":9},"end":{"line":174,"column":5}},{"start":{"line":172,"column":9},"end":{"line":174,"column":5}}],"line":172},"36":{"loc":{"start":{"line":186,"column":8},"end":{"line":218,"column":9}},"type":"if","locations":[{"start":{"line":186,"column":8},"end":{"line":218,"column":9}},{"start":{"line":186,"column":8},"end":{"line":218,"column":9}}],"line":186},"37":{"loc":{"start":{"line":186,"column":12},"end":{"line":187,"column":38}},"type":"binary-expr","locations":[{"start":{"line":186,"column":13},"end":{"line":186,"column":37}},{"start":{"line":186,"column":41},"end":{"line":186,"column":63}},{"start":{"line":187,"column":15},"end":{"line":187,"column":38}}],"line":186},"38":{"loc":{"start":{"line":193,"column":16},"end":{"line":196,"column":17}},"type":"if","locations":[{"start":{"line":193,"column":16},"end":{"line":196,"column":17}},{"start":{"line":193,"column":16},"end":{"line":196,"column":17}}],"line":193},"39":{"loc":{"start":{"line":193,"column":20},"end":{"line":194,"column":68}},"type":"binary-expr","locations":[{"start":{"line":193,"column":21},"end":{"line":193,"column":62}},{"start":{"line":193,"column":68},"end":{"line":193,"column":96}},{"start":{"line":194,"column":21},"end":{"line":194,"column":67}}],"line":193},"40":{"loc":{"start":{"line":198,"column":12},"end":{"line":217,"column":13}},"type":"if","locations":[{"start":{"line":198,"column":12},"end":{"line":217,"column":13}},{"start":{"line":198,"column":12},"end":{"line":217,"column":13}}],"line":198},"41":{"loc":{"start":{"line":201,"column":17},"end":{"line":217,"column":13}},"type":"if","locations":[{"start":{"line":201,"column":17},"end":{"line":217,"column":13}},{"start":{"line":201,"column":17},"end":{"line":217,"column":13}}],"line":201},"42":{"loc":{"start":{"line":205,"column":16},"end":{"line":216,"column":17}},"type":"if","locations":[{"start":{"line":205,"column":16},"end":{"line":216,"column":17}},{"start":{"line":205,"column":16},"end":{"line":216,"column":17}}],"line":205},"43":{"loc":{"start":{"line":205,"column":20},"end":{"line":206,"column":54}},"type":"binary-expr","locations":[{"start":{"line":205,"column":20},"end":{"line":205,"column":53}},{"start":{"line":205,"column":57},"end":{"line":205,"column":90}},{"start":{"line":206,"column":20},"end":{"line":206,"column":54}}],"line":205},"44":{"loc":{"start":{"line":209,"column":21},"end":{"line":216,"column":17}},"type":"if","locations":[{"start":{"line":209,"column":21},"end":{"line":216,"column":17}},{"start":{"line":209,"column":21},"end":{"line":216,"column":17}}],"line":209},"45":{"loc":{"start":{"line":209,"column":25},"end":{"line":210,"column":66}},"type":"binary-expr","locations":[{"start":{"line":209,"column":25},"end":{"line":209,"column":66}},{"start":{"line":209,"column":70},"end":{"line":209,"column":98}},{"start":{"line":210,"column":20},"end":{"line":210,"column":66}}],"line":209}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":30,"7":30,"8":30,"9":30,"10":30,"11":1,"12":29,"13":1,"14":28,"15":1,"16":27,"17":0,"18":27,"19":13,"20":27,"21":14,"22":27,"23":0,"24":12,"25":12,"26":12,"27":12,"28":12,"29":12,"30":711096,"31":18791,"32":18791,"33":0,"34":12,"35":7,"36":7,"37":7,"38":7,"39":7,"40":7,"41":452284,"42":432880,"43":7,"44":1163380,"45":516896,"46":646484,"47":129588,"48":516896,"49":258448,"50":258448,"51":258448,"52":1,"53":109,"54":109,"55":109,"56":9,"57":9,"58":9,"59":100,"60":88,"61":87,"62":13,"63":1,"64":27,"65":1,"66":20,"67":0,"68":20,"69":19,"70":19,"71":1,"72":18,"73":0,"74":18,"75":1,"76":17,"77":7,"78":10,"79":8,"80":2,"81":1,"82":1,"83":1,"84":19,"85":1,"86":18,"87":1,"88":1,"89":1,"90":1,"91":0,"92":1,"93":364,"94":1,"95":1,"96":703866,"97":703866,"98":703219,"99":647,"100":647,"101":703866,"102":1830076,"103":703866,"104":703866,"105":1,"106":39,"107":2,"108":37,"109":87,"110":87,"111":1,"112":36,"113":1,"114":35,"115":1,"116":34,"117":12,"118":22,"119":22,"120":22,"121":0,"122":0,"123":1},"f":{"0":30,"1":12,"2":7,"3":1163380,"4":109,"5":27,"6":20,"7":19,"8":1,"9":1,"10":703866,"11":39},"b":{"0":[30,0],"1":[1,29],"2":[30,29],"3":[1,28],"4":[1,27],"5":[0,27],"6":[13,14],"7":[14,13],"8":[27,27],"9":[18791,692305],"10":[0,18791],"11":[18791,0],"12":[432880,19404],"13":[516896,646484],"14":[129588,516896],"15":[646484,388036],"16":[258448,258448],"17":[258448,0],"18":[9,100],"19":[9,0],"20":[88,12],"21":[87,1],"22":[0,20],"23":[1,18],"24":[0,18],"25":[1,17],"26":[7,10],"27":[8,2],"28":[1,1],"29":[1,0],"30":[1,18],"31":[19,5],"32":[0,1],"33":[1,0],"34":[703219,647],"35":[647,0],"36":[2,37],"37":[39,38,38],"38":[1,86],"39":[87,57,9],"40":[1,35],"41":[1,34],"42":[12,22],"43":[34,12,12],"44":[22,0],"45":[22,6,0]},"inputSourceMap":{"version":3,"file":"D:/project_team077/src/controller/Query2.ts","sources":["D:/project_team077/src/controller/Query2.ts"],"names":[],"mappings":"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","sourcesContent":["import {\r\n\tIInsightFacade,\r\n\tInsightDatasetKind,\r\n\tInsightDataset,\r\n\tInsightResult,\r\n\tInsightError,\r\n\tNotFoundError,\r\n\tResultTooLargeError,\r\n} from \"./IInsightFacade\";\r\nimport {ISection} from \"./ISection\";\r\nimport {IRoom} from \"./IRoom\";\r\nimport {Query, Query2, Filter,\r\n\tLogicComparison, isValidMkey,\r\n\tisValidFilter, filterResult} from \"./Query\";\r\nimport {MComparison} from \"./Query3\";\r\nimport {isValidApplykey, Order} from \"./Query4\";\r\nexport class SComparison {\r\n\tprivate IS?: string;\r\n\tpublic static isValidSComparison(sc: any, query2: Query2) {\r\n\t\tlet innerObj;\r\n\t\tlet innerS: string;\r\n\t\tlet innerV: string;\r\n\t\tif (sc.IS !== undefined) {\r\n\t\t\tinnerObj = sc[\"IS\"];\r\n\t\t\tinnerS = Object.keys(innerObj)[0];\r\n\t\t\tinnerV = innerObj[innerS];\r\n\t\t\tif (innerS === undefined || innerV === undefined) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tif (innerV.length === 0) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tif (typeof innerV !== \"string\") {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tif (typeof innerS !== \"string\") {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tif (innerV[0] === \"*\") {\r\n\t\t\t\tinnerV = innerV.substring(1);\r\n\t\t\t}\r\n\t\t\tif (innerV[innerV.length - 1] === \"*\") {\r\n\t\t\t\tinnerV = innerV.substring(0, innerV.length - 1);\r\n\t\t\t}\r\n\r\n\t\t\treturn isValidSkey(innerS, query2) && isValidInputString(innerV);\r\n\t\t} else {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static filterSComparison(p: any, query2: Query2, data: ISection[] | IRoom[], count: number) {\r\n\t\tlet result: InsightResult[] = [];\r\n\t\tlet innerObj = p[\"IS\"];\r\n\t\tlet inner = Object.keys(innerObj)[0];\r\n\t\tlet innerS = inner.split(\"_\");\r\n\t\tlet innerV = innerObj[inner];\r\n\t\tfor (const s of data) {\r\n\t\t\tif (this.containString(s[innerS[1]] as string, innerV)) {\r\n\t\t\t\taddResult(s,result,query2);\r\n\t\t\t\tif (count === 0 && result.length > 5000) {\r\n\t\t\t\t\tthrow new ResultTooLargeError(\"> 5000\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\tpublic static filterNotIS(p: any, query2: Query2, data: ISection[] | IRoom[], count: number) {\r\n\t\tlet result: InsightResult[] = [];\r\n\t\tlet innerObj = p[\"IS\"];\r\n\t\tlet inner = Object.keys(innerObj)[0];\r\n\t\tlet innerS = inner.split(\"_\");\r\n\t\tlet innerV = innerObj[inner];\r\n\t\tfor (const s of data) {\r\n\t\t\tif (!this.containString(s[innerS[1]] as string, innerV)) {\r\n\t\t\t\taddResult(s,result,query2);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\tpublic static containString(str: string, innerV: string) {\r\n\t\tif (!innerV.includes(\"*\")) {\r\n\t\t\treturn str === innerV;\r\n\t\t} else if (innerV[0] === \"*\" && innerV[innerV.length - 1] === \"*\") {\r\n\t\t\treturn str.includes(innerV.substring(1,innerV.length - 1));\r\n\t\t} else if (innerV[0] === \"*\") {\r\n\t\t\treturn str.endsWith(innerV.substring(1));\r\n\t\t} else if (innerV[innerV.length - 1] === \"*\") {\r\n\t\t\treturn str.startsWith(innerV.substring(0,innerV.length - 1));\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function isValidSkey(str: string, query2: Query2): boolean {\r\n\tlet parts = str.split(\"_\");\r\n\tlet sField = [\"dept\", \"instructor\", \"id\", \"title\", \"uuid\",\"fullname\",\"shortname\",\"number\",\"name\",\"address\",\"type\",\r\n\t\t\"furniture\",\"href\"];\r\n\tif (!query2.name) {\r\n\t\t// sfield correct\r\n\t\tif (sField.includes(parts[1])) {\r\n\t\t\tquery2.name = parts[0];\r\n\t\t\treturn true;\r\n\t\t}\r\n\t} else {\r\n\t\tif (query2.name === parts[0]) {\r\n\t\t\tif (sField.includes(parts[1])) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn false;\r\n}\r\n\r\nexport function isValidInputString(str: string): boolean {\r\n\treturn !str.includes(\"*\");\r\n}\r\n\r\nexport class Negation {\r\n\tprivate NOT?: Filter;\r\n\tpublic static isValidNegation(n: any, query2: Query2): boolean {\r\n\t\tif (!n.NOT) {\r\n\t\t\treturn false;\r\n\t\t} else {\r\n\t\t\treturn isValidFilter(n.NOT,query2);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static filterNegation(p: any, query2: Query2, data: ISection[] | IRoom[], count: number) {\r\n\t\tlet result: InsightResult[] = [];\r\n\t\tif (p.NOT.NOT) {\r\n\t\t\tresult = filterResult(p.NOT.NOT,query2,data,count);\r\n\t\t} else if (p.NOT.AND) {\r\n\t\t\tresult = LogicComparison.filterNotAnd(p.NOT,query2,data,count + 1);\r\n\t\t} else if (p.NOT.OR) {\r\n\t\t\tresult = LogicComparison.filterNotOr(p.NOT,query2,data,count + 1);\r\n\t\t} else if (p.NOT.IS) {\r\n\t\t\tresult = SComparison.filterNotIS(p.NOT, query2, data, count + 1);\r\n\t\t} else if (p.NOT.GT) {\r\n\t\t\tresult = MComparison.filterNotGT(p.NOT, query2, data, count + 1);\r\n\t\t} else if (p.NOT.EQ) {\r\n\t\t\tresult = MComparison.filterNotEQ(p.NOT, query2, data, count + 1);\r\n\t\t} else if (p.NOT.LT) {\r\n\t\t\tresult = MComparison.filterNotLT(p.NOT, query2, data, count + 1);\r\n\t\t}\r\n\r\n\t\tif (count === 0 && result.length > 5000) {\r\n\t\t\tthrow new ResultTooLargeError(\"> 5000\");\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\r\n}\r\nexport class EmptyClass {\r\n\r\n\tpublic static isValidEmptyClass(e: any, query2: Query2) {\r\n\t\treturn true;\r\n\t}\r\n\r\n\tpublic static filterEmptyClass(p: any, query2: Query2, data: ISection[] | IRoom[], count: number) {\r\n\t\tlet result: InsightResult[] = [];\r\n\t\tif (data.length > 5000 && count === 0) {\r\n\t\t\tthrow new ResultTooLargeError(\"Result too large\");\r\n\t\t}\r\n\t\tfor (const s of data) {\r\n\t\t\taddResult(s,result,query2);\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n}\r\n\r\nexport function addResult(s: ISection | IRoom, r: InsightResult[], query2: Query2) {\r\n\r\n\tlet result: InsightResult = {};\r\n\tif (s[\"uuid\"] !== undefined) {\r\n\t\tresult[query2.name + \"_\" + \"uuid\"] = s[\"uuid\"];\r\n\t} else if (s[\"name\"] !== undefined){\r\n\t\tresult[query2.name + \"_\" + \"name\"] = s[\"name\"];\r\n\t}\r\n\tfor (const c of query2.col) {\r\n\t\tresult[query2.name + \"_\" + c] = s[c];\r\n\t}\r\n\tr.push(result);\r\n\treturn;\r\n}\r\n\r\nexport class Options {\r\n\tprivate\tCOLUMNS?: string[];\r\n\tprivate ORDER?: Order | string;\r\n\tpublic static isValidOptions(o: any, query2: Query2): boolean {\r\n\t\tif ((Array.isArray(o.COLUMNS) && o.COLUMNS.length === 0)\r\n\t\t\t|| o.COLUMNS === undefined) {\r\n\t\t\treturn false;\r\n\t\t} else {\r\n\t\t\tfor (const column of o.COLUMNS) {\r\n\t\t\t\tquery2.columns.push(column);\r\n\t\t\t\tif ((!isValidMkey(column,query2)) && (!isValidSkey(column,query2)) &&\r\n\t\t\t\t(!isValidApplykey(column,query2))) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (o.ORDER === undefined) {\r\n\t\t\t\treturn true;\r\n\t\t\t} else if (Object.keys(o.ORDER).length === 0) {\r\n\t\t\t\treturn false;\r\n\t\t\t} else {\r\n\t\t\t\t// Check order\r\n\t\t\t\tif (Object.keys(o.ORDER).length === 2 && Object.keys(o.ORDER)[0] === \"dir\" &&\r\n\t\t\t\tObject.keys(o.ORDER)[1] === \"keys\") {\r\n\t\t\t\t\treturn Order.isValidOrder(o.ORDER,query2);\r\n\t\t\t\t} else if (isValidMkey(o.ORDER,query2) || isValidSkey(o.ORDER,query2) ||\r\n\t\t\t\tisValidApplykey(o.ORDER, query2)){\r\n\t\t\t\t\tquery2.sort.push(o.ORDER);\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"21e88899340561439a57354de6b85bd05fc493ce","contentHash":"41d3e6f79c40e4e48aaa50de08dfecdedcaab0ad6504600711659680a065ec30"},"D:\\project_team077\\src\\controller\\Query3.ts":{"path":"D:\\project_team077\\src\\controller\\Query3.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":29}},"2":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"3":{"start":{"line":5,"column":25},"end":{"line":5,"column":52}},"4":{"start":{"line":6,"column":17},"end":{"line":6,"column":36}},"5":{"start":{"line":15,"column":8},"end":{"line":23,"column":9}},"6":{"start":{"line":16,"column":12},"end":{"line":16,"column":32}},"7":{"start":{"line":18,"column":13},"end":{"line":23,"column":9}},"8":{"start":{"line":19,"column":12},"end":{"line":19,"column":32}},"9":{"start":{"line":22,"column":12},"end":{"line":22,"column":32}},"10":{"start":{"line":24,"column":8},"end":{"line":24,"column":42}},"11":{"start":{"line":25,"column":8},"end":{"line":25,"column":34}},"12":{"start":{"line":26,"column":8},"end":{"line":28,"column":9}},"13":{"start":{"line":27,"column":12},"end":{"line":27,"column":25}},"14":{"start":{"line":29,"column":8},"end":{"line":31,"column":9}},"15":{"start":{"line":30,"column":12},"end":{"line":30,"column":25}},"16":{"start":{"line":32,"column":8},"end":{"line":34,"column":9}},"17":{"start":{"line":33,"column":12},"end":{"line":33,"column":25}},"18":{"start":{"line":35,"column":8},"end":{"line":35,"column":56}},"19":{"start":{"line":38,"column":21},"end":{"line":38,"column":23}},"20":{"start":{"line":43,"column":8},"end":{"line":82,"column":9}},"21":{"start":{"line":44,"column":12},"end":{"line":44,"column":31}},"22":{"start":{"line":45,"column":12},"end":{"line":45,"column":45}},"23":{"start":{"line":46,"column":12},"end":{"line":46,"column":38}},"24":{"start":{"line":47,"column":12},"end":{"line":54,"column":13}},"25":{"start":{"line":48,"column":16},"end":{"line":53,"column":17}},"26":{"start":{"line":49,"column":20},"end":{"line":49,"column":63}},"27":{"start":{"line":50,"column":20},"end":{"line":52,"column":21}},"28":{"start":{"line":51,"column":24},"end":{"line":51,"column":81}},"29":{"start":{"line":56,"column":13},"end":{"line":82,"column":9}},"30":{"start":{"line":57,"column":12},"end":{"line":57,"column":31}},"31":{"start":{"line":58,"column":12},"end":{"line":58,"column":45}},"32":{"start":{"line":59,"column":12},"end":{"line":59,"column":38}},"33":{"start":{"line":60,"column":12},"end":{"line":67,"column":13}},"34":{"start":{"line":61,"column":16},"end":{"line":66,"column":17}},"35":{"start":{"line":62,"column":20},"end":{"line":62,"column":63}},"36":{"start":{"line":63,"column":20},"end":{"line":65,"column":21}},"37":{"start":{"line":64,"column":24},"end":{"line":64,"column":81}},"38":{"start":{"line":69,"column":13},"end":{"line":82,"column":9}},"39":{"start":{"line":70,"column":12},"end":{"line":70,"column":31}},"40":{"start":{"line":71,"column":12},"end":{"line":71,"column":45}},"41":{"start":{"line":72,"column":12},"end":{"line":72,"column":38}},"42":{"start":{"line":73,"column":12},"end":{"line":73,"column":37}},"43":{"start":{"line":74,"column":12},"end":{"line":81,"column":13}},"44":{"start":{"line":75,"column":16},"end":{"line":80,"column":17}},"45":{"start":{"line":76,"column":20},"end":{"line":76,"column":63}},"46":{"start":{"line":77,"column":20},"end":{"line":79,"column":21}},"47":{"start":{"line":78,"column":24},"end":{"line":78,"column":81}},"48":{"start":{"line":83,"column":8},"end":{"line":83,"column":22}},"49":{"start":{"line":86,"column":21},"end":{"line":86,"column":23}},"50":{"start":{"line":87,"column":23},"end":{"line":87,"column":30}},"51":{"start":{"line":88,"column":20},"end":{"line":88,"column":44}},"52":{"start":{"line":89,"column":21},"end":{"line":89,"column":37}},"53":{"start":{"line":90,"column":21},"end":{"line":90,"column":36}},"54":{"start":{"line":91,"column":8},"end":{"line":98,"column":9}},"55":{"start":{"line":92,"column":12},"end":{"line":97,"column":13}},"56":{"start":{"line":93,"column":16},"end":{"line":93,"column":59}},"57":{"start":{"line":94,"column":16},"end":{"line":96,"column":17}},"58":{"start":{"line":95,"column":20},"end":{"line":95,"column":77}},"59":{"start":{"line":99,"column":8},"end":{"line":99,"column":22}},"60":{"start":{"line":102,"column":21},"end":{"line":102,"column":23}},"61":{"start":{"line":103,"column":23},"end":{"line":103,"column":30}},"62":{"start":{"line":104,"column":20},"end":{"line":104,"column":44}},"63":{"start":{"line":105,"column":21},"end":{"line":105,"column":37}},"64":{"start":{"line":106,"column":21},"end":{"line":106,"column":36}},"65":{"start":{"line":107,"column":8},"end":{"line":114,"column":9}},"66":{"start":{"line":108,"column":12},"end":{"line":113,"column":13}},"67":{"start":{"line":109,"column":16},"end":{"line":109,"column":59}},"68":{"start":{"line":110,"column":16},"end":{"line":112,"column":17}},"69":{"start":{"line":111,"column":20},"end":{"line":111,"column":77}},"70":{"start":{"line":115,"column":8},"end":{"line":115,"column":22}},"71":{"start":{"line":118,"column":21},"end":{"line":118,"column":23}},"72":{"start":{"line":119,"column":23},"end":{"line":119,"column":30}},"73":{"start":{"line":120,"column":20},"end":{"line":120,"column":44}},"74":{"start":{"line":121,"column":21},"end":{"line":121,"column":37}},"75":{"start":{"line":122,"column":21},"end":{"line":122,"column":36}},"76":{"start":{"line":123,"column":8},"end":{"line":130,"column":9}},"77":{"start":{"line":124,"column":12},"end":{"line":129,"column":13}},"78":{"start":{"line":125,"column":16},"end":{"line":125,"column":59}},"79":{"start":{"line":126,"column":16},"end":{"line":128,"column":17}},"80":{"start":{"line":127,"column":20},"end":{"line":127,"column":77}},"81":{"start":{"line":131,"column":8},"end":{"line":131,"column":22}},"82":{"start":{"line":134,"column":0},"end":{"line":134,"column":34}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":11,"column":4},"end":{"line":11,"column":5}},"loc":{"start":{"line":11,"column":42},"end":{"line":36,"column":5}},"line":11},"1":{"name":"(anonymous_1)","decl":{"start":{"line":37,"column":4},"end":{"line":37,"column":5}},"loc":{"start":{"line":37,"column":53},"end":{"line":84,"column":5}},"line":37},"2":{"name":"(anonymous_2)","decl":{"start":{"line":85,"column":4},"end":{"line":85,"column":5}},"loc":{"start":{"line":85,"column":47},"end":{"line":100,"column":5}},"line":85},"3":{"name":"(anonymous_3)","decl":{"start":{"line":101,"column":4},"end":{"line":101,"column":5}},"loc":{"start":{"line":101,"column":47},"end":{"line":116,"column":5}},"line":101},"4":{"name":"(anonymous_4)","decl":{"start":{"line":117,"column":4},"end":{"line":117,"column":5}},"loc":{"start":{"line":117,"column":47},"end":{"line":132,"column":5}},"line":117}},"branchMap":{"0":{"loc":{"start":{"line":15,"column":8},"end":{"line":23,"column":9}},"type":"if","locations":[{"start":{"line":15,"column":8},"end":{"line":23,"column":9}},{"start":{"line":15,"column":8},"end":{"line":23,"column":9}}],"line":15},"1":{"loc":{"start":{"line":15,"column":12},"end":{"line":15,"column":37}},"type":"binary-expr","locations":[{"start":{"line":15,"column":12},"end":{"line":15,"column":17}},{"start":{"line":15,"column":21},"end":{"line":15,"column":27}},{"start":{"line":15,"column":31},"end":{"line":15,"column":37}}],"line":15},"2":{"loc":{"start":{"line":18,"column":13},"end":{"line":23,"column":9}},"type":"if","locations":[{"start":{"line":18,"column":13},"end":{"line":23,"column":9}},{"start":{"line":18,"column":13},"end":{"line":23,"column":9}}],"line":18},"3":{"loc":{"start":{"line":18,"column":17},"end":{"line":18,"column":42}},"type":"binary-expr","locations":[{"start":{"line":18,"column":17},"end":{"line":18,"column":23}},{"start":{"line":18,"column":27},"end":{"line":18,"column":32}},{"start":{"line":18,"column":36},"end":{"line":18,"column":42}}],"line":18},"4":{"loc":{"start":{"line":26,"column":8},"end":{"line":28,"column":9}},"type":"if","locations":[{"start":{"line":26,"column":8},"end":{"line":28,"column":9}},{"start":{"line":26,"column":8},"end":{"line":28,"column":9}}],"line":26},"5":{"loc":{"start":{"line":26,"column":12},"end":{"line":26,"column":56}},"type":"binary-expr","locations":[{"start":{"line":26,"column":12},"end":{"line":26,"column":32}},{"start":{"line":26,"column":36},"end":{"line":26,"column":56}}],"line":26},"6":{"loc":{"start":{"line":29,"column":8},"end":{"line":31,"column":9}},"type":"if","locations":[{"start":{"line":29,"column":8},"end":{"line":31,"column":9}},{"start":{"line":29,"column":8},"end":{"line":31,"column":9}}],"line":29},"7":{"loc":{"start":{"line":29,"column":12},"end":{"line":29,"column":56}},"type":"binary-expr","locations":[{"start":{"line":29,"column":12},"end":{"line":29,"column":33}},{"start":{"line":29,"column":37},"end":{"line":29,"column":56}}],"line":29},"8":{"loc":{"start":{"line":32,"column":8},"end":{"line":34,"column":9}},"type":"if","locations":[{"start":{"line":32,"column":8},"end":{"line":34,"column":9}},{"start":{"line":32,"column":8},"end":{"line":34,"column":9}}],"line":32},"9":{"loc":{"start":{"line":43,"column":8},"end":{"line":82,"column":9}},"type":"if","locations":[{"start":{"line":43,"column":8},"end":{"line":82,"column":9}},{"start":{"line":43,"column":8},"end":{"line":82,"column":9}}],"line":43},"10":{"loc":{"start":{"line":48,"column":16},"end":{"line":53,"column":17}},"type":"if","locations":[{"start":{"line":48,"column":16},"end":{"line":53,"column":17}},{"start":{"line":48,"column":16},"end":{"line":53,"column":17}}],"line":48},"11":{"loc":{"start":{"line":50,"column":20},"end":{"line":52,"column":21}},"type":"if","locations":[{"start":{"line":50,"column":20},"end":{"line":52,"column":21}},{"start":{"line":50,"column":20},"end":{"line":52,"column":21}}],"line":50},"12":{"loc":{"start":{"line":50,"column":24},"end":{"line":50,"column":59}},"type":"binary-expr","locations":[{"start":{"line":50,"column":24},"end":{"line":50,"column":35}},{"start":{"line":50,"column":39},"end":{"line":50,"column":59}}],"line":50},"13":{"loc":{"start":{"line":56,"column":13},"end":{"line":82,"column":9}},"type":"if","locations":[{"start":{"line":56,"column":13},"end":{"line":82,"column":9}},{"start":{"line":56,"column":13},"end":{"line":82,"column":9}}],"line":56},"14":{"loc":{"start":{"line":61,"column":16},"end":{"line":66,"column":17}},"type":"if","locations":[{"start":{"line":61,"column":16},"end":{"line":66,"column":17}},{"start":{"line":61,"column":16},"end":{"line":66,"column":17}}],"line":61},"15":{"loc":{"start":{"line":63,"column":20},"end":{"line":65,"column":21}},"type":"if","locations":[{"start":{"line":63,"column":20},"end":{"line":65,"column":21}},{"start":{"line":63,"column":20},"end":{"line":65,"column":21}}],"line":63},"16":{"loc":{"start":{"line":63,"column":24},"end":{"line":63,"column":59}},"type":"binary-expr","locations":[{"start":{"line":63,"column":24},"end":{"line":63,"column":35}},{"start":{"line":63,"column":39},"end":{"line":63,"column":59}}],"line":63},"17":{"loc":{"start":{"line":69,"column":13},"end":{"line":82,"column":9}},"type":"if","locations":[{"start":{"line":69,"column":13},"end":{"line":82,"column":9}},{"start":{"line":69,"column":13},"end":{"line":82,"column":9}}],"line":69},"18":{"loc":{"start":{"line":75,"column":16},"end":{"line":80,"column":17}},"type":"if","locations":[{"start":{"line":75,"column":16},"end":{"line":80,"column":17}},{"start":{"line":75,"column":16},"end":{"line":80,"column":17}}],"line":75},"19":{"loc":{"start":{"line":77,"column":20},"end":{"line":79,"column":21}},"type":"if","locations":[{"start":{"line":77,"column":20},"end":{"line":79,"column":21}},{"start":{"line":77,"column":20},"end":{"line":79,"column":21}}],"line":77},"20":{"loc":{"start":{"line":77,"column":24},"end":{"line":77,"column":59}},"type":"binary-expr","locations":[{"start":{"line":77,"column":24},"end":{"line":77,"column":35}},{"start":{"line":77,"column":39},"end":{"line":77,"column":59}}],"line":77},"21":{"loc":{"start":{"line":92,"column":12},"end":{"line":97,"column":13}},"type":"if","locations":[{"start":{"line":92,"column":12},"end":{"line":97,"column":13}},{"start":{"line":92,"column":12},"end":{"line":97,"column":13}}],"line":92},"22":{"loc":{"start":{"line":94,"column":16},"end":{"line":96,"column":17}},"type":"if","locations":[{"start":{"line":94,"column":16},"end":{"line":96,"column":17}},{"start":{"line":94,"column":16},"end":{"line":96,"column":17}}],"line":94},"23":{"loc":{"start":{"line":94,"column":20},"end":{"line":94,"column":55}},"type":"binary-expr","locations":[{"start":{"line":94,"column":20},"end":{"line":94,"column":31}},{"start":{"line":94,"column":35},"end":{"line":94,"column":55}}],"line":94},"24":{"loc":{"start":{"line":108,"column":12},"end":{"line":113,"column":13}},"type":"if","locations":[{"start":{"line":108,"column":12},"end":{"line":113,"column":13}},{"start":{"line":108,"column":12},"end":{"line":113,"column":13}}],"line":108},"25":{"loc":{"start":{"line":110,"column":16},"end":{"line":112,"column":17}},"type":"if","locations":[{"start":{"line":110,"column":16},"end":{"line":112,"column":17}},{"start":{"line":110,"column":16},"end":{"line":112,"column":17}}],"line":110},"26":{"loc":{"start":{"line":110,"column":20},"end":{"line":110,"column":55}},"type":"binary-expr","locations":[{"start":{"line":110,"column":20},"end":{"line":110,"column":31}},{"start":{"line":110,"column":35},"end":{"line":110,"column":55}}],"line":110},"27":{"loc":{"start":{"line":124,"column":12},"end":{"line":129,"column":13}},"type":"if","locations":[{"start":{"line":124,"column":12},"end":{"line":129,"column":13}},{"start":{"line":124,"column":12},"end":{"line":129,"column":13}}],"line":124},"28":{"loc":{"start":{"line":126,"column":16},"end":{"line":128,"column":17}},"type":"if","locations":[{"start":{"line":126,"column":16},"end":{"line":128,"column":17}},{"start":{"line":126,"column":16},"end":{"line":128,"column":17}}],"line":126},"29":{"loc":{"start":{"line":126,"column":20},"end":{"line":126,"column":55}},"type":"binary-expr","locations":[{"start":{"line":126,"column":20},"end":{"line":126,"column":31}},{"start":{"line":126,"column":35},"end":{"line":126,"column":55}}],"line":126}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":51,"6":4,"7":47,"8":44,"9":3,"10":51,"11":51,"12":51,"13":1,"14":50,"15":1,"16":49,"17":1,"18":48,"19":19,"20":19,"21":2,"22":2,"23":2,"24":2,"25":129224,"26":128826,"27":128826,"28":0,"29":17,"30":15,"31":15,"32":15,"33":15,"34":845321,"35":33348,"36":33348,"37":1,"38":2,"39":2,"40":2,"41":2,"42":2,"43":2,"44":129224,"45":82,"46":82,"47":0,"48":18,"49":2,"50":2,"51":2,"52":2,"53":2,"54":2,"55":129224,"56":55,"57":55,"58":0,"59":2,"60":1,"61":1,"62":1,"63":1,"64":1,"65":1,"66":64612,"67":24627,"68":24627,"69":0,"70":1,"71":9,"72":9,"73":9,"74":9,"75":9,"76":9,"77":581508,"78":64893,"79":64893,"80":0,"81":9,"82":1},"f":{"0":51,"1":19,"2":2,"3":1,"4":9},"b":{"0":[4,47],"1":[51,4,4],"2":[44,3],"3":[47,47,44],"4":[1,50],"5":[51,50],"6":[1,49],"7":[50,1],"8":[1,48],"9":[2,17],"10":[128826,398],"11":[0,128826],"12":[128826,0],"13":[15,2],"14":[33348,811973],"15":[1,33347],"16":[33348,5148],"17":[2,0],"18":[82,129142],"19":[0,82],"20":[82,0],"21":[55,129169],"22":[0,55],"23":[55,0],"24":[24627,39985],"25":[0,24627],"26":[24627,0],"27":[64893,516615],"28":[0,64893],"29":[64893,0]},"inputSourceMap":{"version":3,"file":"D:/project_team077/src/controller/Query3.ts","sources":["D:/project_team077/src/controller/Query3.ts"],"names":[],"mappings":"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","sourcesContent":["\r\nimport {Query, Query2, Filter,\r\n\tLogicComparison, isValidMkey,\r\n\tisValidFilter, filterResult} from \"./Query\";\r\nimport {\r\n\tIInsightFacade,\r\n\tInsightDatasetKind,\r\n\tInsightDataset,\r\n\tInsightResult,\r\n\tInsightError,\r\n\tNotFoundError,\r\n\tResultTooLargeError,\r\n} from \"./IInsightFacade\";\r\nimport {SComparison,\r\n\tNegation,\r\n\tEmptyClass,\r\n\tOptions,\r\n\taddResult} from \"./Query2\";\r\nimport {ISection} from \"./ISection\";\r\nimport {IRoom} from \"./IRoom\";\r\n\r\nexport class MComparison {\r\n\tprivate LT?: string; // {\"mkey\": number}\r\n\tprivate GT?: string;\r\n\tprivate EQ?: string;\r\n\r\n\tpublic static isValidMComparison(mc: any, query2: Query2) {\r\n\t\tlet innerObj;\r\n\t\tlet innerM: string;\r\n\t\tlet innerV: number;\r\n\t\tif (mc.LT && !mc.GT && !mc.EQ) {\r\n\t\t\tinnerObj = mc[\"LT\"];\r\n\t\t} else if (!mc.LT && mc.GT && !mc.EQ) {\r\n\t\t\tinnerObj = mc[\"GT\"];\r\n\t\t} else {\r\n\t\t\tinnerObj = mc[\"EQ\"];\r\n\t\t}\r\n\t\tinnerM = Object.keys(innerObj)[0];\r\n\t\tinnerV = innerObj[innerM];\r\n\t\tif (innerM === undefined || innerV === undefined) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tif (Array.isArray(innerV) && innerV.length === 0) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tif (typeof innerV !== \"number\") {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn isValidMkey(innerM, query2);\r\n// \t\tif (!isNaN(Number(innerV))) {\r\n// \t\t\treturn isValidMkey(innerM, query2);\r\n// \t\t} else {\r\n// \t\t\treturn false;\r\n// \t\t}\r\n\r\n\t}\r\n\r\n\tpublic static filterMComparison(p: any, query2: Query2, data: ISection[] | IRoom[],count: number) {\r\n\t\tlet result: InsightResult[] = [];\r\n\t\tlet innerObj;\r\n\t\tlet innerM;\r\n\t\tlet innerV: number;\r\n\t\tlet inner;\r\n\t\tif (p.LT) {\r\n\t\t\tinnerObj = p[\"LT\"];\r\n\t\t\tinner = Object.keys(innerObj)[0];\r\n\t\t\tinnerM = inner.split(\"_\"); // mfield\r\n\t\t\tfor (const s of data) {\r\n\t\t\t\tif (s[innerM[1]] < innerObj[inner]) {\r\n\t\t\t\t\taddResult(s,result,query2);\r\n\t\t\t\t\tif (count === 0 && result.length > 5000) {\r\n\t\t\t\t\t\tthrow new ResultTooLargeError(\"> 5000\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else if (p.GT) {\r\n\t\t\tinnerObj = p[\"GT\"];\r\n\t\t\tinner = Object.keys(innerObj)[0];\r\n\t\t\tinnerM = inner.split(\"_\"); // mfield\r\n\t\t\tfor (const s of data) {\r\n\t\t\t\tif (s[innerM[1]] > innerObj[inner]) {\r\n\t\t\t\t\taddResult(s,result,query2);\r\n\t\t\t\t\tif (count === 0 && result.length > 5000) {\r\n\t\t\t\t\t\tthrow new ResultTooLargeError(\"> 5000\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else if (p.EQ) {\r\n\t\t\tinnerObj = p[\"EQ\"];\r\n\t\t\tinner = Object.keys(innerObj)[0];\r\n\t\t\tinnerM = inner.split(\"_\"); // mfield\r\n\t\t\tinnerV = innerObj[inner];\r\n\t\t\tfor (const s of data) {\r\n\t\t\t\tif (s[innerM[1]] === innerV) {\r\n\t\t\t\t\taddResult(s,result,query2);\r\n\t\t\t\t\tif (count === 0 && result.length > 5000) {\r\n\t\t\t\t\t\tthrow new ResultTooLargeError(\"> 5000\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\tpublic static filterNotLT(p: any,query2: Query2,data: ISection[] | IRoom[],count: number) {\r\n\t\tlet result: InsightResult[] = [];\r\n\t\tlet innerObj = p[\"LT\"];\r\n\t\tlet inner = Object.keys(innerObj)[0];\r\n\t\tlet innerM = inner.split(\"_\"); // mfield\r\n\t\tlet innerV = innerObj[inner];\r\n\t\tfor (const s of data) {\r\n\t\t\tif (s[innerM[1]] >= innerV) {\r\n\t\t\t\taddResult(s,result,query2);\r\n\t\t\t\tif (count === 0 && result.length > 5000) {\r\n\t\t\t\t\tthrow new ResultTooLargeError(\"> 5000\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\tpublic static filterNotEQ(p: any,query2: Query2,data: ISection[] | IRoom[],count: number) {\r\n\t\tlet result: InsightResult[] = [];\r\n\t\tlet innerObj = p[\"EQ\"];\r\n\t\tlet inner = Object.keys(innerObj)[0];\r\n\t\tlet innerM = inner.split(\"_\"); // mfield\r\n\t\tlet innerV = innerObj[inner];\r\n\t\tfor (const s of data) {\r\n\t\t\tif (s[innerM[1]] !== innerV) {\r\n\t\t\t\taddResult(s,result,query2);\r\n\t\t\t\tif (count === 0 && result.length > 5000) {\r\n\t\t\t\t\tthrow new ResultTooLargeError(\"> 5000\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\tpublic static filterNotGT(p: any,query2: Query2,data: ISection[] | IRoom[],count: number) {\r\n\t\tlet result: InsightResult[] = [];\r\n\t\tlet innerObj = p[\"GT\"];\r\n\t\tlet inner = Object.keys(innerObj)[0];\r\n\t\tlet innerM = inner.split(\"_\"); // mfield\r\n\t\tlet innerV = innerObj[inner];\r\n\t\tfor (const s of data) {\r\n\t\t\tif (s[innerM[1]] <= innerV) {\r\n\t\t\t\taddResult(s,result,query2);\r\n\t\t\t\tif (count === 0 && result.length > 5000) {\r\n\t\t\t\t\tthrow new ResultTooLargeError(\"> 5000\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"1b31155f8ddf7b8244287277c5f64a91b5063002","contentHash":"e3c715a1f5d6cdf7572f158983bc68ad54b8e0827067277f5f2450539dd12ef6"},"D:\\project_team077\\src\\controller\\Query4.ts":{"path":"D:\\project_team077\\src\\controller\\Query4.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":117}},"2":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"3":{"start":{"line":5,"column":17},"end":{"line":5,"column":36}},"4":{"start":{"line":7,"column":4},"end":{"line":7,"column":44}},"5":{"start":{"line":9,"column":0},"end":{"line":9,"column":42}},"6":{"start":{"line":14,"column":8},"end":{"line":31,"column":9}},"7":{"start":{"line":15,"column":12},"end":{"line":15,"column":25}},"8":{"start":{"line":18,"column":12},"end":{"line":20,"column":13}},"9":{"start":{"line":19,"column":16},"end":{"line":19,"column":29}},"10":{"start":{"line":21,"column":12},"end":{"line":21,"column":31}},"11":{"start":{"line":22,"column":12},"end":{"line":24,"column":13}},"12":{"start":{"line":23,"column":16},"end":{"line":23,"column":29}},"13":{"start":{"line":25,"column":12},"end":{"line":30,"column":13}},"14":{"start":{"line":26,"column":16},"end":{"line":28,"column":17}},"15":{"start":{"line":27,"column":20},"end":{"line":27,"column":33}},"16":{"start":{"line":29,"column":16},"end":{"line":29,"column":36}},"17":{"start":{"line":32,"column":8},"end":{"line":32,"column":20}},"18":{"start":{"line":35,"column":0},"end":{"line":35,"column":22}},"19":{"start":{"line":40,"column":8},"end":{"line":42,"column":9}},"20":{"start":{"line":41,"column":12},"end":{"line":41,"column":25}},"21":{"start":{"line":43,"column":8},"end":{"line":53,"column":9}},"22":{"start":{"line":44,"column":12},"end":{"line":49,"column":13}},"23":{"start":{"line":45,"column":16},"end":{"line":47,"column":17}},"24":{"start":{"line":46,"column":20},"end":{"line":46,"column":33}},"25":{"start":{"line":48,"column":16},"end":{"line":48,"column":37}},"26":{"start":{"line":52,"column":12},"end":{"line":52,"column":25}},"27":{"start":{"line":54,"column":8},"end":{"line":69,"column":9}},"28":{"start":{"line":55,"column":12},"end":{"line":65,"column":13}},"29":{"start":{"line":56,"column":16},"end":{"line":58,"column":17}},"30":{"start":{"line":57,"column":20},"end":{"line":57,"column":33}},"31":{"start":{"line":59,"column":27},"end":{"line":59,"column":44}},"32":{"start":{"line":60,"column":16},"end":{"line":62,"column":17}},"33":{"start":{"line":61,"column":20},"end":{"line":61,"column":33}},"34":{"start":{"line":63,"column":26},"end":{"line":63,"column":83}},"35":{"start":{"line":64,"column":16},"end":{"line":64,"column":44}},"36":{"start":{"line":68,"column":12},"end":{"line":68,"column":25}},"37":{"start":{"line":70,"column":8},"end":{"line":70,"column":20}},"38":{"start":{"line":73,"column":0},"end":{"line":73,"column":42}},"39":{"start":{"line":76,"column":8},"end":{"line":78,"column":9}},"40":{"start":{"line":77,"column":12},"end":{"line":77,"column":25}},"41":{"start":{"line":79,"column":18},"end":{"line":79,"column":35}},"42":{"start":{"line":80,"column":8},"end":{"line":85,"column":9}},"43":{"start":{"line":81,"column":12},"end":{"line":81,"column":25}},"44":{"start":{"line":84,"column":12},"end":{"line":84,"column":66}},"45":{"start":{"line":88,"column":0},"end":{"line":88,"column":30}},"46":{"start":{"line":91,"column":20},"end":{"line":91,"column":34}},"47":{"start":{"line":92,"column":8},"end":{"line":94,"column":9}},"48":{"start":{"line":93,"column":12},"end":{"line":93,"column":25}},"49":{"start":{"line":95,"column":25},"end":{"line":95,"column":53}},"50":{"start":{"line":96,"column":8},"end":{"line":98,"column":9}},"51":{"start":{"line":97,"column":12},"end":{"line":97,"column":25}},"52":{"start":{"line":99,"column":8},"end":{"line":101,"column":9}},"53":{"start":{"line":100,"column":12},"end":{"line":100,"column":25}},"54":{"start":{"line":102,"column":8},"end":{"line":104,"column":9}},"55":{"start":{"line":103,"column":12},"end":{"line":103,"column":25}},"56":{"start":{"line":105,"column":8},"end":{"line":105,"column":20}},"57":{"start":{"line":108,"column":0},"end":{"line":108,"column":34}}},"fnMap":{"0":{"name":"isValidApplykey","decl":{"start":{"line":6,"column":9},"end":{"line":6,"column":24}},"loc":{"start":{"line":6,"column":36},"end":{"line":8,"column":1}},"line":6},"1":{"name":"(anonymous_1)","decl":{"start":{"line":13,"column":4},"end":{"line":13,"column":5}},"loc":{"start":{"line":13,"column":35},"end":{"line":33,"column":5}},"line":13},"2":{"name":"(anonymous_2)","decl":{"start":{"line":39,"column":4},"end":{"line":39,"column":5}},"loc":{"start":{"line":39,"column":31},"end":{"line":71,"column":5}},"line":39},"3":{"name":"(anonymous_3)","decl":{"start":{"line":75,"column":4},"end":{"line":75,"column":5}},"loc":{"start":{"line":75,"column":39},"end":{"line":86,"column":5}},"line":75},"4":{"name":"(anonymous_4)","decl":{"start":{"line":90,"column":4},"end":{"line":90,"column":5}},"loc":{"start":{"line":90,"column":41},"end":{"line":106,"column":5}},"line":90}},"branchMap":{"0":{"loc":{"start":{"line":7,"column":11},"end":{"line":7,"column":43}},"type":"binary-expr","locations":[{"start":{"line":7,"column":11},"end":{"line":7,"column":23}},{"start":{"line":7,"column":27},"end":{"line":7,"column":43}}],"line":7},"1":{"loc":{"start":{"line":14,"column":8},"end":{"line":31,"column":9}},"type":"if","locations":[{"start":{"line":14,"column":8},"end":{"line":31,"column":9}},{"start":{"line":14,"column":8},"end":{"line":31,"column":9}}],"line":14},"2":{"loc":{"start":{"line":14,"column":12},"end":{"line":14,"column":55}},"type":"binary-expr","locations":[{"start":{"line":14,"column":12},"end":{"line":14,"column":31}},{"start":{"line":14,"column":35},"end":{"line":14,"column":55}}],"line":14},"3":{"loc":{"start":{"line":18,"column":12},"end":{"line":20,"column":13}},"type":"if","locations":[{"start":{"line":18,"column":12},"end":{"line":20,"column":13}},{"start":{"line":18,"column":12},"end":{"line":20,"column":13}}],"line":18},"4":{"loc":{"start":{"line":18,"column":16},"end":{"line":18,"column":50}},"type":"binary-expr","locations":[{"start":{"line":18,"column":16},"end":{"line":18,"column":30}},{"start":{"line":18,"column":34},"end":{"line":18,"column":50}}],"line":18},"5":{"loc":{"start":{"line":22,"column":12},"end":{"line":24,"column":13}},"type":"if","locations":[{"start":{"line":22,"column":12},"end":{"line":24,"column":13}},{"start":{"line":22,"column":12},"end":{"line":24,"column":13}}],"line":22},"6":{"loc":{"start":{"line":22,"column":17},"end":{"line":22,"column":61}},"type":"binary-expr","locations":[{"start":{"line":22,"column":17},"end":{"line":22,"column":38}},{"start":{"line":22,"column":42},"end":{"line":22,"column":61}}],"line":22},"7":{"loc":{"start":{"line":26,"column":16},"end":{"line":28,"column":17}},"type":"if","locations":[{"start":{"line":26,"column":16},"end":{"line":28,"column":17}},{"start":{"line":26,"column":16},"end":{"line":28,"column":17}}],"line":26},"8":{"loc":{"start":{"line":26,"column":20},"end":{"line":26,"column":128}},"type":"binary-expr","locations":[{"start":{"line":26,"column":20},"end":{"line":26,"column":56}},{"start":{"line":26,"column":60},"end":{"line":26,"column":97}},{"start":{"line":26,"column":101},"end":{"line":26,"column":128}}],"line":26},"9":{"loc":{"start":{"line":40,"column":8},"end":{"line":42,"column":9}},"type":"if","locations":[{"start":{"line":40,"column":8},"end":{"line":42,"column":9}},{"start":{"line":40,"column":8},"end":{"line":42,"column":9}}],"line":40},"10":{"loc":{"start":{"line":40,"column":12},"end":{"line":40,"column":58}},"type":"binary-expr","locations":[{"start":{"line":40,"column":12},"end":{"line":40,"column":33}},{"start":{"line":40,"column":37},"end":{"line":40,"column":58}}],"line":40},"11":{"loc":{"start":{"line":43,"column":8},"end":{"line":53,"column":9}},"type":"if","locations":[{"start":{"line":43,"column":8},"end":{"line":53,"column":9}},{"start":{"line":43,"column":8},"end":{"line":53,"column":9}}],"line":43},"12":{"loc":{"start":{"line":43,"column":12},"end":{"line":43,"column":56}},"type":"binary-expr","locations":[{"start":{"line":43,"column":12},"end":{"line":43,"column":34}},{"start":{"line":43,"column":38},"end":{"line":43,"column":56}}],"line":43},"13":{"loc":{"start":{"line":45,"column":16},"end":{"line":47,"column":17}},"type":"if","locations":[{"start":{"line":45,"column":16},"end":{"line":47,"column":17}},{"start":{"line":45,"column":16},"end":{"line":47,"column":17}}],"line":45},"14":{"loc":{"start":{"line":45,"column":20},"end":{"line":45,"column":97}},"type":"binary-expr","locations":[{"start":{"line":45,"column":20},"end":{"line":45,"column":56}},{"start":{"line":45,"column":60},"end":{"line":45,"column":97}}],"line":45},"15":{"loc":{"start":{"line":54,"column":8},"end":{"line":69,"column":9}},"type":"if","locations":[{"start":{"line":54,"column":8},"end":{"line":69,"column":9}},{"start":{"line":54,"column":8},"end":{"line":69,"column":9}}],"line":54},"16":{"loc":{"start":{"line":56,"column":16},"end":{"line":58,"column":17}},"type":"if","locations":[{"start":{"line":56,"column":16},"end":{"line":58,"column":17}},{"start":{"line":56,"column":16},"end":{"line":58,"column":17}}],"line":56},"17":{"loc":{"start":{"line":60,"column":16},"end":{"line":62,"column":17}},"type":"if","locations":[{"start":{"line":60,"column":16},"end":{"line":62,"column":17}},{"start":{"line":60,"column":16},"end":{"line":62,"column":17}}],"line":60},"18":{"loc":{"start":{"line":76,"column":8},"end":{"line":78,"column":9}},"type":"if","locations":[{"start":{"line":76,"column":8},"end":{"line":78,"column":9}},{"start":{"line":76,"column":8},"end":{"line":78,"column":9}}],"line":76},"19":{"loc":{"start":{"line":80,"column":8},"end":{"line":85,"column":9}},"type":"if","locations":[{"start":{"line":80,"column":8},"end":{"line":85,"column":9}},{"start":{"line":80,"column":8},"end":{"line":85,"column":9}}],"line":80},"20":{"loc":{"start":{"line":92,"column":8},"end":{"line":94,"column":9}},"type":"if","locations":[{"start":{"line":92,"column":8},"end":{"line":94,"column":9}},{"start":{"line":92,"column":8},"end":{"line":94,"column":9}}],"line":92},"21":{"loc":{"start":{"line":96,"column":8},"end":{"line":98,"column":9}},"type":"if","locations":[{"start":{"line":96,"column":8},"end":{"line":98,"column":9}},{"start":{"line":96,"column":8},"end":{"line":98,"column":9}}],"line":96},"22":{"loc":{"start":{"line":96,"column":12},"end":{"line":96,"column":66}},"type":"binary-expr","locations":[{"start":{"line":96,"column":12},"end":{"line":96,"column":42}},{"start":{"line":96,"column":46},"end":{"line":96,"column":66}}],"line":96},"23":{"loc":{"start":{"line":99,"column":8},"end":{"line":101,"column":9}},"type":"if","locations":[{"start":{"line":99,"column":8},"end":{"line":101,"column":9}},{"start":{"line":99,"column":8},"end":{"line":101,"column":9}}],"line":99},"24":{"loc":{"start":{"line":99,"column":12},"end":{"line":99,"column":91}},"type":"binary-expr","locations":[{"start":{"line":99,"column":12},"end":{"line":99,"column":41}},{"start":{"line":99,"column":45},"end":{"line":99,"column":91}}],"line":99},"25":{"loc":{"start":{"line":102,"column":8},"end":{"line":104,"column":9}},"type":"if","locations":[{"start":{"line":102,"column":8},"end":{"line":104,"column":9}},{"start":{"line":102,"column":8},"end":{"line":104,"column":9}}],"line":102},"26":{"loc":{"start":{"line":102,"column":12},"end":{"line":102,"column":109}},"type":"binary-expr","locations":[{"start":{"line":102,"column":12},"end":{"line":102,"column":58}},{"start":{"line":102,"column":62},"end":{"line":102,"column":109}}],"line":102}},"s":{"0":1,"1":1,"2":1,"3":1,"4":23,"5":1,"6":12,"7":0,"8":12,"9":1,"10":11,"11":11,"12":0,"13":11,"14":13,"15":1,"16":12,"17":10,"18":1,"19":12,"20":0,"21":12,"22":12,"23":15,"24":1,"25":14,"26":0,"27":11,"28":11,"29":11,"30":3,"31":8,"32":8,"33":0,"34":8,"35":8,"36":0,"37":8,"38":1,"39":11,"40":0,"41":11,"42":11,"43":1,"44":10,"45":1,"46":10,"47":10,"48":0,"49":10,"50":10,"51":1,"52":9,"53":1,"54":8,"55":0,"56":8,"57":1},"f":{"0":23,"1":12,"2":12,"3":11,"4":10},"b":{"0":[23,23],"1":[0,12],"2":[12,12],"3":[1,11],"4":[12,5],"5":[0,11],"6":[11,11],"7":[1,12],"8":[13,6,3],"9":[0,12],"10":[12,12],"11":[12,0],"12":[12,12],"13":[1,14],"14":[15,11],"15":[11,0],"16":[3,8],"17":[0,8],"18":[0,11],"19":[1,10],"20":[0,10],"21":[1,9],"22":[10,3],"23":[1,8],"24":[9,7],"25":[0,8],"26":[8,2]},"inputSourceMap":{"version":3,"file":"D:/project_team077/src/controller/Query4.ts","sources":["D:/project_team077/src/controller/Query4.ts"],"names":[],"mappings":"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","sourcesContent":["import {\r\n\tIInsightFacade,\r\n\tInsightDatasetKind,\r\n\tInsightDataset,\r\n\tInsightResult,\r\n\tInsightError,\r\n\tNotFoundError,\r\n\tResultTooLargeError,\r\n} from \"./IInsightFacade\";\r\nimport {ISection} from \"./ISection\";\r\nimport {Query, Query2, Filter,\r\n\tLogicComparison, isValidMkey,\r\n\tisValidFilter, filterResult} from \"./Query\";\r\nimport {SComparison,\r\n\tNegation,\r\n\tEmptyClass,\r\n\tOptions,\r\n\taddResult,\r\n\tisValidSkey} from \"./Query2\";\r\nimport {MComparison} from \"./Query3\";\r\n\r\nexport function isValidApplykey(s: string, query2: Query2): boolean {\r\n\treturn s.length > 0 && !s.includes(\"_\");\r\n}\r\nexport class Order {\r\n\tprivate dir?: string;\r\n\tprivate keys?: string[];\r\n\r\n\tpublic static isValidOrder(o: any, query2: Query2): boolean {\r\n\t\tif (o.dir === undefined || o.keys === undefined) {\r\n\t\t\treturn false;\r\n\t\t} else {\r\n\t\t\tif (o.dir !== \"UP\" && o.dir !== \"DOWN\") {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tquery2.dir = o.dir;\r\n\t\t\t// dir is valid, check keys\r\n\t\t\tif ((Array.isArray(o.keys) && o.keys.length === 0)) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tfor (const s of o.keys) {\r\n\t\t\t\tif (!isValidMkey(s,query2) && !isValidSkey(s,query2) && !isValidApplykey(s,query2)) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tquery2.sort.push(s);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n}\r\n\r\nexport class Transformations {\r\n\tprivate GROUP?: string[]; // KEY_LIST\r\n\tprivate APPLY?: ApplyRule[];\r\n\r\n\tpublic static isValidT(t: any, query2: Query2): boolean {\r\n\t\tif (t.GROUP === undefined || t.APPLY === undefined) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t// check group first\r\n\t\tif (Array.isArray(t.GROUP) && t.GROUP.length > 0) {\r\n\t\t\tfor (const s of t.GROUP) {\r\n\t\t\t\tif (!isValidMkey(s,query2) && !isValidSkey(s,query2)) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tquery2.group.push(s);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t// check apply\r\n\t\tif (Array.isArray(t.APPLY)) {\r\n\t\t\tfor (const a of t.APPLY) {\r\n\t\t\t\tif (!ApplyRule.isValidApplyRule(a, query2)){\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tlet akey = Object.keys(a)[0];\r\n\t\t\t\t// applykey should be unique\r\n\t\t\t\tif (query2.apply.has(akey)) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tlet str: string = Object.keys(a[akey])[0] + \"_\" + Object.values(a[akey])[0];\r\n\t\t\t\tquery2.apply.set(akey,str);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n}\r\n\r\nexport class ApplyRule {\r\n\t[key: string]: ApplyObject; // APPLYTOKEN : KEY\r\n\r\n\tpublic static isValidApplyRule(a: any, query2: Query2): boolean {\r\n\t\tif (Object.keys(a).length !== 1) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tlet key = Object.keys(a)[0];\r\n\t\tif (!isValidApplykey(key,query2)) {\r\n\t\t\treturn false;\r\n\t\t} else {\r\n\t\t\treturn ApplyObject.isValidApplyObject(a[key],query2);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport class ApplyObject {\r\n\t[key: string]: string;\r\n\r\n\tpublic static isValidApplyObject(o: any, query2: Query2): boolean {\r\n\t\tlet token = Object.keys(o);\r\n\t\tif (token.length !== 1) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tlet tokenListn = [\"MAX\", \"MIN\", \"AVG\", \"SUM\"];\r\n\t\tif (!tokenListn.includes(token[0]) && token[0] !== \"COUNT\") {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tif (tokenListn.includes(token[0]) && !isValidMkey(o[token[0]],query2)) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tif (!isValidMkey(o[token[0]], query2) && !isValidSkey(o[token[0]], query2)) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"ce44a3f7c69e89f588e2bcb970f0ad8f4c8a40d2","contentHash":"735b084b95908217922695fd0ae3cd420706397447340984e417a40d58e6d4a3"},"D:\\project_team077\\src\\controller\\IsValidJson.ts":{"path":"D:\\project_team077\\src\\controller\\IsValidJson.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":303}},"2":{"start":{"line":4,"column":16},"end":{"line":4,"column":37}},"3":{"start":{"line":6,"column":4},"end":{"line":10,"column":5}},"4":{"start":{"line":7,"column":8},"end":{"line":9,"column":9}},"5":{"start":{"line":8,"column":12},"end":{"line":8,"column":28}},"6":{"start":{"line":11,"column":4},"end":{"line":11,"column":21}},"7":{"start":{"line":13,"column":0},"end":{"line":13,"column":34}},"8":{"start":{"line":15,"column":4},"end":{"line":17,"column":5}},"9":{"start":{"line":16,"column":8},"end":{"line":16,"column":17}},"10":{"start":{"line":18,"column":14},"end":{"line":18,"column":22}},"11":{"start":{"line":19,"column":4},"end":{"line":41,"column":5}},"12":{"start":{"line":19,"column":17},"end":{"line":19,"column":18}},"13":{"start":{"line":20,"column":8},"end":{"line":40,"column":9}},"14":{"start":{"line":20,"column":21},"end":{"line":20,"column":22}},"15":{"start":{"line":21,"column":25},"end":{"line":21,"column":45}},"16":{"start":{"line":22,"column":25},"end":{"line":22,"column":49}},"17":{"start":{"line":23,"column":26},"end":{"line":23,"column":49}},"18":{"start":{"line":24,"column":12},"end":{"line":34,"column":13}},"19":{"start":{"line":25,"column":16},"end":{"line":33,"column":17}},"20":{"start":{"line":25,"column":29},"end":{"line":25,"column":30}},"21":{"start":{"line":26,"column":31},"end":{"line":26,"column":51}},"22":{"start":{"line":27,"column":31},"end":{"line":27,"column":55}},"23":{"start":{"line":28,"column":33},"end":{"line":28,"column":56}},"24":{"start":{"line":29,"column":20},"end":{"line":32,"column":21}},"25":{"start":{"line":30,"column":24},"end":{"line":30,"column":41}},"26":{"start":{"line":31,"column":24},"end":{"line":31,"column":30}},"27":{"start":{"line":35,"column":12},"end":{"line":39,"column":13}},"28":{"start":{"line":36,"column":29},"end":{"line":36,"column":33}},"29":{"start":{"line":37,"column":16},"end":{"line":37,"column":32}},"30":{"start":{"line":38,"column":16},"end":{"line":38,"column":32}},"31":{"start":{"line":42,"column":4},"end":{"line":42,"column":13}},"32":{"start":{"line":44,"column":0},"end":{"line":44,"column":38}},"33":{"start":{"line":46,"column":4},"end":{"line":48,"column":5}},"34":{"start":{"line":47,"column":8},"end":{"line":47,"column":17}},"35":{"start":{"line":49,"column":14},"end":{"line":49,"column":22}},"36":{"start":{"line":50,"column":4},"end":{"line":72,"column":5}},"37":{"start":{"line":50,"column":17},"end":{"line":50,"column":18}},"38":{"start":{"line":51,"column":8},"end":{"line":71,"column":9}},"39":{"start":{"line":51,"column":21},"end":{"line":51,"column":22}},"40":{"start":{"line":52,"column":25},"end":{"line":52,"column":45}},"41":{"start":{"line":53,"column":25},"end":{"line":53,"column":49}},"42":{"start":{"line":54,"column":26},"end":{"line":54,"column":49}},"43":{"start":{"line":55,"column":12},"end":{"line":65,"column":13}},"44":{"start":{"line":56,"column":16},"end":{"line":64,"column":17}},"45":{"start":{"line":56,"column":29},"end":{"line":56,"column":30}},"46":{"start":{"line":57,"column":31},"end":{"line":57,"column":51}},"47":{"start":{"line":58,"column":31},"end":{"line":58,"column":55}},"48":{"start":{"line":59,"column":33},"end":{"line":59,"column":56}},"49":{"start":{"line":60,"column":20},"end":{"line":63,"column":21}},"50":{"start":{"line":61,"column":24},"end":{"line":61,"column":41}},"51":{"start":{"line":62,"column":24},"end":{"line":62,"column":30}},"52":{"start":{"line":66,"column":12},"end":{"line":70,"column":13}},"53":{"start":{"line":67,"column":29},"end":{"line":67,"column":33}},"54":{"start":{"line":68,"column":16},"end":{"line":68,"column":32}},"55":{"start":{"line":69,"column":16},"end":{"line":69,"column":32}},"56":{"start":{"line":73,"column":4},"end":{"line":73,"column":13}},"57":{"start":{"line":75,"column":0},"end":{"line":75,"column":40}},"58":{"start":{"line":77,"column":4},"end":{"line":82,"column":5}},"59":{"start":{"line":78,"column":8},"end":{"line":78,"column":40}},"60":{"start":{"line":81,"column":8},"end":{"line":81,"column":41}},"61":{"start":{"line":84,"column":0},"end":{"line":84,"column":32}},"62":{"start":{"line":86,"column":4},"end":{"line":93,"column":7}},"63":{"start":{"line":87,"column":21},"end":{"line":87,"column":40}},"64":{"start":{"line":88,"column":8},"end":{"line":91,"column":9}},"65":{"start":{"line":89,"column":55},"end":{"line":89,"column":61}},"66":{"start":{"line":90,"column":12},"end":{"line":90,"column":24}},"67":{"start":{"line":92,"column":8},"end":{"line":92,"column":22}},"68":{"start":{"line":95,"column":0},"end":{"line":95,"column":38}},"69":{"start":{"line":97,"column":4},"end":{"line":104,"column":5}},"70":{"start":{"line":98,"column":8},"end":{"line":98,"column":27}},"71":{"start":{"line":101,"column":16},"end":{"line":101,"column":20}},"72":{"start":{"line":102,"column":16},"end":{"line":102,"column":20}},"73":{"start":{"line":103,"column":8},"end":{"line":103,"column":42}},"74":{"start":{"line":106,"column":0},"end":{"line":106,"column":34}},"75":{"start":{"line":108,"column":4},"end":{"line":116,"column":5}},"76":{"start":{"line":109,"column":8},"end":{"line":109,"column":22}},"77":{"start":{"line":112,"column":8},"end":{"line":112,"column":55}},"78":{"start":{"line":113,"column":24},"end":{"line":113,"column":26}},"79":{"start":{"line":114,"column":8},"end":{"line":114,"column":60}},"80":{"start":{"line":115,"column":8},"end":{"line":115,"column":25}},"81":{"start":{"line":118,"column":0},"end":{"line":118,"column":38}},"82":{"start":{"line":120,"column":4},"end":{"line":134,"column":5}},"83":{"start":{"line":121,"column":21},"end":{"line":121,"column":26}},"84":{"start":{"line":122,"column":8},"end":{"line":128,"column":9}},"85":{"start":{"line":123,"column":12},"end":{"line":127,"column":13}},"86":{"start":{"line":124,"column":16},"end":{"line":124,"column":26}},"87":{"start":{"line":125,"column":16},"end":{"line":125,"column":30}},"88":{"start":{"line":126,"column":16},"end":{"line":126,"column":22}},"89":{"start":{"line":129,"column":8},"end":{"line":133,"column":9}},"90":{"start":{"line":130,"column":20},"end":{"line":130,"column":22}},"91":{"start":{"line":131,"column":12},"end":{"line":131,"column":22}},"92":{"start":{"line":132,"column":12},"end":{"line":132,"column":28}},"93":{"start":{"line":135,"column":4},"end":{"line":135,"column":19}},"94":{"start":{"line":137,"column":0},"end":{"line":137,"column":34}},"95":{"start":{"line":139,"column":4},"end":{"line":143,"column":5}},"96":{"start":{"line":140,"column":8},"end":{"line":142,"column":9}},"97":{"start":{"line":141,"column":12},"end":{"line":141,"column":25}},"98":{"start":{"line":144,"column":4},"end":{"line":144,"column":16}},"99":{"start":{"line":146,"column":0},"end":{"line":146,"column":34}},"100":{"start":{"line":148,"column":4},"end":{"line":159,"column":5}},"101":{"start":{"line":148,"column":17},"end":{"line":148,"column":18}},"102":{"start":{"line":149,"column":19},"end":{"line":149,"column":28}},"103":{"start":{"line":150,"column":21},"end":{"line":150,"column":25}},"104":{"start":{"line":151,"column":8},"end":{"line":155,"column":9}},"105":{"start":{"line":151,"column":21},"end":{"line":151,"column":22}},"106":{"start":{"line":152,"column":12},"end":{"line":154,"column":13}},"107":{"start":{"line":153,"column":16},"end":{"line":153,"column":31}},"108":{"start":{"line":156,"column":8},"end":{"line":158,"column":9}},"109":{"start":{"line":157,"column":12},"end":{"line":157,"column":21}},"110":{"start":{"line":160,"column":4},"end":{"line":160,"column":14}},"111":{"start":{"line":162,"column":0},"end":{"line":162,"column":44}},"112":{"start":{"line":164,"column":16},"end":{"line":164,"column":18}},"113":{"start":{"line":165,"column":4},"end":{"line":180,"column":5}},"114":{"start":{"line":166,"column":16},"end":{"line":166,"column":18}},"115":{"start":{"line":167,"column":8},"end":{"line":178,"column":9}},"116":{"start":{"line":168,"column":12},"end":{"line":177,"column":13}},"117":{"start":{"line":169,"column":16},"end":{"line":169,"column":35}},"118":{"start":{"line":172,"column":24},"end":{"line":172,"column":45}},"119":{"start":{"line":173,"column":16},"end":{"line":176,"column":17}},"120":{"start":{"line":174,"column":28},"end":{"line":174,"column":54}},"121":{"start":{"line":175,"column":20},"end":{"line":175,"column":31}},"122":{"start":{"line":179,"column":8},"end":{"line":179,"column":22}},"123":{"start":{"line":181,"column":4},"end":{"line":181,"column":17}},"124":{"start":{"line":183,"column":0},"end":{"line":183,"column":34}},"125":{"start":{"line":185,"column":16},"end":{"line":185,"column":30}},"126":{"start":{"line":186,"column":16},"end":{"line":186,"column":24}},"127":{"start":{"line":187,"column":14},"end":{"line":187,"column":39}},"128":{"start":{"line":188,"column":4},"end":{"line":204,"column":5}},"129":{"start":{"line":189,"column":22},"end":{"line":189,"column":24}},"130":{"start":{"line":190,"column":8},"end":{"line":194,"column":9}},"131":{"start":{"line":191,"column":12},"end":{"line":193,"column":13}},"132":{"start":{"line":192,"column":16},"end":{"line":192,"column":37}},"133":{"start":{"line":195,"column":8},"end":{"line":195,"column":30}},"134":{"start":{"line":198,"column":22},"end":{"line":198,"column":24}},"135":{"start":{"line":199,"column":8},"end":{"line":201,"column":9}},"136":{"start":{"line":200,"column":12},"end":{"line":200,"column":41}},"137":{"start":{"line":202,"column":26},"end":{"line":202,"column":52}},"138":{"start":{"line":203,"column":8},"end":{"line":203,"column":27}},"139":{"start":{"line":206,"column":0},"end":{"line":206,"column":30}},"140":{"start":{"line":208,"column":4},"end":{"line":243,"column":5}},"141":{"start":{"line":209,"column":20},"end":{"line":209,"column":29}},"142":{"start":{"line":210,"column":8},"end":{"line":214,"column":9}},"143":{"start":{"line":211,"column":12},"end":{"line":213,"column":13}},"144":{"start":{"line":212,"column":16},"end":{"line":212,"column":26}},"145":{"start":{"line":215,"column":8},"end":{"line":215,"column":21}},"146":{"start":{"line":217,"column":9},"end":{"line":243,"column":5}},"147":{"start":{"line":218,"column":20},"end":{"line":218,"column":29}},"148":{"start":{"line":219,"column":8},"end":{"line":223,"column":9}},"149":{"start":{"line":220,"column":12},"end":{"line":222,"column":13}},"150":{"start":{"line":221,"column":16},"end":{"line":221,"column":26}},"151":{"start":{"line":224,"column":8},"end":{"line":224,"column":21}},"152":{"start":{"line":226,"column":9},"end":{"line":243,"column":5}},"153":{"start":{"line":227,"column":20},"end":{"line":227,"column":21}},"154":{"start":{"line":228,"column":8},"end":{"line":230,"column":9}},"155":{"start":{"line":229,"column":12},"end":{"line":229,"column":30}},"156":{"start":{"line":231,"column":8},"end":{"line":231,"column":41}},"157":{"start":{"line":232,"column":8},"end":{"line":232,"column":21}},"158":{"start":{"line":235,"column":20},"end":{"line":235,"column":36}},"159":{"start":{"line":236,"column":8},"end":{"line":239,"column":9}},"160":{"start":{"line":237,"column":26},"end":{"line":237,"column":40}},"161":{"start":{"line":238,"column":12},"end":{"line":238,"column":39}},"162":{"start":{"line":240,"column":18},"end":{"line":240,"column":50}},"163":{"start":{"line":241,"column":18},"end":{"line":241,"column":40}},"164":{"start":{"line":242,"column":8},"end":{"line":242,"column":19}},"165":{"start":{"line":245,"column":0},"end":{"line":245,"column":32}}},"fnMap":{"0":{"name":"findDataset","decl":{"start":{"line":5,"column":9},"end":{"line":5,"column":20}},"loc":{"start":{"line":5,"column":39},"end":{"line":12,"column":1}},"line":5},"1":{"name":"sortAscending","decl":{"start":{"line":14,"column":9},"end":{"line":14,"column":22}},"loc":{"start":{"line":14,"column":34},"end":{"line":43,"column":1}},"line":14},"2":{"name":"sortDescending","decl":{"start":{"line":45,"column":9},"end":{"line":45,"column":23}},"loc":{"start":{"line":45,"column":35},"end":{"line":74,"column":1}},"line":45},"3":{"name":"sortResult","decl":{"start":{"line":76,"column":9},"end":{"line":76,"column":19}},"loc":{"start":{"line":76,"column":31},"end":{"line":83,"column":1}},"line":76},"4":{"name":"removeAllUuid","decl":{"start":{"line":85,"column":9},"end":{"line":85,"column":22}},"loc":{"start":{"line":85,"column":26},"end":{"line":94,"column":1}},"line":85},"5":{"name":"(anonymous_5)","decl":{"start":{"line":86,"column":17},"end":{"line":86,"column":18}},"loc":{"start":{"line":86,"column":29},"end":{"line":93,"column":5}},"line":86},"6":{"name":"compareKeys","decl":{"start":{"line":96,"column":9},"end":{"line":96,"column":20}},"loc":{"start":{"line":96,"column":33},"end":{"line":105,"column":1}},"line":96},"7":{"name":"groupAndapply","decl":{"start":{"line":107,"column":9},"end":{"line":107,"column":22}},"loc":{"start":{"line":107,"column":48},"end":{"line":117,"column":1}},"line":107},"8":{"name":"groupResult","decl":{"start":{"line":119,"column":9},"end":{"line":119,"column":20}},"loc":{"start":{"line":119,"column":46},"end":{"line":136,"column":1}},"line":119},"9":{"name":"all_matches","decl":{"start":{"line":138,"column":9},"end":{"line":138,"column":20}},"loc":{"start":{"line":138,"column":35},"end":{"line":145,"column":1}},"line":138},"10":{"name":"index_of_result2","decl":{"start":{"line":147,"column":9},"end":{"line":147,"column":25}},"loc":{"start":{"line":147,"column":44},"end":{"line":161,"column":1}},"line":147},"11":{"name":"applyResult","decl":{"start":{"line":163,"column":9},"end":{"line":163,"column":20}},"loc":{"start":{"line":163,"column":46},"end":{"line":182,"column":1}},"line":163},"12":{"name":"findApply","decl":{"start":{"line":184,"column":9},"end":{"line":184,"column":18}},"loc":{"start":{"line":184,"column":32},"end":{"line":205,"column":1}},"line":184},"13":{"name":"applyToken","decl":{"start":{"line":207,"column":9},"end":{"line":207,"column":19}},"loc":{"start":{"line":207,"column":35},"end":{"line":244,"column":1}},"line":207}},"branchMap":{"0":{"loc":{"start":{"line":7,"column":8},"end":{"line":9,"column":9}},"type":"if","locations":[{"start":{"line":7,"column":8},"end":{"line":9,"column":9}},{"start":{"line":7,"column":8},"end":{"line":9,"column":9}}],"line":7},"1":{"loc":{"start":{"line":15,"column":4},"end":{"line":17,"column":5}},"type":"if","locations":[{"start":{"line":15,"column":4},"end":{"line":17,"column":5}},{"start":{"line":15,"column":4},"end":{"line":17,"column":5}}],"line":15},"2":{"loc":{"start":{"line":24,"column":12},"end":{"line":34,"column":13}},"type":"if","locations":[{"start":{"line":24,"column":12},"end":{"line":34,"column":13}},{"start":{"line":24,"column":12},"end":{"line":34,"column":13}}],"line":24},"3":{"loc":{"start":{"line":24,"column":16},"end":{"line":24,"column":55}},"type":"binary-expr","locations":[{"start":{"line":24,"column":16},"end":{"line":24,"column":29}},{"start":{"line":24,"column":33},"end":{"line":24,"column":55}}],"line":24},"4":{"loc":{"start":{"line":29,"column":20},"end":{"line":32,"column":21}},"type":"if","locations":[{"start":{"line":29,"column":20},"end":{"line":32,"column":21}},{"start":{"line":29,"column":20},"end":{"line":32,"column":21}}],"line":29},"5":{"loc":{"start":{"line":35,"column":12},"end":{"line":39,"column":13}},"type":"if","locations":[{"start":{"line":35,"column":12},"end":{"line":39,"column":13}},{"start":{"line":35,"column":12},"end":{"line":39,"column":13}}],"line":35},"6":{"loc":{"start":{"line":46,"column":4},"end":{"line":48,"column":5}},"type":"if","locations":[{"start":{"line":46,"column":4},"end":{"line":48,"column":5}},{"start":{"line":46,"column":4},"end":{"line":48,"column":5}}],"line":46},"7":{"loc":{"start":{"line":55,"column":12},"end":{"line":65,"column":13}},"type":"if","locations":[{"start":{"line":55,"column":12},"end":{"line":65,"column":13}},{"start":{"line":55,"column":12},"end":{"line":65,"column":13}}],"line":55},"8":{"loc":{"start":{"line":55,"column":16},"end":{"line":55,"column":55}},"type":"binary-expr","locations":[{"start":{"line":55,"column":16},"end":{"line":55,"column":29}},{"start":{"line":55,"column":33},"end":{"line":55,"column":55}}],"line":55},"9":{"loc":{"start":{"line":60,"column":20},"end":{"line":63,"column":21}},"type":"if","locations":[{"start":{"line":60,"column":20},"end":{"line":63,"column":21}},{"start":{"line":60,"column":20},"end":{"line":63,"column":21}}],"line":60},"10":{"loc":{"start":{"line":66,"column":12},"end":{"line":70,"column":13}},"type":"if","locations":[{"start":{"line":66,"column":12},"end":{"line":70,"column":13}},{"start":{"line":66,"column":12},"end":{"line":70,"column":13}}],"line":66},"11":{"loc":{"start":{"line":77,"column":4},"end":{"line":82,"column":5}},"type":"if","locations":[{"start":{"line":77,"column":4},"end":{"line":82,"column":5}},{"start":{"line":77,"column":4},"end":{"line":82,"column":5}}],"line":77},"12":{"loc":{"start":{"line":77,"column":8},"end":{"line":77,"column":48}},"type":"binary-expr","locations":[{"start":{"line":77,"column":8},"end":{"line":77,"column":25}},{"start":{"line":77,"column":29},"end":{"line":77,"column":48}}],"line":77},"13":{"loc":{"start":{"line":88,"column":8},"end":{"line":91,"column":9}},"type":"if","locations":[{"start":{"line":88,"column":8},"end":{"line":91,"column":9}},{"start":{"line":88,"column":8},"end":{"line":91,"column":9}}],"line":88},"14":{"loc":{"start":{"line":97,"column":4},"end":{"line":104,"column":5}},"type":"if","locations":[{"start":{"line":97,"column":4},"end":{"line":104,"column":5}},{"start":{"line":97,"column":4},"end":{"line":104,"column":5}}],"line":97},"15":{"loc":{"start":{"line":97,"column":8},"end":{"line":97,"column":60}},"type":"binary-expr","locations":[{"start":{"line":97,"column":8},"end":{"line":97,"column":32}},{"start":{"line":97,"column":36},"end":{"line":97,"column":60}}],"line":97},"16":{"loc":{"start":{"line":103,"column":15},"end":{"line":103,"column":41}},"type":"cond-expr","locations":[{"start":{"line":103,"column":23},"end":{"line":103,"column":25}},{"start":{"line":103,"column":28},"end":{"line":103,"column":41}}],"line":103},"17":{"loc":{"start":{"line":103,"column":28},"end":{"line":103,"column":41}},"type":"cond-expr","locations":[{"start":{"line":103,"column":36},"end":{"line":103,"column":37}},{"start":{"line":103,"column":40},"end":{"line":103,"column":41}}],"line":103},"18":{"loc":{"start":{"line":108,"column":4},"end":{"line":116,"column":5}},"type":"if","locations":[{"start":{"line":108,"column":4},"end":{"line":116,"column":5}},{"start":{"line":108,"column":4},"end":{"line":116,"column":5}}],"line":108},"19":{"loc":{"start":{"line":123,"column":12},"end":{"line":127,"column":13}},"type":"if","locations":[{"start":{"line":123,"column":12},"end":{"line":127,"column":13}},{"start":{"line":123,"column":12},"end":{"line":127,"column":13}}],"line":123},"20":{"loc":{"start":{"line":129,"column":8},"end":{"line":133,"column":9}},"type":"if","locations":[{"start":{"line":129,"column":8},"end":{"line":133,"column":9}},{"start":{"line":129,"column":8},"end":{"line":133,"column":9}}],"line":129},"21":{"loc":{"start":{"line":140,"column":8},"end":{"line":142,"column":9}},"type":"if","locations":[{"start":{"line":140,"column":8},"end":{"line":142,"column":9}},{"start":{"line":140,"column":8},"end":{"line":142,"column":9}}],"line":140},"22":{"loc":{"start":{"line":152,"column":12},"end":{"line":154,"column":13}},"type":"if","locations":[{"start":{"line":152,"column":12},"end":{"line":154,"column":13}},{"start":{"line":152,"column":12},"end":{"line":154,"column":13}}],"line":152},"23":{"loc":{"start":{"line":156,"column":8},"end":{"line":158,"column":9}},"type":"if","locations":[{"start":{"line":156,"column":8},"end":{"line":158,"column":9}},{"start":{"line":156,"column":8},"end":{"line":158,"column":9}}],"line":156},"24":{"loc":{"start":{"line":168,"column":12},"end":{"line":177,"column":13}},"type":"if","locations":[{"start":{"line":168,"column":12},"end":{"line":177,"column":13}},{"start":{"line":168,"column":12},"end":{"line":177,"column":13}}],"line":168},"25":{"loc":{"start":{"line":173,"column":16},"end":{"line":176,"column":17}},"type":"if","locations":[{"start":{"line":173,"column":16},"end":{"line":176,"column":17}},{"start":{"line":173,"column":16},"end":{"line":176,"column":17}}],"line":173},"26":{"loc":{"start":{"line":188,"column":4},"end":{"line":204,"column":5}},"type":"if","locations":[{"start":{"line":188,"column":4},"end":{"line":204,"column":5}},{"start":{"line":188,"column":4},"end":{"line":204,"column":5}}],"line":188},"27":{"loc":{"start":{"line":191,"column":12},"end":{"line":193,"column":13}},"type":"if","locations":[{"start":{"line":191,"column":12},"end":{"line":193,"column":13}},{"start":{"line":191,"column":12},"end":{"line":193,"column":13}}],"line":191},"28":{"loc":{"start":{"line":208,"column":4},"end":{"line":243,"column":5}},"type":"if","locations":[{"start":{"line":208,"column":4},"end":{"line":243,"column":5}},{"start":{"line":208,"column":4},"end":{"line":243,"column":5}}],"line":208},"29":{"loc":{"start":{"line":211,"column":12},"end":{"line":213,"column":13}},"type":"if","locations":[{"start":{"line":211,"column":12},"end":{"line":213,"column":13}},{"start":{"line":211,"column":12},"end":{"line":213,"column":13}}],"line":211},"30":{"loc":{"start":{"line":217,"column":9},"end":{"line":243,"column":5}},"type":"if","locations":[{"start":{"line":217,"column":9},"end":{"line":243,"column":5}},{"start":{"line":217,"column":9},"end":{"line":243,"column":5}}],"line":217},"31":{"loc":{"start":{"line":220,"column":12},"end":{"line":222,"column":13}},"type":"if","locations":[{"start":{"line":220,"column":12},"end":{"line":222,"column":13}},{"start":{"line":220,"column":12},"end":{"line":222,"column":13}}],"line":220},"32":{"loc":{"start":{"line":226,"column":9},"end":{"line":243,"column":5}},"type":"if","locations":[{"start":{"line":226,"column":9},"end":{"line":243,"column":5}},{"start":{"line":226,"column":9},"end":{"line":243,"column":5}}],"line":226}},"s":{"0":1,"1":1,"2":1,"3":28,"4":54,"5":27,"6":1,"7":1,"8":21,"9":1,"10":20,"11":20,"12":20,"13":771,"14":771,"15":39908,"16":39908,"17":39908,"18":39908,"19":3129,"20":3129,"21":3129,"22":3129,"23":3129,"24":3129,"25":846,"26":846,"27":39908,"28":19243,"29":19243,"30":19243,"31":20,"32":1,"33":4,"34":0,"35":4,"36":4,"37":4,"38":235,"39":235,"40":16793,"41":16793,"42":16793,"43":16793,"44":3788,"45":3788,"46":3788,"47":3788,"48":3788,"49":3788,"50":927,"51":927,"52":16793,"53":8274,"54":8274,"55":8274,"56":4,"57":1,"58":25,"59":21,"60":4,"61":1,"62":25,"63":1547,"64":1547,"65":1547,"66":1547,"67":0,"68":1,"69":63618,"70":55993,"71":7625,"72":7625,"73":7625,"74":1,"75":25,"76":17,"77":8,"78":8,"79":8,"80":8,"81":1,"82":8,"83":608,"84":608,"85":10251,"86":468,"87":468,"88":468,"89":608,"90":140,"91":140,"92":140,"93":8,"94":1,"95":10251,"96":10296,"97":9783,"98":468,"99":1,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":1,"112":8,"113":8,"114":140,"115":140,"116":309,"117":169,"118":140,"119":140,"120":140,"121":140,"122":140,"123":8,"124":1,"125":140,"126":140,"127":140,"128":140,"129":37,"130":37,"131":80,"132":51,"133":37,"134":103,"135":103,"136":528,"137":103,"138":103,"139":1,"140":103,"141":47,"142":47,"143":368,"144":29,"145":47,"146":56,"147":14,"148":14,"149":40,"150":2,"151":14,"152":42,"153":14,"154":14,"155":40,"156":14,"157":14,"158":28,"159":28,"160":80,"161":80,"162":28,"163":28,"164":28,"165":1},"f":{"0":28,"1":21,"2":4,"3":25,"4":25,"5":1547,"6":63618,"7":25,"8":8,"9":10251,"10":0,"11":8,"12":140,"13":103},"b":{"0":[27,27],"1":[1,20],"2":[3129,36779],"3":[39908,8825],"4":[846,2283],"5":[19243,20665],"6":[0,4],"7":[3788,13005],"8":[16793,3837],"9":[927,2861],"10":[8274,8519],"11":[21,4],"12":[25,6],"13":[1547,0],"14":[55993,7625],"15":[63618,55993],"16":[1518,6107],"17":[824,5283],"18":[17,8],"19":[468,9783],"20":[140,468],"21":[9783,513],"22":[0,0],"23":[0,0],"24":[169,140],"25":[140,0],"26":[37,103],"27":[51,29],"28":[47,56],"29":[29,339],"30":[14,42],"31":[2,38],"32":[14,28]},"inputSourceMap":{"version":3,"file":"D:/project_team077/src/controller/IsValidJson.ts","sources":["D:/project_team077/src/controller/IsValidJson.ts"],"names":[],"mappings":"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","sourcesContent":["import {ISection} from \"./ISection\";\r\nimport {IRoom} from \"./IRoom\";\r\nimport {Query2} from \"./Query\";\r\nimport {InsightResult} from \"./IInsightFacade\";\r\nconst Decimal = require(\"decimal.js\");\r\n\r\nexport function findDataset(query2: Query2,datasets: Map<string, IRoom[] | ISection[]>) {\r\n\r\n\tfor (const [id,sections] of datasets) {\r\n\t\tif (id  === query2.name) {\r\n\r\n\t\t\treturn sections;\r\n\t\t}\r\n\t}\r\n\treturn undefined;\r\n}\r\nexport function sortAscending(r: InsightResult[], query2: Query2): InsightResult[] {\r\n\tif (query2.sort.length === 0) {\r\n\t\treturn r;\r\n\t}\r\n\tconst n = r.length;\r\n\tfor (let i = 0; i < n - 1; i++) {\r\n\t\tfor (let j = 0; j < n - i - 1; j++) {\r\n\t\t\tconst keyA = r[j][query2.sort[0]];\r\n\t\t\tconst keyB = r[j + 1][query2.sort[0]];\r\n\t\t\tlet compare = compareKeys(keyA, keyB);\r\n\t\t\tif (compare === 0 && query2.sort.length > 1) {\r\n\t\t\t\tfor (let k = 1; k < query2.sort.length; k++) {\r\n\t\t\t\t\tlet keyX = r[j][query2.sort[k]];\r\n\t\t\t\t\tlet keyY = r[j + 1][query2.sort[k]];\r\n\t\t\t\t\tlet result = compareKeys(keyX,keyY);\r\n\t\t\t\t\tif (result !== 0) {\r\n\t\t\t\t\t\tcompare = result;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (compare > 0) {\r\n\t\t\t\tconst temp = r[j];\r\n\t\t\t\tr[j] = r[j + 1];\r\n\t\t\t\tr[j + 1] = temp;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn r;\r\n}\r\nexport function sortDescending(r: InsightResult[], query2: Query2): InsightResult[] {\r\n\tif (query2.sort.length === 0) {\r\n\t\treturn r;\r\n\t}\r\n\tconst n = r.length;\r\n\tfor (let i = 0; i < n - 1; i++) {\r\n\t\tfor (let j = 0; j < n - i - 1; j++) {\r\n\t\t\tconst keyA = r[j][query2.sort[0]];\r\n\t\t\tconst keyB = r[j + 1][query2.sort[0]];\r\n\t\t\tlet compare = compareKeys(keyA, keyB);\r\n\t\t\tif (compare === 0 && query2.sort.length > 1) {\r\n\t\t\t\tfor (let k = 1; k < query2.sort.length; k++) {\r\n\t\t\t\t\tlet keyX = r[j][query2.sort[k]];\r\n\t\t\t\t\tlet keyY = r[j + 1][query2.sort[k]];\r\n\t\t\t\t\tlet result = compareKeys(keyX,keyY);\r\n\t\t\t\t\tif (result !== 0) {\r\n\t\t\t\t\t\tcompare = result;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (compare < 0) {\r\n\t\t\t\tconst temp = r[j];\r\n\t\t\t\tr[j] = r[j + 1];\r\n\t\t\t\tr[j + 1] = temp;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn r;\r\n}\r\n\r\n\r\nexport function sortResult(r: InsightResult[], query2: Query2): InsightResult[] {\r\n\tif (query2.dir === \"\" || query2.dir === \"UP\") {\r\n\t\treturn sortAscending(r,query2);\r\n\t} else {\r\n\t\treturn sortDescending(r,query2);\r\n\t}\r\n\r\n}\r\nexport function removeAllUuid(r: InsightResult[]): InsightResult[] {\r\n\treturn r.map((result) => {\r\n\t\tconst keys = Object.keys(result);\r\n\t\tif (keys.length > 0) {\r\n\t\t\tconst {[keys[0]]: removedKey, ...rest} = result;\r\n\t\t\treturn rest;\r\n\t\t}\r\n\t\treturn result;\r\n\t});\r\n}\r\n\r\nexport function compareKeys(keyA: string | number, keyB: string | number): number {\r\n\tif (typeof keyA === \"number\" && typeof keyB === \"number\") {\r\n\t\treturn keyA - keyB;\r\n\t} else {\r\n\t\tlet a: string = keyA as string;\r\n\t\tlet b: string = keyB as string;\r\n\t\treturn a < b ? -1 : a > b ? 1 : 0;\r\n\t}\r\n\r\n}\r\nexport function groupAndapply(result: InsightResult[], result2: InsightResult[][], query2: Query2): InsightResult[] {\r\n\r\n\tif (query2.group.length === 0) {\r\n\t\treturn result;\r\n\t} else {\r\n\t\tresult2 = groupResult(result,result2,query2);\r\n\t\tlet newResult: InsightResult[] = [];\r\n\t\tnewResult = applyResult(newResult,result2,query2);\r\n\t\treturn newResult;\r\n\t}\r\n}\r\nexport function groupResult(result: InsightResult[], result2: InsightResult[][], query2: Query2): InsightResult[][] {\r\n\tfor (const l of result) {\r\n\t\tlet pushed = false;\r\n\t\tfor (const j of result2){\r\n\t\t\tif (all_matches(j[0],l,query2)) {\r\n\t\t\t\tj.push(l);\r\n\t\t\t\tpushed = true;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (!pushed) {\r\n\t\t\tlet x: InsightResult[] = [];\r\n\t\t\tx.push(l);\r\n\t\t\tresult2.push(x);\r\n\t\t}\r\n\t}\r\n\r\n\treturn result2;\r\n}\r\n\r\nexport function all_matches(i: InsightResult, l: InsightResult, query2: Query2): boolean {\r\n\tfor (const g of query2.group) {\r\n\t\tif (i[g] !== l[g]) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\treturn true;\r\n}\r\n\r\nexport function index_of_result2(groupRes: any[], filter: any[][]): number {\r\n\tfor (let j = 0; j < filter.length; j++) {\r\n\t\tlet list = filter[j];\r\n\t\tlet result = true;\r\n\t\tfor (let i = 0; i < list.length; i++) {\r\n\t\t\tif (list[i] !== groupRes[i]) {\r\n\t\t\t\tresult = false;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (result) {\r\n\t\t\treturn j;\r\n\t\t}\r\n\t}\r\n\treturn -1;\r\n}\r\n\r\nexport function applyResult(result: InsightResult[], result2: InsightResult[][], query2: Query2): InsightResult[] {\r\n\t/* for (let x = 0; x < result2.length; x++) {\r\n\t\tconsole.log(\"list \" + x.toString());\r\n\t\tfor (const y of result2[x]) {\r\n\t\t\tconsole.log(y);\r\n\t\t}\r\n\t} */\r\n\tlet final: InsightResult[] = [];\r\n\tfor (const i of result2) {\r\n\t\tlet r: InsightResult = {};\r\n\t\tfor (const str of query2.columns){\r\n\t\t\t// if it is a KEY\r\n\t\t\tif (str.includes(\"_\")) {\r\n\t\t\t\tr[str] = i[0][str];\r\n\t\t\t\t// console.log(str + r[str]);\r\n\t\t\t} else {\r\n\t\t\t\tlet s = query2.apply.get(str);\r\n\t\t\t\tif (s !== undefined) {\r\n\t\t\t\t\t// console.log(s);  AVG_sections_avg\r\n\t\t\t\t\tlet x = findApply(i,s.toString());\r\n\t\t\t\t\tr[str] = x;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tfinal.push(r);\r\n\t}\r\n\treturn final;\r\n}\r\n\r\nexport function findApply(result: InsightResult[], str: string): number {\r\n\tlet parts = str.split(\"_\");\r\n\tlet token = parts[0];\r\n\tlet key = parts[1] + \"_\" + parts[2];\r\n\r\n\tif (token === \"COUNT\") {\r\n\t\tlet pResult: Array<string | number> = [];\r\n\t\tfor (const i of result) {\r\n\t\t\tif (!pResult.includes(i[key])) {\r\n\t\t\t\tpResult.push(i[key]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn pResult.length;\r\n\t} else {\r\n\t\tlet pResult: number[] = [];\r\n\t\tfor (const i of result) {\r\n\t\t\tpResult.push(Number(i[key]));\r\n\r\n\t\t}\r\n\t\tlet finalResult: number = applyToken(token, pResult);\r\n\t\treturn finalResult;\r\n\t}\r\n\r\n}\r\n\r\nexport function applyToken(token: string, result: number[]): number {\r\n\tif (token === \"MAX\") {\r\n\t\tlet total: number = result[0];\r\n\t\tfor (const n of result) {\r\n\t\t\tif (n > total) {\r\n\t\t\t\ttotal = n;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn total;\r\n\t} else if (token === \"MIN\") {\r\n\t\tlet total: number = result[0];\r\n\t\tfor (const n of result) {\r\n\t\t\tif (n < total) {\r\n\t\t\t\ttotal = n;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn total;\r\n\t} else if (token === \"SUM\") {\r\n\t\tlet total: number = 0;\r\n\t\tfor (const n of result) {\r\n\t\t\ttotal = total + n;\r\n\t\t}\r\n\t\ttotal = Number(total.toFixed(2));\r\n\t\treturn total;\r\n\t} else {\r\n\t\tlet total = new Decimal(\"0\");\r\n\t\tfor (const n of result) {\r\n\t\t\tlet decimal = new Decimal(n);\r\n\t\t\ttotal = total.add(decimal);\r\n\t\t}\r\n\t\tlet avg = total.toNumber() / result.length;\r\n\t\tlet res = Number(avg.toFixed(2));\r\n\t\treturn res;\r\n\t}\r\n}\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"3bcfb0e168c95853a0df48d18d3e7c2f5ddd0b93","contentHash":"da236e9a701b8035207925e6cdafc6a7364b9d1011601dbb686a5579c210364e"},"D:\\project_team077\\src\\controller\\RoomHelper.ts":{"path":"D:\\project_team077\\src\\controller\\RoomHelper.ts","statementMap":{"0":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"1":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"2":{"start":{"line":3,"column":26},"end":{"line":3,"column":33}},"3":{"start":{"line":4,"column":15},"end":{"line":4,"column":52}},"4":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"5":{"start":{"line":6,"column":6},"end":{"line":6,"column":68}},"6":{"start":{"line":6,"column":51},"end":{"line":6,"column":63}},"7":{"start":{"line":8,"column":4},"end":{"line":8,"column":39}},"8":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"9":{"start":{"line":10,"column":26},"end":{"line":10,"column":33}},"10":{"start":{"line":11,"column":4},"end":{"line":11,"column":17}},"11":{"start":{"line":13,"column":25},"end":{"line":17,"column":2}},"12":{"start":{"line":14,"column":4},"end":{"line":14,"column":72}},"13":{"start":{"line":16,"column":4},"end":{"line":16,"column":21}},"14":{"start":{"line":18,"column":19},"end":{"line":24,"column":1}},"15":{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},"16":{"start":{"line":19,"column":31},"end":{"line":19,"column":42}},"17":{"start":{"line":20,"column":17},"end":{"line":20,"column":19}},"18":{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},"19":{"start":{"line":21,"column":21},"end":{"line":21,"column":141}},"20":{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},"21":{"start":{"line":21,"column":109},"end":{"line":21,"column":141}},"22":{"start":{"line":22,"column":4},"end":{"line":22,"column":36}},"23":{"start":{"line":23,"column":4},"end":{"line":23,"column":18}},"24":{"start":{"line":25,"column":0},"end":{"line":25,"column":62}},"25":{"start":{"line":26,"column":0},"end":{"line":26,"column":30}},"26":{"start":{"line":27,"column":17},"end":{"line":27,"column":34}},"27":{"start":{"line":28,"column":25},"end":{"line":28,"column":52}},"28":{"start":{"line":29,"column":13},"end":{"line":29,"column":42}},"29":{"start":{"line":30,"column":14},"end":{"line":30,"column":60}},"30":{"start":{"line":31,"column":17},"end":{"line":31,"column":48}},"31":{"start":{"line":32,"column":18},"end":{"line":32,"column":63}},"32":{"start":{"line":33,"column":16},"end":{"line":33,"column":64}},"33":{"start":{"line":34,"column":18},"end":{"line":34,"column":64}},"34":{"start":{"line":35,"column":13},"end":{"line":35,"column":54}},"35":{"start":{"line":36,"column":14},"end":{"line":36,"column":59}},"36":{"start":{"line":37,"column":15},"end":{"line":37,"column":58}},"37":{"start":{"line":39,"column":34},"end":{"line":39,"column":43}},"38":{"start":{"line":39,"column":57},"end":{"line":39,"column":78}},"39":{"start":{"line":40,"column":4},"end":{"line":42,"column":5}},"40":{"start":{"line":41,"column":8},"end":{"line":41,"column":100}},"41":{"start":{"line":43,"column":16},"end":{"line":43,"column":47}},"42":{"start":{"line":44,"column":15},"end":{"line":44,"column":41}},"43":{"start":{"line":45,"column":4},"end":{"line":45,"column":36}},"44":{"start":{"line":46,"column":4},"end":{"line":50,"column":5}},"45":{"start":{"line":47,"column":8},"end":{"line":49,"column":9}},"46":{"start":{"line":48,"column":12},"end":{"line":48,"column":64}},"47":{"start":{"line":51,"column":27},"end":{"line":51,"column":36}},"48":{"start":{"line":51,"column":42},"end":{"line":51,"column":43}},"49":{"start":{"line":51,"column":49},"end":{"line":51,"column":50}},"50":{"start":{"line":51,"column":60},"end":{"line":51,"column":62}},"51":{"start":{"line":52,"column":4},"end":{"line":58,"column":7}},"52":{"start":{"line":53,"column":19},"end":{"line":53,"column":37}},"53":{"start":{"line":54,"column":8},"end":{"line":56,"column":9}},"54":{"start":{"line":55,"column":12},"end":{"line":55,"column":58}},"55":{"start":{"line":57,"column":8},"end":{"line":57,"column":12}},"56":{"start":{"line":59,"column":24},"end":{"line":59,"column":68}},"57":{"start":{"line":60,"column":4},"end":{"line":77,"column":5}},"58":{"start":{"line":61,"column":19},"end":{"line":61,"column":52}},"59":{"start":{"line":62,"column":23},"end":{"line":62,"column":59}},"60":{"start":{"line":63,"column":8},"end":{"line":67,"column":9}},"61":{"start":{"line":64,"column":12},"end":{"line":66,"column":13}},"62":{"start":{"line":65,"column":16},"end":{"line":65,"column":48}},"63":{"start":{"line":68,"column":8},"end":{"line":75,"column":9}},"64":{"start":{"line":69,"column":12},"end":{"line":74,"column":13}},"65":{"start":{"line":70,"column":16},"end":{"line":73,"column":17}},"66":{"start":{"line":71,"column":31},"end":{"line":71,"column":59}},"67":{"start":{"line":72,"column":20},"end":{"line":72,"column":37}},"68":{"start":{"line":76,"column":8},"end":{"line":76,"column":12}},"69":{"start":{"line":78,"column":19},"end":{"line":78,"column":43}},"70":{"start":{"line":79,"column":4},"end":{"line":83,"column":5}},"71":{"start":{"line":80,"column":8},"end":{"line":82,"column":9}},"72":{"start":{"line":81,"column":12},"end":{"line":81,"column":32}},"73":{"start":{"line":84,"column":4},"end":{"line":86,"column":5}},"74":{"start":{"line":85,"column":8},"end":{"line":85,"column":98}},"75":{"start":{"line":88,"column":0},"end":{"line":88,"column":36}},"76":{"start":{"line":91,"column":4},"end":{"line":95,"column":5}},"77":{"start":{"line":92,"column":8},"end":{"line":94,"column":9}},"78":{"start":{"line":93,"column":12},"end":{"line":93,"column":48}},"79":{"start":{"line":96,"column":4},"end":{"line":101,"column":5}},"80":{"start":{"line":97,"column":8},"end":{"line":97,"column":118}},"81":{"start":{"line":100,"column":8},"end":{"line":100,"column":25}},"82":{"start":{"line":104,"column":4},"end":{"line":106,"column":86}},"83":{"start":{"line":110,"column":4},"end":{"line":112,"column":5}},"84":{"start":{"line":111,"column":8},"end":{"line":111,"column":20}},"85":{"start":{"line":113,"column":4},"end":{"line":115,"column":5}},"86":{"start":{"line":114,"column":8},"end":{"line":114,"column":20}},"87":{"start":{"line":116,"column":4},"end":{"line":123,"column":5}},"88":{"start":{"line":117,"column":8},"end":{"line":122,"column":9}},"89":{"start":{"line":118,"column":23},"end":{"line":118,"column":47}},"90":{"start":{"line":119,"column":12},"end":{"line":121,"column":13}},"91":{"start":{"line":120,"column":16},"end":{"line":120,"column":30}},"92":{"start":{"line":124,"column":4},"end":{"line":134,"column":5}},"93":{"start":{"line":125,"column":8},"end":{"line":133,"column":9}},"94":{"start":{"line":126,"column":12},"end":{"line":132,"column":13}},"95":{"start":{"line":127,"column":16},"end":{"line":131,"column":17}},"96":{"start":{"line":128,"column":20},"end":{"line":130,"column":21}},"97":{"start":{"line":129,"column":24},"end":{"line":129,"column":38}},"98":{"start":{"line":135,"column":4},"end":{"line":135,"column":16}},"99":{"start":{"line":139,"column":4},"end":{"line":141,"column":5}},"100":{"start":{"line":140,"column":8},"end":{"line":140,"column":20}},"101":{"start":{"line":142,"column":4},"end":{"line":144,"column":5}},"102":{"start":{"line":143,"column":8},"end":{"line":143,"column":20}},"103":{"start":{"line":145,"column":4},"end":{"line":152,"column":5}},"104":{"start":{"line":146,"column":8},"end":{"line":151,"column":9}},"105":{"start":{"line":147,"column":23},"end":{"line":147,"column":43}},"106":{"start":{"line":148,"column":12},"end":{"line":150,"column":13}},"107":{"start":{"line":149,"column":16},"end":{"line":149,"column":30}},"108":{"start":{"line":153,"column":4},"end":{"line":163,"column":5}},"109":{"start":{"line":154,"column":8},"end":{"line":162,"column":9}},"110":{"start":{"line":155,"column":12},"end":{"line":161,"column":13}},"111":{"start":{"line":156,"column":16},"end":{"line":160,"column":17}},"112":{"start":{"line":157,"column":20},"end":{"line":159,"column":21}},"113":{"start":{"line":158,"column":24},"end":{"line":158,"column":38}},"114":{"start":{"line":164,"column":4},"end":{"line":164,"column":16}},"115":{"start":{"line":167,"column":19},"end":{"line":167,"column":21}},"116":{"start":{"line":168,"column":4},"end":{"line":187,"column":5}},"117":{"start":{"line":169,"column":8},"end":{"line":186,"column":9}},"118":{"start":{"line":170,"column":24},"end":{"line":170,"column":44}},"119":{"start":{"line":171,"column":12},"end":{"line":185,"column":13}},"120":{"start":{"line":173,"column":20},"end":{"line":173,"column":56}},"121":{"start":{"line":174,"column":20},"end":{"line":174,"column":26}},"122":{"start":{"line":177,"column":20},"end":{"line":177,"column":59}},"123":{"start":{"line":178,"column":20},"end":{"line":178,"column":60}},"124":{"start":{"line":179,"column":20},"end":{"line":179,"column":26}},"125":{"start":{"line":182,"column":20},"end":{"line":182,"column":54}},"126":{"start":{"line":183,"column":20},"end":{"line":183,"column":26}},"127":{"start":{"line":188,"column":4},"end":{"line":188,"column":41}},"128":{"start":{"line":189,"column":4},"end":{"line":189,"column":24}},"129":{"start":{"line":192,"column":4},"end":{"line":192,"column":46}},"130":{"start":{"line":193,"column":15},"end":{"line":193,"column":30}},"131":{"start":{"line":194,"column":4},"end":{"line":217,"column":5}},"132":{"start":{"line":195,"column":8},"end":{"line":216,"column":9}},"133":{"start":{"line":196,"column":24},"end":{"line":196,"column":44}},"134":{"start":{"line":197,"column":12},"end":{"line":215,"column":13}},"135":{"start":{"line":199,"column":20},"end":{"line":199,"column":52}},"136":{"start":{"line":200,"column":20},"end":{"line":200,"column":26}},"137":{"start":{"line":203,"column":20},"end":{"line":203,"column":56}},"138":{"start":{"line":204,"column":20},"end":{"line":204,"column":26}},"139":{"start":{"line":207,"column":20},"end":{"line":207,"column":47}},"140":{"start":{"line":208,"column":20},"end":{"line":208,"column":26}},"141":{"start":{"line":211,"column":20},"end":{"line":211,"column":47}},"142":{"start":{"line":212,"column":20},"end":{"line":212,"column":51}},"143":{"start":{"line":213,"column":20},"end":{"line":213,"column":67}},"144":{"start":{"line":218,"column":4},"end":{"line":218,"column":33}},"145":{"start":{"line":222,"column":4},"end":{"line":225,"column":5}},"146":{"start":{"line":223,"column":20},"end":{"line":223,"column":34}},"147":{"start":{"line":224,"column":8},"end":{"line":224,"column":79}},"148":{"start":{"line":226,"column":4},"end":{"line":226,"column":20}},"149":{"start":{"line":229,"column":4},"end":{"line":229,"column":42}},"150":{"start":{"line":232,"column":4},"end":{"line":236,"column":5}},"151":{"start":{"line":233,"column":8},"end":{"line":235,"column":9}},"152":{"start":{"line":234,"column":12},"end":{"line":234,"column":25}},"153":{"start":{"line":239,"column":4},"end":{"line":243,"column":5}},"154":{"start":{"line":240,"column":8},"end":{"line":242,"column":9}},"155":{"start":{"line":241,"column":12},"end":{"line":241,"column":41}},"156":{"start":{"line":244,"column":4},"end":{"line":244,"column":14}},"157":{"start":{"line":247,"column":16},"end":{"line":247,"column":30}},"158":{"start":{"line":248,"column":4},"end":{"line":253,"column":5}},"159":{"start":{"line":249,"column":8},"end":{"line":249,"column":30}},"160":{"start":{"line":252,"column":8},"end":{"line":252,"column":18}},"161":{"start":{"line":256,"column":16},"end":{"line":256,"column":30}},"162":{"start":{"line":257,"column":4},"end":{"line":262,"column":5}},"163":{"start":{"line":258,"column":8},"end":{"line":258,"column":36}},"164":{"start":{"line":261,"column":8},"end":{"line":261,"column":18}},"165":{"start":{"line":265,"column":16},"end":{"line":265,"column":30}},"166":{"start":{"line":266,"column":4},"end":{"line":271,"column":5}},"167":{"start":{"line":267,"column":8},"end":{"line":267,"column":30}},"168":{"start":{"line":270,"column":8},"end":{"line":270,"column":18}},"169":{"start":{"line":274,"column":18},"end":{"line":274,"column":30}},"170":{"start":{"line":275,"column":24},"end":{"line":275,"column":51}},"171":{"start":{"line":276,"column":14},"end":{"line":276,"column":93}},"172":{"start":{"line":277,"column":4},"end":{"line":315,"column":7}},"173":{"start":{"line":278,"column":8},"end":{"line":314,"column":11}},"174":{"start":{"line":279,"column":35},"end":{"line":279,"column":38}},"175":{"start":{"line":280,"column":32},"end":{"line":280,"column":59}},"176":{"start":{"line":282,"column":12},"end":{"line":289,"column":13}},"177":{"start":{"line":283,"column":16},"end":{"line":284,"column":50}},"178":{"start":{"line":286,"column":17},"end":{"line":289,"column":13}},"179":{"start":{"line":287,"column":16},"end":{"line":288,"column":77}},"180":{"start":{"line":290,"column":12},"end":{"line":294,"column":13}},"181":{"start":{"line":291,"column":16},"end":{"line":291,"column":45}},"182":{"start":{"line":292,"column":16},"end":{"line":292,"column":29}},"183":{"start":{"line":293,"column":16},"end":{"line":293,"column":23}},"184":{"start":{"line":295,"column":12},"end":{"line":295,"column":36}},"185":{"start":{"line":296,"column":26},"end":{"line":296,"column":28}},"186":{"start":{"line":297,"column":12},"end":{"line":299,"column":15}},"187":{"start":{"line":298,"column":16},"end":{"line":298,"column":33}},"188":{"start":{"line":300,"column":12},"end":{"line":311,"column":15}},"189":{"start":{"line":301,"column":16},"end":{"line":310,"column":17}},"190":{"start":{"line":302,"column":37},"end":{"line":302,"column":56}},"191":{"start":{"line":303,"column":20},"end":{"line":307,"column":21}},"192":{"start":{"line":304,"column":24},"end":{"line":304,"column":61}},"193":{"start":{"line":305,"column":24},"end":{"line":305,"column":61}},"194":{"start":{"line":306,"column":24},"end":{"line":306,"column":45}},"195":{"start":{"line":313,"column":12},"end":{"line":313,"column":51}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":74},"end":{"line":2,"column":75}},"loc":{"start":{"line":2,"column":96},"end":{"line":9,"column":1}},"line":2},"1":{"name":"(anonymous_1)","decl":{"start":{"line":6,"column":38},"end":{"line":6,"column":39}},"loc":{"start":{"line":6,"column":49},"end":{"line":6,"column":65}},"line":6},"2":{"name":"(anonymous_2)","decl":{"start":{"line":9,"column":6},"end":{"line":9,"column":7}},"loc":{"start":{"line":9,"column":28},"end":{"line":12,"column":1}},"line":9},"3":{"name":"(anonymous_3)","decl":{"start":{"line":13,"column":80},"end":{"line":13,"column":81}},"loc":{"start":{"line":13,"column":95},"end":{"line":15,"column":1}},"line":13},"4":{"name":"(anonymous_4)","decl":{"start":{"line":15,"column":5},"end":{"line":15,"column":6}},"loc":{"start":{"line":15,"column":20},"end":{"line":17,"column":1}},"line":15},"5":{"name":"(anonymous_5)","decl":{"start":{"line":18,"column":50},"end":{"line":18,"column":51}},"loc":{"start":{"line":18,"column":65},"end":{"line":24,"column":1}},"line":18},"6":{"name":"dealwithRoom","decl":{"start":{"line":38,"column":15},"end":{"line":38,"column":27}},"loc":{"start":{"line":38,"column":47},"end":{"line":87,"column":1}},"line":38},"7":{"name":"(anonymous_7)","decl":{"start":{"line":52,"column":25},"end":{"line":52,"column":26}},"loc":{"start":{"line":52,"column":49},"end":{"line":58,"column":5}},"line":52},"8":{"name":"findtbodyNode","decl":{"start":{"line":89,"column":9},"end":{"line":89,"column":22}},"loc":{"start":{"line":89,"column":29},"end":{"line":102,"column":1}},"line":89},"9":{"name":"validateRoom","decl":{"start":{"line":103,"column":9},"end":{"line":103,"column":21}},"loc":{"start":{"line":103,"column":28},"end":{"line":107,"column":1}},"line":103},"10":{"name":"findBuildingTable","decl":{"start":{"line":108,"column":9},"end":{"line":108,"column":26}},"loc":{"start":{"line":108,"column":33},"end":{"line":136,"column":1}},"line":108},"11":{"name":"findRoomTable","decl":{"start":{"line":137,"column":9},"end":{"line":137,"column":22}},"loc":{"start":{"line":137,"column":29},"end":{"line":165,"column":1}},"line":137},"12":{"name":"getBuildingData","decl":{"start":{"line":166,"column":9},"end":{"line":166,"column":24}},"loc":{"start":{"line":166,"column":48},"end":{"line":190,"column":1}},"line":166},"13":{"name":"getRoomData","decl":{"start":{"line":191,"column":15},"end":{"line":191,"column":26}},"loc":{"start":{"line":191,"column":46},"end":{"line":219,"column":1}},"line":191},"14":{"name":"getFilePath","decl":{"start":{"line":220,"column":9},"end":{"line":220,"column":20}},"loc":{"start":{"line":220,"column":33},"end":{"line":227,"column":1}},"line":220},"15":{"name":"getValue","decl":{"start":{"line":228,"column":9},"end":{"line":228,"column":17}},"loc":{"start":{"line":228,"column":25},"end":{"line":230,"column":1}},"line":228},"16":{"name":"getaNode","decl":{"start":{"line":231,"column":9},"end":{"line":231,"column":17}},"loc":{"start":{"line":231,"column":24},"end":{"line":237,"column":1}},"line":231},"17":{"name":"getText","decl":{"start":{"line":238,"column":9},"end":{"line":238,"column":16}},"loc":{"start":{"line":238,"column":23},"end":{"line":245,"column":1}},"line":238},"18":{"name":"getfullName","decl":{"start":{"line":246,"column":9},"end":{"line":246,"column":20}},"loc":{"start":{"line":246,"column":27},"end":{"line":254,"column":1}},"line":246},"19":{"name":"gethref","decl":{"start":{"line":255,"column":9},"end":{"line":255,"column":16}},"loc":{"start":{"line":255,"column":23},"end":{"line":263,"column":1}},"line":255},"20":{"name":"getNumber","decl":{"start":{"line":264,"column":9},"end":{"line":264,"column":18}},"loc":{"start":{"line":264,"column":25},"end":{"line":272,"column":1}},"line":264},"21":{"name":"getGeolocation","decl":{"start":{"line":273,"column":9},"end":{"line":273,"column":23}},"loc":{"start":{"line":273,"column":30},"end":{"line":316,"column":1}},"line":273},"22":{"name":"(anonymous_22)","decl":{"start":{"line":277,"column":23},"end":{"line":277,"column":24}},"loc":{"start":{"line":277,"column":44},"end":{"line":315,"column":5}},"line":277},"23":{"name":"(anonymous_23)","decl":{"start":{"line":278,"column":22},"end":{"line":278,"column":23}},"loc":{"start":{"line":278,"column":31},"end":{"line":312,"column":9}},"line":278},"24":{"name":"(anonymous_24)","decl":{"start":{"line":297,"column":27},"end":{"line":297,"column":28}},"loc":{"start":{"line":297,"column":38},"end":{"line":299,"column":13}},"line":297},"25":{"name":"(anonymous_25)","decl":{"start":{"line":300,"column":26},"end":{"line":300,"column":27}},"loc":{"start":{"line":300,"column":32},"end":{"line":311,"column":13}},"line":300},"26":{"name":"(anonymous_26)","decl":{"start":{"line":312,"column":23},"end":{"line":312,"column":24}},"loc":{"start":{"line":312,"column":30},"end":{"line":314,"column":9}},"line":312}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":22},"end":{"line":12,"column":3}},"type":"binary-expr","locations":[{"start":{"line":2,"column":23},"end":{"line":2,"column":27}},{"start":{"line":2,"column":31},"end":{"line":2,"column":51}},{"start":{"line":2,"column":57},"end":{"line":12,"column":2}}],"line":2},"1":{"loc":{"start":{"line":2,"column":57},"end":{"line":12,"column":2}},"type":"cond-expr","locations":[{"start":{"line":2,"column":74},"end":{"line":9,"column":1}},{"start":{"line":9,"column":6},"end":{"line":12,"column":1}}],"line":2},"2":{"loc":{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},"type":"if","locations":[{"start":{"line":3,"column":4},"end":{"line":3,"column":33}},{"start":{"line":3,"column":4},"end":{"line":3,"column":33}}],"line":3},"3":{"loc":{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},"type":"if","locations":[{"start":{"line":5,"column":4},"end":{"line":7,"column":5}},{"start":{"line":5,"column":4},"end":{"line":7,"column":5}}],"line":5},"4":{"loc":{"start":{"line":5,"column":8},"end":{"line":5,"column":85}},"type":"binary-expr","locations":[{"start":{"line":5,"column":8},"end":{"line":5,"column":13}},{"start":{"line":5,"column":18},"end":{"line":5,"column":84}}],"line":5},"5":{"loc":{"start":{"line":5,"column":18},"end":{"line":5,"column":84}},"type":"cond-expr","locations":[{"start":{"line":5,"column":34},"end":{"line":5,"column":47}},{"start":{"line":5,"column":50},"end":{"line":5,"column":84}}],"line":5},"6":{"loc":{"start":{"line":5,"column":50},"end":{"line":5,"column":84}},"type":"binary-expr","locations":[{"start":{"line":5,"column":50},"end":{"line":5,"column":63}},{"start":{"line":5,"column":67},"end":{"line":5,"column":84}}],"line":5},"7":{"loc":{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},"type":"if","locations":[{"start":{"line":10,"column":4},"end":{"line":10,"column":33}},{"start":{"line":10,"column":4},"end":{"line":10,"column":33}}],"line":10},"8":{"loc":{"start":{"line":13,"column":25},"end":{"line":17,"column":2}},"type":"binary-expr","locations":[{"start":{"line":13,"column":26},"end":{"line":13,"column":30}},{"start":{"line":13,"column":34},"end":{"line":13,"column":57}},{"start":{"line":13,"column":63},"end":{"line":17,"column":1}}],"line":13},"9":{"loc":{"start":{"line":13,"column":63},"end":{"line":17,"column":1}},"type":"cond-expr","locations":[{"start":{"line":13,"column":80},"end":{"line":15,"column":1}},{"start":{"line":15,"column":5},"end":{"line":17,"column":1}}],"line":13},"10":{"loc":{"start":{"line":18,"column":19},"end":{"line":24,"column":1}},"type":"binary-expr","locations":[{"start":{"line":18,"column":20},"end":{"line":18,"column":24}},{"start":{"line":18,"column":28},"end":{"line":18,"column":45}},{"start":{"line":18,"column":50},"end":{"line":24,"column":1}}],"line":18},"11":{"loc":{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},"type":"if","locations":[{"start":{"line":19,"column":4},"end":{"line":19,"column":42}},{"start":{"line":19,"column":4},"end":{"line":19,"column":42}}],"line":19},"12":{"loc":{"start":{"line":19,"column":8},"end":{"line":19,"column":29}},"type":"binary-expr","locations":[{"start":{"line":19,"column":8},"end":{"line":19,"column":11}},{"start":{"line":19,"column":15},"end":{"line":19,"column":29}}],"line":19},"13":{"loc":{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},"type":"if","locations":[{"start":{"line":21,"column":4},"end":{"line":21,"column":141}},{"start":{"line":21,"column":4},"end":{"line":21,"column":141}}],"line":21},"14":{"loc":{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},"type":"if","locations":[{"start":{"line":21,"column":40},"end":{"line":21,"column":141}},{"start":{"line":21,"column":40},"end":{"line":21,"column":141}}],"line":21},"15":{"loc":{"start":{"line":21,"column":44},"end":{"line":21,"column":107}},"type":"binary-expr","locations":[{"start":{"line":21,"column":44},"end":{"line":21,"column":59}},{"start":{"line":21,"column":63},"end":{"line":21,"column":107}}],"line":21},"16":{"loc":{"start":{"line":40,"column":4},"end":{"line":42,"column":5}},"type":"if","locations":[{"start":{"line":40,"column":4},"end":{"line":42,"column":5}},{"start":{"line":40,"column":4},"end":{"line":42,"column":5}}],"line":40},"17":{"loc":{"start":{"line":47,"column":8},"end":{"line":49,"column":9}},"type":"if","locations":[{"start":{"line":47,"column":8},"end":{"line":49,"column":9}},{"start":{"line":47,"column":8},"end":{"line":49,"column":9}}],"line":47},"18":{"loc":{"start":{"line":54,"column":8},"end":{"line":56,"column":9}},"type":"if","locations":[{"start":{"line":54,"column":8},"end":{"line":56,"column":9}},{"start":{"line":54,"column":8},"end":{"line":56,"column":9}}],"line":54},"19":{"loc":{"start":{"line":64,"column":12},"end":{"line":66,"column":13}},"type":"if","locations":[{"start":{"line":64,"column":12},"end":{"line":66,"column":13}},{"start":{"line":64,"column":12},"end":{"line":66,"column":13}}],"line":64},"20":{"loc":{"start":{"line":68,"column":8},"end":{"line":75,"column":9}},"type":"if","locations":[{"start":{"line":68,"column":8},"end":{"line":75,"column":9}},{"start":{"line":68,"column":8},"end":{"line":75,"column":9}}],"line":68},"21":{"loc":{"start":{"line":70,"column":16},"end":{"line":73,"column":17}},"type":"if","locations":[{"start":{"line":70,"column":16},"end":{"line":73,"column":17}},{"start":{"line":70,"column":16},"end":{"line":73,"column":17}}],"line":70},"22":{"loc":{"start":{"line":80,"column":8},"end":{"line":82,"column":9}},"type":"if","locations":[{"start":{"line":80,"column":8},"end":{"line":82,"column":9}},{"start":{"line":80,"column":8},"end":{"line":82,"column":9}}],"line":80},"23":{"loc":{"start":{"line":84,"column":4},"end":{"line":86,"column":5}},"type":"if","locations":[{"start":{"line":84,"column":4},"end":{"line":86,"column":5}},{"start":{"line":84,"column":4},"end":{"line":86,"column":5}}],"line":84},"24":{"loc":{"start":{"line":92,"column":8},"end":{"line":94,"column":9}},"type":"if","locations":[{"start":{"line":92,"column":8},"end":{"line":94,"column":9}},{"start":{"line":92,"column":8},"end":{"line":94,"column":9}}],"line":92},"25":{"loc":{"start":{"line":96,"column":4},"end":{"line":101,"column":5}},"type":"if","locations":[{"start":{"line":96,"column":4},"end":{"line":101,"column":5}},{"start":{"line":96,"column":4},"end":{"line":101,"column":5}}],"line":96},"26":{"loc":{"start":{"line":104,"column":13},"end":{"line":106,"column":84}},"type":"binary-expr","locations":[{"start":{"line":104,"column":14},"end":{"line":104,"column":36}},{"start":{"line":104,"column":42},"end":{"line":104,"column":65}},{"start":{"line":104,"column":71},"end":{"line":104,"column":91}},{"start":{"line":104,"column":97},"end":{"line":104,"column":115}},{"start":{"line":105,"column":12},"end":{"line":105,"column":33}},{"start":{"line":105,"column":39},"end":{"line":105,"column":56}},{"start":{"line":105,"column":62},"end":{"line":105,"column":79}},{"start":{"line":105,"column":85},"end":{"line":105,"column":104}},{"start":{"line":106,"column":12},"end":{"line":106,"column":30}},{"start":{"line":106,"column":36},"end":{"line":106,"column":59}},{"start":{"line":106,"column":65},"end":{"line":106,"column":83}}],"line":104},"27":{"loc":{"start":{"line":110,"column":4},"end":{"line":112,"column":5}},"type":"if","locations":[{"start":{"line":110,"column":4},"end":{"line":112,"column":5}},{"start":{"line":110,"column":4},"end":{"line":112,"column":5}}],"line":110},"28":{"loc":{"start":{"line":110,"column":8},"end":{"line":110,"column":43}},"type":"binary-expr","locations":[{"start":{"line":110,"column":8},"end":{"line":110,"column":21}},{"start":{"line":110,"column":25},"end":{"line":110,"column":43}}],"line":110},"29":{"loc":{"start":{"line":113,"column":4},"end":{"line":115,"column":5}},"type":"if","locations":[{"start":{"line":113,"column":4},"end":{"line":115,"column":5}},{"start":{"line":113,"column":4},"end":{"line":115,"column":5}}],"line":113},"30":{"loc":{"start":{"line":116,"column":4},"end":{"line":123,"column":5}},"type":"if","locations":[{"start":{"line":116,"column":4},"end":{"line":123,"column":5}},{"start":{"line":116,"column":4},"end":{"line":123,"column":5}}],"line":116},"31":{"loc":{"start":{"line":116,"column":8},"end":{"line":116,"column":65}},"type":"binary-expr","locations":[{"start":{"line":116,"column":8},"end":{"line":116,"column":32}},{"start":{"line":116,"column":36},"end":{"line":116,"column":65}}],"line":116},"32":{"loc":{"start":{"line":119,"column":12},"end":{"line":121,"column":13}},"type":"if","locations":[{"start":{"line":119,"column":12},"end":{"line":121,"column":13}},{"start":{"line":119,"column":12},"end":{"line":121,"column":13}}],"line":119},"33":{"loc":{"start":{"line":119,"column":16},"end":{"line":119,"column":51}},"type":"binary-expr","locations":[{"start":{"line":119,"column":16},"end":{"line":119,"column":29}},{"start":{"line":119,"column":33},"end":{"line":119,"column":51}}],"line":119},"34":{"loc":{"start":{"line":124,"column":4},"end":{"line":134,"column":5}},"type":"if","locations":[{"start":{"line":124,"column":4},"end":{"line":134,"column":5}},{"start":{"line":124,"column":4},"end":{"line":134,"column":5}}],"line":124},"35":{"loc":{"start":{"line":124,"column":8},"end":{"line":124,"column":47}},"type":"binary-expr","locations":[{"start":{"line":124,"column":8},"end":{"line":124,"column":23}},{"start":{"line":124,"column":27},"end":{"line":124,"column":47}}],"line":124},"36":{"loc":{"start":{"line":126,"column":12},"end":{"line":132,"column":13}},"type":"if","locations":[{"start":{"line":126,"column":12},"end":{"line":132,"column":13}},{"start":{"line":126,"column":12},"end":{"line":132,"column":13}}],"line":126},"37":{"loc":{"start":{"line":128,"column":20},"end":{"line":130,"column":21}},"type":"if","locations":[{"start":{"line":128,"column":20},"end":{"line":130,"column":21}},{"start":{"line":128,"column":20},"end":{"line":130,"column":21}}],"line":128},"38":{"loc":{"start":{"line":128,"column":24},"end":{"line":128,"column":99}},"type":"binary-expr","locations":[{"start":{"line":128,"column":24},"end":{"line":128,"column":48}},{"start":{"line":128,"column":52},"end":{"line":128,"column":64}},{"start":{"line":128,"column":68},"end":{"line":128,"column":99}}],"line":128},"39":{"loc":{"start":{"line":139,"column":4},"end":{"line":141,"column":5}},"type":"if","locations":[{"start":{"line":139,"column":4},"end":{"line":141,"column":5}},{"start":{"line":139,"column":4},"end":{"line":141,"column":5}}],"line":139},"40":{"loc":{"start":{"line":139,"column":8},"end":{"line":139,"column":43}},"type":"binary-expr","locations":[{"start":{"line":139,"column":8},"end":{"line":139,"column":21}},{"start":{"line":139,"column":25},"end":{"line":139,"column":43}}],"line":139},"41":{"loc":{"start":{"line":142,"column":4},"end":{"line":144,"column":5}},"type":"if","locations":[{"start":{"line":142,"column":4},"end":{"line":144,"column":5}},{"start":{"line":142,"column":4},"end":{"line":144,"column":5}}],"line":142},"42":{"loc":{"start":{"line":145,"column":4},"end":{"line":152,"column":5}},"type":"if","locations":[{"start":{"line":145,"column":4},"end":{"line":152,"column":5}},{"start":{"line":145,"column":4},"end":{"line":152,"column":5}}],"line":145},"43":{"loc":{"start":{"line":145,"column":8},"end":{"line":145,"column":65}},"type":"binary-expr","locations":[{"start":{"line":145,"column":8},"end":{"line":145,"column":32}},{"start":{"line":145,"column":36},"end":{"line":145,"column":65}}],"line":145},"44":{"loc":{"start":{"line":148,"column":12},"end":{"line":150,"column":13}},"type":"if","locations":[{"start":{"line":148,"column":12},"end":{"line":150,"column":13}},{"start":{"line":148,"column":12},"end":{"line":150,"column":13}}],"line":148},"45":{"loc":{"start":{"line":148,"column":16},"end":{"line":148,"column":51}},"type":"binary-expr","locations":[{"start":{"line":148,"column":16},"end":{"line":148,"column":29}},{"start":{"line":148,"column":33},"end":{"line":148,"column":51}}],"line":148},"46":{"loc":{"start":{"line":153,"column":4},"end":{"line":163,"column":5}},"type":"if","locations":[{"start":{"line":153,"column":4},"end":{"line":163,"column":5}},{"start":{"line":153,"column":4},"end":{"line":163,"column":5}}],"line":153},"47":{"loc":{"start":{"line":153,"column":8},"end":{"line":153,"column":47}},"type":"binary-expr","locations":[{"start":{"line":153,"column":8},"end":{"line":153,"column":23}},{"start":{"line":153,"column":27},"end":{"line":153,"column":47}}],"line":153},"48":{"loc":{"start":{"line":155,"column":12},"end":{"line":161,"column":13}},"type":"if","locations":[{"start":{"line":155,"column":12},"end":{"line":161,"column":13}},{"start":{"line":155,"column":12},"end":{"line":161,"column":13}}],"line":155},"49":{"loc":{"start":{"line":157,"column":20},"end":{"line":159,"column":21}},"type":"if","locations":[{"start":{"line":157,"column":20},"end":{"line":159,"column":21}},{"start":{"line":157,"column":20},"end":{"line":159,"column":21}}],"line":157},"50":{"loc":{"start":{"line":157,"column":24},"end":{"line":157,"column":100}},"type":"binary-expr","locations":[{"start":{"line":157,"column":24},"end":{"line":157,"column":48}},{"start":{"line":157,"column":52},"end":{"line":157,"column":64}},{"start":{"line":157,"column":68},"end":{"line":157,"column":100}}],"line":157},"51":{"loc":{"start":{"line":169,"column":8},"end":{"line":186,"column":9}},"type":"if","locations":[{"start":{"line":169,"column":8},"end":{"line":186,"column":9}},{"start":{"line":169,"column":8},"end":{"line":186,"column":9}}],"line":169},"52":{"loc":{"start":{"line":171,"column":12},"end":{"line":185,"column":13}},"type":"switch","locations":[{"start":{"line":172,"column":16},"end":{"line":175,"column":17}},{"start":{"line":176,"column":16},"end":{"line":180,"column":17}},{"start":{"line":181,"column":16},"end":{"line":184,"column":17}}],"line":171},"53":{"loc":{"start":{"line":195,"column":8},"end":{"line":216,"column":9}},"type":"if","locations":[{"start":{"line":195,"column":8},"end":{"line":216,"column":9}},{"start":{"line":195,"column":8},"end":{"line":216,"column":9}}],"line":195},"54":{"loc":{"start":{"line":197,"column":12},"end":{"line":215,"column":13}},"type":"switch","locations":[{"start":{"line":198,"column":16},"end":{"line":201,"column":17}},{"start":{"line":202,"column":16},"end":{"line":205,"column":17}},{"start":{"line":206,"column":16},"end":{"line":209,"column":17}},{"start":{"line":210,"column":16},"end":{"line":214,"column":17}}],"line":197},"55":{"loc":{"start":{"line":222,"column":4},"end":{"line":225,"column":5}},"type":"if","locations":[{"start":{"line":222,"column":4},"end":{"line":225,"column":5}},{"start":{"line":222,"column":4},"end":{"line":225,"column":5}}],"line":222},"56":{"loc":{"start":{"line":224,"column":19},"end":{"line":224,"column":78}},"type":"cond-expr","locations":[{"start":{"line":224,"column":38},"end":{"line":224,"column":73}},{"start":{"line":224,"column":76},"end":{"line":224,"column":78}}],"line":224},"57":{"loc":{"start":{"line":233,"column":8},"end":{"line":235,"column":9}},"type":"if","locations":[{"start":{"line":233,"column":8},"end":{"line":235,"column":9}},{"start":{"line":233,"column":8},"end":{"line":235,"column":9}}],"line":233},"58":{"loc":{"start":{"line":240,"column":8},"end":{"line":242,"column":9}},"type":"if","locations":[{"start":{"line":240,"column":8},"end":{"line":242,"column":9}},{"start":{"line":240,"column":8},"end":{"line":242,"column":9}}],"line":240},"59":{"loc":{"start":{"line":248,"column":4},"end":{"line":253,"column":5}},"type":"if","locations":[{"start":{"line":248,"column":4},"end":{"line":253,"column":5}},{"start":{"line":248,"column":4},"end":{"line":253,"column":5}}],"line":248},"60":{"loc":{"start":{"line":257,"column":4},"end":{"line":262,"column":5}},"type":"if","locations":[{"start":{"line":257,"column":4},"end":{"line":262,"column":5}},{"start":{"line":257,"column":4},"end":{"line":262,"column":5}}],"line":257},"61":{"loc":{"start":{"line":266,"column":4},"end":{"line":271,"column":5}},"type":"if","locations":[{"start":{"line":266,"column":4},"end":{"line":271,"column":5}},{"start":{"line":266,"column":4},"end":{"line":271,"column":5}}],"line":266},"62":{"loc":{"start":{"line":282,"column":12},"end":{"line":289,"column":13}},"type":"if","locations":[{"start":{"line":282,"column":12},"end":{"line":289,"column":13}},{"start":{"line":282,"column":12},"end":{"line":289,"column":13}}],"line":282},"63":{"loc":{"start":{"line":286,"column":17},"end":{"line":289,"column":13}},"type":"if","locations":[{"start":{"line":286,"column":17},"end":{"line":289,"column":13}},{"start":{"line":286,"column":17},"end":{"line":289,"column":13}}],"line":286},"64":{"loc":{"start":{"line":290,"column":12},"end":{"line":294,"column":13}},"type":"if","locations":[{"start":{"line":290,"column":12},"end":{"line":294,"column":13}},{"start":{"line":290,"column":12},"end":{"line":294,"column":13}}],"line":290},"65":{"loc":{"start":{"line":303,"column":20},"end":{"line":307,"column":21}},"type":"if","locations":[{"start":{"line":303,"column":20},"end":{"line":307,"column":21}},{"start":{"line":303,"column":20},"end":{"line":307,"column":21}}],"line":303}},"s":{"0":1,"1":17,"2":17,"3":17,"4":17,"5":17,"6":1137,"7":17,"8":0,"9":0,"10":0,"11":1,"12":1,"13":0,"14":1,"15":1,"16":0,"17":1,"18":1,"19":1,"20":17,"21":17,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":14,"38":14,"39":14,"40":2,"41":12,"42":12,"43":12,"44":12,"45":1788,"46":888,"47":12,"48":12,"49":12,"50":12,"51":12,"52":888,"53":888,"54":240,"55":888,"56":12,"57":12,"58":240,"59":240,"60":240,"61":1680,"62":240,"63":240,"64":141,"65":2415,"66":1137,"67":1137,"68":240,"69":12,"70":12,"71":1137,"72":1137,"73":12,"74":0,"75":1,"76":12,"77":84,"78":12,"79":12,"80":0,"81":12,"82":1137,"83":21324,"84":0,"85":21324,"86":12,"87":21312,"88":11004,"89":21312,"90":21312,"91":108,"92":21312,"93":108,"94":216,"95":108,"96":216,"97":108,"98":21204,"99":421134,"100":0,"101":421134,"102":141,"103":420993,"104":218538,"105":420894,"106":420894,"107":1551,"108":420993,"109":1551,"110":3102,"111":1551,"112":3102,"113":1551,"114":419442,"115":888,"116":888,"117":9786,"118":4440,"119":4440,"120":888,"121":888,"122":888,"123":888,"124":888,"125":888,"126":888,"127":888,"128":888,"129":1137,"130":1137,"131":1137,"132":12507,"133":5685,"134":5685,"135":1137,"136":1137,"137":1137,"138":1137,"139":1137,"140":1137,"141":1137,"142":1137,"143":1137,"144":1137,"145":888,"146":888,"147":888,"148":888,"149":7212,"150":4050,"151":8100,"152":4050,"153":7212,"154":7212,"155":7212,"156":0,"157":888,"158":888,"159":888,"160":0,"161":1137,"162":1137,"163":1137,"164":0,"165":1137,"166":1137,"167":1137,"168":0,"169":1137,"170":1137,"171":1137,"172":1137,"173":1137,"174":1137,"175":1137,"176":1137,"177":0,"178":1137,"179":0,"180":1137,"181":0,"182":0,"183":0,"184":1137,"185":1137,"186":1137,"187":1137,"188":1137,"189":1137,"190":1137,"191":1137,"192":1137,"193":1137,"194":1137,"195":0},"f":{"0":17,"1":1137,"2":0,"3":1,"4":0,"5":1,"6":14,"7":888,"8":12,"9":1137,"10":21324,"11":421134,"12":888,"13":1137,"14":888,"15":7212,"16":4050,"17":7212,"18":888,"19":1137,"20":1137,"21":1137,"22":1137,"23":1137,"24":1137,"25":1137,"26":0},"b":{"0":[1,1,1],"1":[1,0],"2":[17,0],"3":[17,0],"4":[17,17],"5":[2,15],"6":[15,0],"7":[0,0],"8":[1,1,1],"9":[1,0],"10":[1,1,1],"11":[0,1],"12":[1,1],"13":[1,0],"14":[17,0],"15":[17,17],"16":[2,12],"17":[888,900],"18":[240,648],"19":[240,1440],"20":[141,99],"21":[1137,1278],"22":[1137,0],"23":[0,12],"24":[12,72],"25":[0,12],"26":[1137,1137,1137,1137,1137,1137,1137,1137,1137,1137,1137],"27":[0,21324],"28":[21324,21324],"29":[12,21312],"30":[11004,10308],"31":[21312,21312],"32":[108,21204],"33":[21312,108],"34":[108,21204],"35":[21312,21312],"36":[108,108],"37":[108,108],"38":[216,108,108],"39":[0,421134],"40":[421134,421134],"41":[141,420993],"42":[218538,202455],"43":[420993,420993],"44":[1551,419343],"45":[420894,1551],"46":[1551,419442],"47":[420993,420993],"48":[1551,1551],"49":[1551,1551],"50":[3102,1551,1551],"51":[4440,5346],"52":[888,888,888],"53":[5685,6822],"54":[1137,1137,1137,1137],"55":[888,0],"56":[888,0],"57":[4050,4050],"58":[7212,0],"59":[888,0],"60":[1137,0],"61":[1137,0],"62":[0,1137],"63":[0,1137],"64":[0,1137],"65":[1137,0]},"inputSourceMap":{"version":3,"file":"D:/project_team077/src/controller/RoomHelper.ts","sources":["D:/project_team077/src/controller/RoomHelper.ts"],"names":[],"mappings":"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","sourcesContent":["import JSZip from \"jszip\";\r\nimport {parse} from \"parse5\";\r\nimport {Document, Element} from \"parse5/dist/tree-adapters/default\";\r\nimport {InsightError} from \"./IInsightFacade\";\r\nimport {IRoom} from \"./IRoom\";\r\nimport * as http from \"http\";\r\nimport {ISection} from \"./ISection\";\r\n\r\n\r\nconst IMAGE = \"views-field views-field-field-building-image\";\r\nconst FULLNAME = \"views-field views-field-title\";\r\nconst SHORTNAME = \"views-field views-field-field-building-code\";\r\nconst ADDRESS = \"views-field views-field-field-building-address\";\r\nconst FURNITURE = \"views-field views-field-field-room-furniture\";\r\nconst TYPE = \"views-field views-field-field-room-type\";\r\nconst SEATS = \"views-field views-field-field-room-capacity\";\r\nconst NUMBER = \"views-field views-field-field-room-number\";\r\n\r\n\r\n// Reference: https://stackoverflow.com/questions/37699320/iterating-over-typescript-map\r\nasync function dealwithRoom(id: string, zip: JSZip, dataList: ISection[] | IRoom[]) {\r\n\tlet tbodyNode: any,buildingList = new Map<string, IRoom>(), indexFile = zip.file(\"index.htm\");\r\n\tif (indexFile === null) {\r\n\t\treturn Promise.reject(new InsightError(\"Rejected with invalid index.htm\"));\r\n\t}\r\n\tlet index = await indexFile.async(\"string\");\r\n\tlet root: Document = parse(index);\r\n\t// check if there exists a valid building table\r\n\ttbodyNode = findtbodyNode(root);\r\n\t// building tablebuildingdata\r\n\tfor (let child of tbodyNode.childNodes) {\r\n\t\tif (child.nodeName === \"tr\") { // Each tr represent a building\r\n\t\t\tbuildingList = getBuildingData(child, buildingList);\r\n\t\t\t// console.log(buildingList);\r\n\t\t}\r\n\t}\r\n\tlet buildingPromises: Map<number,Promise<string>> = new Map<number,Promise<string>>(), i = 0 , j = 0,rooms = [];\r\n\tbuildingList.forEach((building: IRoom, filePath: string) => {\r\n\t\tlet file = zip.file(filePath);\r\n\t\tif (file !== null) {\r\n\t\t\tbuildingPromises.set(i,file.async(\"string\"));\r\n\t\t}\r\n\t\ti++;\r\n\t});\r\n\tlet buildingFiles = await Promise.all(buildingPromises.values());\r\n\tfor(let buildingfile of buildingFiles){\r\n\t\tlet node = parse(buildingfile);\r\n\t\tlet building = Array.from(buildingList.values())[j],bodynode: any;\r\n\t\tfor (let child of node.childNodes) {\r\n\t\t\tif (child.nodeName === \"html\") {\r\n\t\t\t\tbodynode = findRoomTable(child);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (bodynode !== null) {\r\n\t\t\tfor (let child of bodynode.childNodes) {\r\n\t\t\t\tif (child.nodeName === \"tr\") { // Each tr represent a room\r\n\t\t\t\t\tlet info = getRoomData(child, building);\r\n\t\t\t\t\trooms.push(info);\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tj++;\r\n\t}\r\n\tlet roomData = await Promise.all(rooms);\r\n\tfor (let room of roomData) {\r\n\t\tif (validateRoom(room)) {\r\n\t\t\t(dataList as IRoom[]).push(room);\r\n\t\t\t// console.log(dataList);\r\n\t\t}\r\n\t}\r\n\tif (dataList.length === 0) {\r\n\t\treturn Promise.reject(new InsightError(\"Rejected with invalid content\"));\r\n\t}\r\n}\r\n\r\n// function dealwithRoomHelper(promises: Array<Promise<IRoom>>, dataList: ISection[] | IRoom[]) {\r\n// \t// console.log(promises);\r\n// \treturn Promise.all(promises)\r\n// \t\t.then((rooms) => {\r\n// \t\t\t// console.log(rooms);\r\n// \t\t\tfor (let room of rooms) {\r\n// \t\t\t\tif (validateRoom(room)) {\r\n// \t\t\t\t\t(dataList as IRoom[]).push(room);\r\n// \t\t\t\t\t// console.log(dataList);\r\n// \t\t\t\t}\r\n// \t\t\t}\r\n// \t\t\treturn Promise.resolve(dataList);\r\n// \t\t}\r\n// \t\t).catch((e) => {\r\n// \t\t\treturn Promise.reject(new InsightError(e));\r\n// \t\t});\r\n// }\r\n\r\nfunction findtbodyNode(root: any) {\r\n\t// check if there exists a valid building table\r\n\tlet tbodyNode;\r\n\tfor (let node of root.childNodes) {\r\n\t\tif (node.nodeName === \"html\") {\r\n\t\t\ttbodyNode = findBuildingTable(node);\r\n\t\t}\r\n\t}\r\n\tif (tbodyNode === null) {\r\n\t\treturn Promise.reject(new InsightError(\"Rejected with invalid building table in index.htm\"));\r\n\t} else {\r\n\t\treturn tbodyNode;\r\n\t}\r\n}\r\n\r\nfunction validateRoom(room: IRoom) {\r\n\treturn !((room.fullname === null) || (room.shortname === null) || (room.number === null) || (room.name === null)\r\n\t\t|| (room.address === null) || (room.lat === null) || (room.lon === null) || (room.seats === null)\r\n\t\t|| (room.type === null) || (room.furniture === null) || (room.href === null));\r\n}\r\n\r\n// find one  <td> element with a valid class,\r\n\r\nfunction findBuildingTable(root: any): any {\r\n\tlet result;\r\n\t// Base case: If the root is null, return null\r\n\tif (root === null || root === undefined) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\t// Check if the current node is the target node (tbody)\r\n\tif (root.nodeName === \"tbody\") {\r\n\t\treturn root;\r\n\t}\r\n\r\n\t// If the current node has child nodes, recursively search them\r\n\tif (root.childNodes !== null && root.childNodes !== undefined) {\r\n\t\tfor (let child of root.childNodes) {\r\n\t\t\tlet node = findBuildingTable(child); // Recursively search child nodes\r\n\t\t\tif (node !== null && node !== undefined) {\r\n\t\t\t\tresult = node; // Return the first found tbody node\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// No tbody node found in children, continue searching\r\n\tif (result !== null && result !== undefined) {\r\n\t\tfor (let child of result.childNodes) {\r\n\t\t\tif (child.nodeName === \"tr\") {\r\n\t\t\t\tfor (let tdNode of child.childNodes) {\r\n\t\t\t\t\t// Check if the child node is a td element and has the required class\r\n\t\t\t\t\tif (tdNode.nodeName === \"td\" && tdNode.attrs && tdNode.attrs[0].value === IMAGE) {\r\n\t\t\t\t\t\treturn result; // Return the parent node (tbody) if td with class IMAGE found\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// If tbody node not found in children, return null\r\n\treturn null;\r\n}\r\n\r\n\r\nfunction findRoomTable(root: any): any {\r\n\tlet result;\r\n\t// Base case: If the root is null, return null\r\n\tif (root === null || root === undefined) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\t// Check if the current node is the target node (tbody)\r\n\tif (root.nodeName === \"tbody\") {\r\n\t\treturn root;\r\n\t}\r\n\r\n\t// If the current node has child nodes, recursively search them\r\n\tif (root.childNodes !== null && root.childNodes !== undefined) {\r\n\t\tfor (let child of root.childNodes) {\r\n\t\t\tlet node = findRoomTable(child); // Recursively search child nodes\r\n\t\t\tif (node !== null && node !== undefined) {\r\n\t\t\t\tresult = node;\r\n\t\t\t\t// console.log(result);// Return the first found tbody node\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// No tbody node found in children, continue searching\r\n\tif (result !== null && result !== undefined) {\r\n\t\tfor (let child of result.childNodes) {\r\n\t\t\tif (child.nodeName === \"tr\") {\r\n\t\t\t\tfor (let tdNode of child.childNodes) {\r\n\t\t\t\t\t// Check if the child node is a td element and has the required class\r\n\t\t\t\t\tif (tdNode.nodeName === \"td\" && tdNode.attrs && tdNode.attrs[0].value === NUMBER) {\r\n\t\t\t\t\t\t// console.log(result);\r\n\t\t\t\t\t\treturn result; // Return the parent node (tbody) if td with class IMAGE found\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn null;\r\n}\r\n\r\nfunction getBuildingData(rowNode: any, buildingList: Map<string, IRoom>) {\r\n\tlet building: IRoom = {} as IRoom, filePath;\r\n\t// get data of fullname.shortname.address and href\r\n\tfor (let child of rowNode.childNodes) {\r\n\t\tif (child.nodeName === \"td\") {\r\n\t\t\t// getRoomInfo(child, building);\r\n\t\t\tlet value = child.attrs[0].value;\r\n\r\n\t\t\tswitch (value) {\r\n\t\t\t\tcase SHORTNAME: {\r\n\t\t\t\t\tbuilding.shortname = getText(child);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tcase FULLNAME: {\r\n\t\t\t\t\tbuilding.fullname = getfullName(child);\r\n\t\t\t\t\t// filePath = child.childNodes[1].attrs[0].value;\r\n\t\t\t\t\tfilePath = getFilePath(child, building);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tcase ADDRESS: {\r\n\t\t\t\t\tbuilding.address = getText(child);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t// filePath = getFilePath(child, building);\r\n\tbuildingList.set(filePath, building);\r\n\treturn buildingList;\r\n}\r\n\r\nasync function getRoomData(rowNode: any, building: IRoom) {\r\n\tbuilding = await getGeolocation(building);\r\n\tlet room: IRoom = {...building};\r\n\tfor (let child of rowNode.childNodes) {\r\n\t\tif (child.nodeName === \"td\") {\r\n\t\t\tlet value = child.attrs[0].value;\r\n\r\n\t\t\tswitch (value) {\r\n\t\t\t\tcase FURNITURE: {\r\n\t\t\t\t\troom.furniture = getText(child);\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t}\r\n\t\t\t\tcase SEATS: {\r\n\t\t\t\t\troom.seats = Number(getText(child));\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tcase TYPE: {\r\n\t\t\t\t\troom.type = getText(child);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tcase NUMBER: {\r\n\t\t\t\t\troom.href = gethref(child);\r\n\t\t\t\t\troom.number = getNumber(child);\r\n\t\t\t\t\troom.name = room.shortname + \"_\" + room.number;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn Promise.resolve(room);\r\n\t// return room;\r\n\r\n}\r\n\r\n\r\n// node is td\r\nfunction getFilePath(node: any, room: IRoom) {\r\n\tlet filePath;\r\n\tif (node.attrs[0].value === FULLNAME) {\r\n\t\tlet aNode = getaNode(node);\r\n\t\tfilePath = (aNode !== null) ? (aNode.attrs[0].value).substring(2) : \"\";\r\n\t}\r\n\treturn filePath;\r\n}\r\n\r\nfunction getValue(value: string): string {\r\n\treturn value.replace(\"\\n\", \"\").trim();\r\n}\r\n\r\nfunction getaNode(node: any) {\r\n\tfor (let child of node.childNodes) {\r\n\t\tif (child.nodeName === \"a\") {\r\n\t\t\treturn child;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction getText(node: any) {\r\n\tfor (let child of node.childNodes) {\r\n\t\tif (child.nodeName === \"#text\") { // find \"text\" node\r\n\t\t\treturn getValue(child.value);\r\n\t\t}\r\n\t}\r\n\treturn \"\";\r\n}\r\n\r\nfunction getfullName(node: any) {\r\n\tlet aNode = getaNode(node);\r\n\tif (aNode !== null) {\r\n\t\treturn getText(aNode);\r\n\t} else {\r\n\t\treturn \"\";\r\n\t}\r\n}\r\n\r\nfunction gethref(node: any) {\r\n\tlet aNode = getaNode(node);\r\n\tif (aNode !== null) {\r\n\t\treturn aNode.attrs[0].value;\r\n\t} else {\r\n\t\treturn \"\";\r\n\t}\r\n}\r\n\r\nfunction getNumber(node: any) {\r\n\tlet aNode = getaNode(node);\r\n\tif (aNode !== null) {\r\n\t\treturn getText(aNode);\r\n\t} else {\r\n\t\treturn \"\";\r\n\t}\r\n\r\n}\r\n\r\n// get geolocation of room\r\n// Reference:https://nodejs.org/api/http.html#httpgeturl-options-callback\r\nfunction getGeolocation(room: IRoom) {\r\n\tlet address = room.address;\r\n\tlet encodeAddress = encodeURIComponent(address);\r\n\tlet url = \"http://cs310.students.cs.ubc.ca:11316/api/v1/project_team077/\" + encodeAddress;\r\n\treturn new Promise<any>((resolve, reject) => {\r\n\t\thttp.get(url, (res) => {\r\n\t\t\tconst {statusCode} = res;\r\n\t\t\tconst contentType = res.headers[\"content-type\"]!;\r\n\t\t\tlet error;\r\n\t\t\t// Any 2xx status code signals a successful response but\r\n\t\t\t// here we're only checking for 200.\r\n\t\t\tif (statusCode !== 200) {\r\n\t\t\t\terror = new Error(\"Request Failed.\\n\" +\r\n\t\t\t\t\t`Status Code: ${statusCode}`);\r\n\t\t\t} else if (!/^application\\/json/.test(contentType)) {\r\n\t\t\t\terror = new Error(\"Invalid content-type.\\n\" +\r\n\t\t\t\t\t`Expected application/json but received ${contentType}`);\r\n\t\t\t}\r\n\t\t\tif (error) {\r\n\t\t\t\tconsole.error(error.message);\r\n\t\t\t\t// Consume response data to free up memory\r\n\t\t\t\tres.resume();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t// console.log(res);\r\n\t\t\tres.setEncoding(\"utf8\");\r\n\t\t\tlet rawData = \"\";\r\n\t\t\tres.on(\"data\", (chunk) => {\r\n\t\t\t\trawData += chunk;\r\n\t\t\t});\r\n\t\t\tres.on(\"end\", () => {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tlet parsedData = JSON.parse(rawData);\r\n\t\t\t\t\tif (parsedData.error === undefined) {\r\n\t\t\t\t\t\troom.lat = parsedData.lat.toFixed(2);\r\n\t\t\t\t\t\troom.lon = parsedData.lon.toFixed(2);\r\n\t\t\t\t\t\t// console.log(room);\r\n\t\t\t\t\t\treturn resolve(room);\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (e) { /* empty */\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}).on(\"error\", (e) => {\r\n\t\t\tconsole.log(`Got error: ${e.message}`);\r\n\t\t});\r\n\t});\r\n}\r\n\r\n\r\nexport {dealwithRoom};\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"3becd1479b0fa0d4a5ffd0d4c7d64605873129b7","contentHash":"1288f192430ca579d3a269cc7f1cf627599f58046689b44fd2d835a22e0ce993"},"D:\\project_team077\\src\\controller\\SectionHelper.ts":{"path":"D:\\project_team077\\src\\controller\\SectionHelper.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":33}},"2":{"start":{"line":4,"column":25},"end":{"line":4,"column":52}},"3":{"start":{"line":6,"column":21},"end":{"line":6,"column":23}},"4":{"start":{"line":7,"column":4},"end":{"line":7,"column":44}},"5":{"start":{"line":8,"column":4},"end":{"line":8,"column":35}},"6":{"start":{"line":9,"column":4},"end":{"line":9,"column":37}},"7":{"start":{"line":10,"column":4},"end":{"line":10,"column":46}},"8":{"start":{"line":11,"column":4},"end":{"line":11,"column":38}},"9":{"start":{"line":12,"column":4},"end":{"line":12,"column":33}},"10":{"start":{"line":13,"column":4},"end":{"line":13,"column":35}},"11":{"start":{"line":14,"column":4},"end":{"line":14,"column":35}},"12":{"start":{"line":15,"column":4},"end":{"line":15,"column":37}},"13":{"start":{"line":16,"column":4},"end":{"line":21,"column":5}},"14":{"start":{"line":17,"column":8},"end":{"line":17,"column":31}},"15":{"start":{"line":20,"column":8},"end":{"line":20,"column":53}},"16":{"start":{"line":22,"column":4},"end":{"line":22,"column":22}},"17":{"start":{"line":25,"column":20},"end":{"line":25,"column":21}},"18":{"start":{"line":26,"column":4},"end":{"line":28,"column":5}},"19":{"start":{"line":27,"column":8},"end":{"line":27,"column":99}},"20":{"start":{"line":29,"column":19},"end":{"line":29,"column":21}},"21":{"start":{"line":30,"column":4},"end":{"line":32,"column":7}},"22":{"start":{"line":31,"column":8},"end":{"line":31,"column":44}},"23":{"start":{"line":33,"column":24},"end":{"line":33,"column":51}},"24":{"start":{"line":34,"column":4},"end":{"line":48,"column":5}},"25":{"start":{"line":35,"column":8},"end":{"line":47,"column":9}},"26":{"start":{"line":36,"column":27},"end":{"line":36,"column":43}},"27":{"start":{"line":37,"column":12},"end":{"line":43,"column":13}},"28":{"start":{"line":38,"column":16},"end":{"line":42,"column":17}},"29":{"start":{"line":39,"column":20},"end":{"line":39,"column":32}},"30":{"start":{"line":40,"column":37},"end":{"line":40,"column":63}},"31":{"start":{"line":41,"column":20},"end":{"line":41,"column":46}},"32":{"start":{"line":46,"column":12},"end":{"line":46,"column":49}},"33":{"start":{"line":49,"column":4},"end":{"line":51,"column":5}},"34":{"start":{"line":50,"column":8},"end":{"line":50,"column":98}},"35":{"start":{"line":53,"column":0},"end":{"line":53,"column":42}},"36":{"start":{"line":56,"column":4},"end":{"line":63,"column":5}},"37":{"start":{"line":59,"column":8},"end":{"line":59,"column":23}},"38":{"start":{"line":62,"column":8},"end":{"line":62,"column":24}},"39":{"start":{"line":64,"column":4},"end":{"line":64,"column":19}}},"fnMap":{"0":{"name":"toSectionData","decl":{"start":{"line":5,"column":9},"end":{"line":5,"column":22}},"loc":{"start":{"line":5,"column":44},"end":{"line":23,"column":1}},"line":5},"1":{"name":"dealwithSection","decl":{"start":{"line":24,"column":15},"end":{"line":24,"column":30}},"loc":{"start":{"line":24,"column":50},"end":{"line":52,"column":1}},"line":24},"2":{"name":"(anonymous_2)","decl":{"start":{"line":30,"column":35},"end":{"line":30,"column":36}},"loc":{"start":{"line":30,"column":65},"end":{"line":32,"column":5}},"line":30},"3":{"name":"validateSection","decl":{"start":{"line":54,"column":9},"end":{"line":54,"column":24}},"loc":{"start":{"line":54,"column":34},"end":{"line":65,"column":1}},"line":54}},"branchMap":{"0":{"loc":{"start":{"line":16,"column":4},"end":{"line":21,"column":5}},"type":"if","locations":[{"start":{"line":16,"column":4},"end":{"line":21,"column":5}},{"start":{"line":16,"column":4},"end":{"line":21,"column":5}}],"line":16},"1":{"loc":{"start":{"line":26,"column":4},"end":{"line":28,"column":5}},"type":"if","locations":[{"start":{"line":26,"column":4},"end":{"line":28,"column":5}},{"start":{"line":26,"column":4},"end":{"line":28,"column":5}}],"line":26},"2":{"loc":{"start":{"line":38,"column":16},"end":{"line":42,"column":17}},"type":"if","locations":[{"start":{"line":38,"column":16},"end":{"line":42,"column":17}},{"start":{"line":38,"column":16},"end":{"line":42,"column":17}}],"line":38},"3":{"loc":{"start":{"line":49,"column":4},"end":{"line":51,"column":5}},"type":"if","locations":[{"start":{"line":49,"column":4},"end":{"line":51,"column":5}},{"start":{"line":49,"column":4},"end":{"line":51,"column":5}}],"line":49},"4":{"loc":{"start":{"line":56,"column":4},"end":{"line":63,"column":5}},"type":"if","locations":[{"start":{"line":56,"column":4},"end":{"line":63,"column":5}},{"start":{"line":56,"column":4},"end":{"line":63,"column":5}}],"line":56},"5":{"loc":{"start":{"line":56,"column":8},"end":{"line":58,"column":58}},"type":"binary-expr","locations":[{"start":{"line":56,"column":9},"end":{"line":56,"column":31}},{"start":{"line":56,"column":37},"end":{"line":56,"column":58}},{"start":{"line":56,"column":64},"end":{"line":56,"column":89}},{"start":{"line":56,"column":95},"end":{"line":56,"column":118}},{"start":{"line":57,"column":12},"end":{"line":57,"column":32}},{"start":{"line":57,"column":38},"end":{"line":57,"column":57}},{"start":{"line":57,"column":63},"end":{"line":57,"column":83}},{"start":{"line":57,"column":89},"end":{"line":57,"column":109}},{"start":{"line":58,"column":12},"end":{"line":58,"column":33}},{"start":{"line":58,"column":39},"end":{"line":58,"column":57}}],"line":56}},"s":{"0":1,"1":1,"2":1,"3":64702,"4":64702,"5":64702,"6":64702,"7":64702,"8":64702,"9":64702,"10":64702,"11":64702,"12":64702,"13":64702,"14":24666,"15":40036,"16":64702,"17":21,"18":21,"19":0,"20":21,"21":21,"22":6016,"23":21,"24":21,"25":6016,"26":6016,"27":5997,"28":64702,"29":64702,"30":64702,"31":64702,"32":20,"33":21,"34":5,"35":1,"36":64702,"37":64702,"38":0,"39":64702},"f":{"0":64702,"1":21,"2":6016,"3":64702},"b":{"0":[24666,40036],"1":[0,21],"2":[64702,0],"3":[5,16],"4":[64702,0],"5":[64702,64702,64702,64702,64702,64702,64702,64702,64702,64702]},"inputSourceMap":{"version":3,"file":"D:/project_team077/src/controller/SectionHelper.ts","sources":["D:/project_team077/src/controller/SectionHelper.ts"],"names":[],"mappings":"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","sourcesContent":["import {ISection} from \"./ISection\";\r\nimport JSZip from \"jszip\";\r\nimport {InsightError} from \"./IInsightFacade\";\r\nimport {IRoom} from \"./IRoom\";\r\n\r\n\r\nfunction toSectionData(dataset_id: string, section: any) {\r\n\tlet newSection: ISection = {} as ISection;\r\n\tnewSection.uuid = section.id.toString();\r\n\tnewSection.id = section.Course;\r\n\tnewSection.title = section.Title;\r\n\tnewSection.instructor = section.Professor;\r\n\tnewSection.dept = section.Subject;\r\n\tnewSection.avg = section.Avg;\r\n\tnewSection.pass = section.Pass;\r\n\tnewSection.fail = section.Fail;\r\n\tnewSection.audit = section.Audit;\r\n\tif (section.Section === \"overall\"){\r\n\t\tnewSection.year = 1900;\r\n\t}else{\r\n\t\tnewSection.year = parseInt(section.Year, 10);\r\n\t}\r\n\treturn newSection;\r\n}\r\n\r\nasync function dealwithSection(id: string,zip: JSZip,dataList: ISection[] | IRoom[]){\r\n\tlet numOfRows = 0;\r\n\t// check if root folder is called \"courses\"\r\n\tif (zip.folder(/courses/).length !== 1) {\r\n\t\treturn Promise.reject(new InsightError(\"Rejected with invalid zip file\"));\r\n\t}\r\n\tlet promises: Array<Promise<string>> = [];\r\n\tzip.folder(\"courses\")?.forEach(function (relativePath, file) {\r\n\t\tpromises.push(file.async(\"string\"));\r\n\t});\r\n\tconst fileResults = await Promise.all(promises); // convert all to text file\r\n\tfor (let file of fileResults) {\r\n\t\ttry {\r\n\t\t\tconst course = JSON.parse(file);\r\n\t\t\t// check if exists valid sections among all courses\r\n\t\t\tfor (const section of course.result) {\r\n\t\t\t\tif (validateSection(section)) {\r\n\t\t\t\t\tnumOfRows++;\r\n\t\t\t\t\t// a dataset is valid if it contains at least one valid section,so we can convert JSON data to javascript data\r\n\t\t\t\t\tlet newSection = toSectionData(id, section);\r\n\t\t\t\t\t(dataList as ISection[]).push(newSection);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log(\"cannot parse the file\");\r\n\t\t}\r\n\t}\r\n\tif (numOfRows === 0) {\r\n\t\treturn Promise.reject(new InsightError(\"Rejected with invalid content\"));\r\n\t}\r\n\r\n}\r\n\r\nfunction validateSection(section: any) {\r\n\tlet isValid;\r\n\tif ((section.Course != null) && (section.Title != null) && (section.Professor != null) && (section.Subject != null)\r\n\t\t&& (section.Year != null) && (section.Avg != null) && (section.Pass != null) && (section.Fail != null )\r\n\t\t&& (section.Audit != null) && (section.id != null )) {\r\n\t\tisValid = true;\r\n\t} else {\r\n\t\tisValid = false;\r\n\t}\r\n\treturn isValid;\r\n}\r\n\r\nexport {dealwithSection};\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"7fc779a090420ad09803ed552bdef7c0a737e6ba","contentHash":"4496d80e5402c934d2b858299c5e59012a8d4b52b6fcc9c6e8bff29e9df54894"}}